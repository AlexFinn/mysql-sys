<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>mysql-sys by MarkLeith</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">mysql-sys</h1>
      <h2 class="project-tagline">The MySQL sys schema</h2>
      <a href="https://github.com/MarkLeith/mysql-sys" class="btn">View on GitHub</a>
      <a href="https://github.com/MarkLeith/mysql-sys/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/MarkLeith/mysql-sys/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="the-mysql-sys-schema" class="anchor" href="#the-mysql-sys-schema" aria-hidden="true"><span class="octicon octicon-link"></span></a>The MySQL sys schema</h1>

<p>A collection of views, functions and procedures to help MySQL administrators get insight in to MySQL Database usage.</p>

<p>There are install files available for 5.6 and 5.7 respectively. To load these, you must position yourself within the directory that you downloaded to, as these top level files SOURCE individual files that are shared across versions in most cases (though not all).</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>The objects should all be created as the root user (but run with the privileges of the invoker).</p>

<p>For instance if you download to /tmp/mysql-sys/, and want to install the 5.6 version you should:</p>

<pre><code>cd /tmp/mysql-sys/
mysql -u root -p &lt; ./sys_56.sql
</code></pre>

<p>Or if you would like to log in to the client, and install the 5.7 version:</p>

<pre><code>cd /tmp/mysql-sys/
mysql -u root -p 
SOURCE ./sys_57.sql
</code></pre>

<p>Alternatively, you could just choose to load individual files based on your needs, but beware, certain objects have dependencies on other objects. You will need to ensure that these are also loaded.</p>

<h3>
<a id="generating-a-single-sql-file" class="anchor" href="#generating-a-single-sql-file" aria-hidden="true"><span class="octicon octicon-link"></span></a>Generating a single SQL file</h3>

<p>There is bash script within the root of the branch directory, called <code>generate_sql_file.sh</code>, that allows you to create a single SQL file from the branch.</p>

<p>This includes substitution parameters for the MySQL user to use, and whether to include or exclude <code>SET sql_log_bin</code> commands from the scripts. This is particularly useful for installations such as Amazon RDS, which do not have the root@localhost user, or disallow setting sql_log_bin.</p>

<p>When run, this outputs a file named such as <code>sys_&lt;sys_version&gt;_&lt;mysql_version_identifier&gt;_inline.sql</code>, i.e. <code>sys_1.2.0_56_inline.sql</code> is sys version 1.2.0, built for MySQL 5.6.</p>

<h4>
<a id="options" class="anchor" href="#options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Options</h4>

<ul>
<li>v: The version of MySQL to build the sys schema for, either '56' or '57'</li>
<li>b: Whether to omit any lines that deal with sql_log_bin (useful for RDS)</li>
<li>u: The user to set as the owner of the objects (useful for RDS)</li>
<li>m: Whether to generate a mysql_install_db / mysqld --initialize formatted file</li>
</ul>

<h4>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examples</h4>

<p>Generate a MySQL 5.7 SQL file that uses the 'mark'@'localhost' user:</p>

<pre><code>./generate_sql_file.sh -v 57 -u "'mark'@'localhost'"
</code></pre>

<p>Generate a MySQL 5.6 SQL file for RDS:</p>

<pre><code>./generate_sql_file.sh -v 56 -b -u CURRENT_USER
</code></pre>

<p>Generate a MySQL 5.7 bootstrap file:</p>

<pre><code>./generate_sql_file.sh -v 57 -m
</code></pre>

<h2>
<a id="overview-of-objects" class="anchor" href="#overview-of-objects" aria-hidden="true"><span class="octicon octicon-link"></span></a>Overview of objects</h2>

<h3>
<a id="tables" class="anchor" href="#tables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tables</h3>

<h4>
<a id="sys_config" class="anchor" href="#sys_config" aria-hidden="true"><span class="octicon octicon-link"></span></a>sys_config</h4>

<h5>
<a id="description" class="anchor" href="#description" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Holds configuration options for the sys schema. This is a persistent table (using the <code>InnoDB</code> storage engine), with the configuration persisting across upgrades (new options are added with <code>INSERT IGNORE</code>). </p>

<p>The table also has two related triggers, which maintain the user that <code>INSERTs</code> or <code>UPDATEs</code> the configuration - <code>sys_config_insert_set_user</code> and <code>sys_config_update_set_user</code> respectively.</p>

<p>Its structure is as follows:</p>

<div class="highlight highlight-source-sql"><pre><span class="pl-k">+</span><span class="pl-c">----------+--------------+------+-----+-------------------+-----------------------------+</span>
| Field    | Type         | <span class="pl-k">Null</span> | Key | Default           | Extra                       |
<span class="pl-k">+</span><span class="pl-c">----------+--------------+------+-----+-------------------+-----------------------------+</span>
| variable | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>) | NO   | PRI | <span class="pl-k">NULL</span>              |                             |
| value    | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>) | YES  |     | <span class="pl-k">NULL</span>              |                             |
| set_time | <span class="pl-k">timestamp</span>    | NO   |     | <span class="pl-c1">CURRENT_TIMESTAMP</span> | <span class="pl-k">on</span> <span class="pl-k">update</span> <span class="pl-c1">CURRENT_TIMESTAMP</span> |
| set_by   | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>) | YES  |     | <span class="pl-k">NULL</span>              |                             |
<span class="pl-k">+</span><span class="pl-c">----------+--------------+------+-----+-------------------+-----------------------------+</span></pre></div>

<p>Note, when functions check for configuration options, they first check whether a similar named user variable exists with a value, and if this is not set then pull the configuration option from this table in to that named user variable. This is done for performance reasons (to not continually <code>SELECT</code> from the table), however this comes with the side effect that once inited, the values last with the session, somewhat like how session variables are inited from global variables. If the values within this table are changed, they will not take effect until the user logs in again.</p>

<h5>
<a id="options-included" class="anchor" href="#options-included" aria-hidden="true"><span class="octicon octicon-link"></span></a>Options included</h5>

<table>
<thead>
<tr>
<th>Variable</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>statement_truncate_len</td>
<td>64</td>
<td>Sets the size to truncate statements to, for the <code>format_statement()</code> function.</td>
</tr>
<tr>
<td>statement_performance_analyzer.limit</td>
<td>100</td>
<td>The maximum number of rows to include for the views that does not have a built-in limit (e.g. the 95th percentile view). If not set the limit is 100.</td>
</tr>
<tr>
<td>statement_performance_analyzer.view</td>
<td>NULL</td>
<td>Used together with the 'custom' view. If the value contains a space, it is considered a query, otherwise it must be an existing view querying the performance_schema.events_statements_summary_by_digest table.</td>
</tr>
<tr>
<td>diagnostics.allow_i_s_tables</td>
<td>OFF</td>
<td>Specifies whether it is allowed to do table scan queries on information_schema.TABLES for the <code>diagnostics</code> procedure.</td>
</tr>
<tr>
<td>diagnostics.include_raw</td>
<td>OFF</td>
<td>Set to 'ON' to include the raw data (e.g. the original output of "SELECT * FROM sys.metrics") for the <code>diagnostics</code> procedure.</td>
</tr>
<tr>
<td>ps_thread_trx_info.max_length</td>
<td>65535</td>
<td>Sets the maximum output length for JSON object output by the <code>ps_thread_trx_info()</code> function.</td>
</tr>
</tbody>
</table>

<h3>
<a id="views" class="anchor" href="#views" aria-hidden="true"><span class="octicon octicon-link"></span></a>Views</h3>

<p>Many of the views in the sys schema have both a command line user friendly format output, as well as tooling friendly versions of any view that contains formatted output duplicated as an x$ table.</p>

<p>The examples below show output for only the formatted views, and note where there is an x$ counterpart available.</p>

<h4>
<a id="host_summary--xhost_summary" class="anchor" href="#host_summary--xhost_summary" aria-hidden="true"><span class="octicon octicon-link"></span></a>host_summary / x$host_summary</h4>

<h5>
<a id="description-1" class="anchor" href="#description-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes statement activity, file IO and connections by host.</p>

<p>When the host found is NULL, it is assumed to be a "background" thread.</p>

<h5>
<a id="structures-57" class="anchor" href="#structures-57" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures (5.7)</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> host_summary;
<span class="pl-k">+</span><span class="pl-c">------------------------+---------------+------+-----+---------+-------+</span>
| Field                  | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">------------------------+---------------+------+-----+---------+-------+</span>
| host                   | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| statements             | <span class="pl-k">decimal</span>(<span class="pl-c1">64</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement_latency      | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement_avg_latency  | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| table_scans            | <span class="pl-k">decimal</span>(<span class="pl-c1">65</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| file_ios               | <span class="pl-k">decimal</span>(<span class="pl-c1">64</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| file_io_latency        | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_connections    | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_connections      | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| unique_users           | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| current_memory         | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_memory_allocated | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">------------------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">12</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">15</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$host_summary;
<span class="pl-k">+</span><span class="pl-c">------------------------+---------------+------+-----+---------+-------+</span>
| Field                  | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">------------------------+---------------+------+-----+---------+-------+</span>
| host                   | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| statements             | <span class="pl-k">decimal</span>(<span class="pl-c1">64</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement_latency      | <span class="pl-k">decimal</span>(<span class="pl-c1">64</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement_avg_latency  | <span class="pl-k">decimal</span>(<span class="pl-c1">65</span>,<span class="pl-c1">4</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| table_scans            | <span class="pl-k">decimal</span>(<span class="pl-c1">65</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| file_ios               | <span class="pl-k">decimal</span>(<span class="pl-c1">64</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| file_io_latency        | <span class="pl-k">decimal</span>(<span class="pl-c1">64</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_connections    | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_connections      | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| unique_users           | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| current_memory         | <span class="pl-k">decimal</span>(<span class="pl-c1">63</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_memory_allocated | <span class="pl-k">decimal</span>(<span class="pl-c1">64</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">------------------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">12</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h5>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>  mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> host_summary;
  <span class="pl-k">+</span><span class="pl-c">------+------------+-------------------+-----------------------+-------------+----------+-----------------+---------------------+-------------------+--------------+</span>
  | host | statements | statement_latency | statement_avg_latency | table_scans | file_ios | file_io_latency | current_connections | total_connections | unique_users |
  <span class="pl-k">+</span><span class="pl-c">------+------------+-------------------+-----------------------+-------------+----------+-----------------+---------------------+-------------------+--------------+</span>
  | hal1 |       <span class="pl-c1">2924</span> | <span class="pl-c1">00</span>:<span class="pl-c1">03</span>:<span class="pl-c1">59</span>.<span class="pl-c1">53</span>       | <span class="pl-c1">81</span>.<span class="pl-c1">92</span> ms              |          <span class="pl-c1">82</span> |    <span class="pl-c1">54702</span> | <span class="pl-c1">55</span>.<span class="pl-c1">61</span> s         |                   <span class="pl-c1">1</span> |                 <span class="pl-c1">1</span> |            <span class="pl-c1">1</span> |
  <span class="pl-k">+</span><span class="pl-c">------+------------+-------------------+-----------------------+-------------+----------+-----------------+---------------------+-------------------+--------------+</span></pre></div>

<h4>
<a id="host_summary_by_file_io--xhost_summary_by_file_io" class="anchor" href="#host_summary_by_file_io--xhost_summary_by_file_io" aria-hidden="true"><span class="octicon octicon-link"></span></a>host_summary_by_file_io / x$host_summary_by_file_io</h4>

<h5>
<a id="description-2" class="anchor" href="#description-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes file IO totals per host.</p>

<p>When the host found is NULL, it is assumed to be a "background" thread.</p>

<h5>
<a id="structures" class="anchor" href="#structures" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> host_summary_by_file_io;
<span class="pl-k">+</span><span class="pl-c">------------+---------------+------+-----+---------+-------+</span>
| Field      | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">------------+---------------+------+-----+---------+-------+</span>
| host       | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| ios        | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_latency | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">3</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$host_summary_by_file_io;
<span class="pl-k">+</span><span class="pl-c">------------+---------------+------+-----+---------+-------+</span>
| Field      | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">------------+---------------+------+-----+---------+-------+</span>
| host       | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| ios        | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_latency | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">3</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">06</span> sec)</pre></div>

<h5>
<a id="example-1" class="anchor" href="#example-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>  mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> host_summary_by_file_io;
  <span class="pl-k">+</span><span class="pl-c">------------+-------+------------+</span>
  | host       | ios   | io_latency |
  <span class="pl-k">+</span><span class="pl-c">------------+-------+------------+</span>
  | hal1       | <span class="pl-c1">26457</span> | <span class="pl-c1">21</span>.<span class="pl-c1">58</span> s    |
  | hal2       |  <span class="pl-c1">1189</span> | <span class="pl-c1">394</span>.<span class="pl-c1">21</span> ms  |
  <span class="pl-k">+</span><span class="pl-c">------------+-------+------------+</span></pre></div>

<h4>
<a id="host_summary_by_file_io_type--xhost_summary_by_file_io_type" class="anchor" href="#host_summary_by_file_io_type--xhost_summary_by_file_io_type" aria-hidden="true"><span class="octicon octicon-link"></span></a>host_summary_by_file_io_type / x$host_summary_by_file_io_type</h4>

<h5>
<a id="description-3" class="anchor" href="#description-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes file IO by event type per host.</p>

<p>When the host found is NULL, it is assumed to be a "background" thread.</p>

<h5>
<a id="structures-1" class="anchor" href="#structures-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> host_summary_by_file_io_type;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| host          | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| event_name    | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">5</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">70</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$host_summary_by_file_io_type;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| host          | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| event_name    | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">5</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)</pre></div>

<h5>
<a id="example-2" class="anchor" href="#example-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>  mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> host_summary_by_file_io_type;
  <span class="pl-k">+</span><span class="pl-c">------------+--------------------------------------+-------+---------------+-------------+</span>
  | host       | event_name                           | total | total_latency | max_latency |
  <span class="pl-k">+</span><span class="pl-c">------------+--------------------------------------+-------+---------------+-------------+</span>
  | hal1       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>FRM                 |   <span class="pl-c1">871</span> | <span class="pl-c1">168</span>.<span class="pl-c1">15</span> ms     | <span class="pl-c1">18</span>.<span class="pl-c1">48</span> ms    |
  | hal1       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>innodb<span class="pl-k">/</span>innodb_data_file |   <span class="pl-c1">173</span> | <span class="pl-c1">129</span>.<span class="pl-c1">56</span> ms     | <span class="pl-c1">34</span>.<span class="pl-c1">09</span> ms    |
  | hal1       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>innodb<span class="pl-k">/</span>innodb_log_file  |    <span class="pl-c1">20</span> | <span class="pl-c1">77</span>.<span class="pl-c1">53</span> ms      | <span class="pl-c1">60</span>.<span class="pl-c1">66</span> ms    |
  | hal1       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>myisam<span class="pl-k">/</span>dfile            |    <span class="pl-c1">40</span> | <span class="pl-c1">6</span>.<span class="pl-c1">54</span> ms       | <span class="pl-c1">4</span>.<span class="pl-c1">58</span> ms     |
  | hal1       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>mysys<span class="pl-k">/</span>charset           |     <span class="pl-c1">3</span> | <span class="pl-c1">4</span>.<span class="pl-c1">79</span> ms       | <span class="pl-c1">4</span>.<span class="pl-c1">71</span> ms     |
  | hal1       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>myisam<span class="pl-k">/</span>kfile            |    <span class="pl-c1">67</span> | <span class="pl-c1">4</span>.<span class="pl-c1">38</span> ms       | <span class="pl-c1">300</span>.<span class="pl-c1">04</span> us   |
  | hal1       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>ERRMSG              |     <span class="pl-c1">5</span> | <span class="pl-c1">2</span>.<span class="pl-c1">72</span> ms       | <span class="pl-c1">1</span>.<span class="pl-c1">69</span> ms     |
  | hal1       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>pid                 |     <span class="pl-c1">3</span> | <span class="pl-c1">266</span>.<span class="pl-c1">30</span> us     | <span class="pl-c1">185</span>.<span class="pl-c1">47</span> us   |
  | hal1       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>casetest            |     <span class="pl-c1">5</span> | <span class="pl-c1">246</span>.<span class="pl-c1">81</span> us     | <span class="pl-c1">150</span>.<span class="pl-c1">19</span> us   |
  | hal1       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>global_ddl_log      |     <span class="pl-c1">2</span> | <span class="pl-c1">21</span>.<span class="pl-c1">24</span> us      | <span class="pl-c1">18</span>.<span class="pl-c1">59</span> us    |
  | hal2       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>file_parser         |  <span class="pl-c1">1422</span> | <span class="pl-c1">4</span>.<span class="pl-c1">80</span> s        | <span class="pl-c1">135</span>.<span class="pl-c1">14</span> ms   |
  | hal2       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>FRM                 |   <span class="pl-c1">865</span> | <span class="pl-c1">85</span>.<span class="pl-c1">82</span> ms      | <span class="pl-c1">9</span>.<span class="pl-c1">81</span> ms     |
  | hal2       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>myisam<span class="pl-k">/</span>kfile            |  <span class="pl-c1">1073</span> | <span class="pl-c1">37</span>.<span class="pl-c1">14</span> ms      | <span class="pl-c1">15</span>.<span class="pl-c1">79</span> ms    |
  | hal2       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>myisam<span class="pl-k">/</span>dfile            |  <span class="pl-c1">2991</span> | <span class="pl-c1">25</span>.<span class="pl-c1">53</span> ms      | <span class="pl-c1">5</span>.<span class="pl-c1">25</span> ms     |
  | hal2       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>dbopt               |    <span class="pl-c1">20</span> | <span class="pl-c1">1</span>.<span class="pl-c1">07</span> ms       | <span class="pl-c1">153</span>.<span class="pl-c1">07</span> us   |
  | hal2       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>misc                |     <span class="pl-c1">4</span> | <span class="pl-c1">59</span>.<span class="pl-c1">71</span> us      | <span class="pl-c1">33</span>.<span class="pl-c1">75</span> us    |
  | hal2       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>archive<span class="pl-k">/</span>data            |     <span class="pl-c1">1</span> | <span class="pl-c1">13</span>.<span class="pl-c1">91</span> us      | <span class="pl-c1">13</span>.<span class="pl-c1">91</span> us    |
  <span class="pl-k">+</span><span class="pl-c">------------+--------------------------------------+-------+---------------+-------------+</span></pre></div>

<h4>
<a id="host_summary_by_stages--xhost_summary_by_stages" class="anchor" href="#host_summary_by_stages--xhost_summary_by_stages" aria-hidden="true"><span class="octicon octicon-link"></span></a>host_summary_by_stages / x$host_summary_by_stages</h4>

<h5>
<a id="description-4" class="anchor" href="#description-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes stages by host, ordered by host and total latency per stage.</p>

<p>When the host found is NULL, it is assumed to be a "background" thread.</p>

<h5>
<a id="structures-2" class="anchor" href="#structures-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> host_summary_by_stages;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| host          | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| event_name    | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">5</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">06</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$host_summary_by_stages;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| host          | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| event_name    | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">5</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">81</span> sec)</pre></div>

<h5>
<a id="example-3" class="anchor" href="#example-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>  mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span>  <span class="pl-k">from</span> host_summary_by_stages;
  <span class="pl-k">+</span><span class="pl-c">------+--------------------------------+-------+---------------+-------------+</span>
  | host | event_name                     | total | total_latency | avg_latency |
  <span class="pl-k">+</span><span class="pl-c">------+--------------------------------+-------+---------------+-------------+</span>
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>Opening tables       |   <span class="pl-c1">889</span> | <span class="pl-c1">1</span>.<span class="pl-c1">97</span> ms       | <span class="pl-c1">2</span>.<span class="pl-c1">22</span> us     |
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>Creating sort index  |     <span class="pl-c1">4</span> | <span class="pl-c1">1</span>.<span class="pl-c1">79</span> ms       | <span class="pl-c1">446</span>.<span class="pl-c1">30</span> us   |
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>init                 |    <span class="pl-c1">10</span> | <span class="pl-c1">312</span>.<span class="pl-c1">27</span> us     | <span class="pl-c1">31</span>.<span class="pl-c1">23</span> us    |
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>checking permissions |    <span class="pl-c1">10</span> | <span class="pl-c1">300</span>.<span class="pl-c1">62</span> us     | <span class="pl-c1">30</span>.<span class="pl-c1">06</span> us    |
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>freeing items        |     <span class="pl-c1">5</span> | <span class="pl-c1">85</span>.<span class="pl-c1">89</span> us      | <span class="pl-c1">17</span>.<span class="pl-c1">18</span> us    |
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>statistics           |     <span class="pl-c1">5</span> | <span class="pl-c1">79</span>.<span class="pl-c1">15</span> us      | <span class="pl-c1">15</span>.<span class="pl-c1">83</span> us    |
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>preparing            |     <span class="pl-c1">5</span> | <span class="pl-c1">69</span>.<span class="pl-c1">12</span> us      | <span class="pl-c1">13</span>.<span class="pl-c1">82</span> us    |
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>optimizing           |     <span class="pl-c1">5</span> | <span class="pl-c1">53</span>.<span class="pl-c1">11</span> us      | <span class="pl-c1">10</span>.<span class="pl-c1">62</span> us    |
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>Sending data         |     <span class="pl-c1">5</span> | <span class="pl-c1">44</span>.<span class="pl-c1">66</span> us      | <span class="pl-c1">8</span>.<span class="pl-c1">93</span> us     |
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>closing tables       |     <span class="pl-c1">5</span> | <span class="pl-c1">37</span>.<span class="pl-c1">54</span> us      | <span class="pl-c1">7</span>.<span class="pl-c1">51</span> us     |
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>System lock          |     <span class="pl-c1">5</span> | <span class="pl-c1">34</span>.<span class="pl-c1">28</span> us      | <span class="pl-c1">6</span>.<span class="pl-c1">86</span> us     |
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>query end            |     <span class="pl-c1">5</span> | <span class="pl-c1">24</span>.<span class="pl-c1">37</span> us      | <span class="pl-c1">4</span>.<span class="pl-c1">87</span> us     |
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>end                  |     <span class="pl-c1">5</span> | <span class="pl-c1">8</span>.<span class="pl-c1">60</span> us       | <span class="pl-c1">1</span>.<span class="pl-c1">72</span> us     |
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>Sorting result       |     <span class="pl-c1">5</span> | <span class="pl-c1">8</span>.<span class="pl-c1">33</span> us       | <span class="pl-c1">1</span>.<span class="pl-c1">67</span> us     |
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>executing            |     <span class="pl-c1">5</span> | <span class="pl-c1">5</span>.<span class="pl-c1">37</span> us       | <span class="pl-c1">1</span>.<span class="pl-c1">07</span> us     |
  | hal  | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>cleaning up          |     <span class="pl-c1">5</span> | <span class="pl-c1">4</span>.<span class="pl-c1">60</span> us       | <span class="pl-c1">919</span>.<span class="pl-c1">00</span> ns   |
  <span class="pl-k">+</span><span class="pl-c">------+--------------------------------+-------+---------------+-------------+</span></pre></div>

<h4>
<a id="host_summary_by_statement_latency--xhost_summary_by_statement_latency" class="anchor" href="#host_summary_by_statement_latency--xhost_summary_by_statement_latency" aria-hidden="true"><span class="octicon octicon-link"></span></a>host_summary_by_statement_latency / x$host_summary_by_statement_latency</h4>

<h5>
<a id="description-5" class="anchor" href="#description-5" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes overall statement statistics by host.</p>

<p>When the host found is NULL, it is assumed to be a "background" thread.</p>

<h5>
<a id="structures-3" class="anchor" href="#structures-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> host_summary_by_statement_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| Field         | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| host          | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| lock_latency  | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_sent     | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_examined | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_affected | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| full_scans    | <span class="pl-k">decimal</span>(<span class="pl-c1">43</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">9</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">29</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$host_summary_by_statement_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| Field         | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| host          | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| lock_latency  | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_sent     | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_examined | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_affected | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| full_scans    | <span class="pl-k">decimal</span>(<span class="pl-c1">43</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">9</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">54</span> sec)</pre></div>

<h5>
<a id="example-4" class="anchor" href="#example-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>  mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> host_summary_by_statement_latency;
  <span class="pl-k">+</span><span class="pl-c">------+-------+---------------+-------------+--------------+-----------+---------------+---------------+------------+</span>
  | host | total | total_latency | max_latency | lock_latency | rows_sent | rows_examined | rows_affected | full_scans |
  <span class="pl-k">+</span><span class="pl-c">------+-------+---------------+-------------+--------------+-----------+---------------+---------------+------------+</span>
  | hal  |  <span class="pl-c1">3381</span> | <span class="pl-c1">00</span>:<span class="pl-c1">02</span>:<span class="pl-c1">09</span>.<span class="pl-c1">13</span>   | <span class="pl-c1">1</span>.<span class="pl-c1">48</span> s      | <span class="pl-c1">1</span>.<span class="pl-c1">07</span> s       |      <span class="pl-c1">1151</span> |         <span class="pl-c1">93947</span> |           <span class="pl-c1">150</span> |         <span class="pl-c1">91</span> |
  <span class="pl-k">+</span><span class="pl-c">------+-------+---------------+-------------+--------------+-----------+---------------+---------------+------------+</span></pre></div>

<h4>
<a id="host_summary_by_statement_type--xhost_summary_by_statement_type" class="anchor" href="#host_summary_by_statement_type--xhost_summary_by_statement_type" aria-hidden="true"><span class="octicon octicon-link"></span></a>host_summary_by_statement_type / x$host_summary_by_statement_type</h4>

<h5>
<a id="description-6" class="anchor" href="#description-6" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes the types of statements executed by each host.</p>

<p>When the host found is NULL, it is assumed to be a "background" thread.</p>

<h5>
<a id="structures-4" class="anchor" href="#structures-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> host_summary_by_statement_type;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| host          | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement     | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| lock_latency  | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_sent     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_examined | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_affected | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| full_scans    | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>       |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">10</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">30</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$host_summary_by_statement_type;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| host          | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement     | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| lock_latency  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_sent     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_examined | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_affected | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| full_scans    | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>       |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">10</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">76</span> sec)</pre></div>

<h5>
<a id="example-5" class="anchor" href="#example-5" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>  mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> host_summary_by_statement_type;
  <span class="pl-k">+</span><span class="pl-c">------+----------------------+--------+---------------+-------------+--------------+-----------+---------------+---------------+------------+</span>
  | host | statement            | total  | total_latency | max_latency | lock_latency | rows_sent | rows_examined | rows_affected | full_scans |
  <span class="pl-k">+</span><span class="pl-c">------+----------------------+--------+---------------+-------------+--------------+-----------+---------------+---------------+------------+</span>
  | hal  | create_view          |   <span class="pl-c1">2063</span> | <span class="pl-c1">00</span>:<span class="pl-c1">05</span>:<span class="pl-c1">04</span>.<span class="pl-c1">20</span>   | <span class="pl-c1">463</span>.<span class="pl-c1">58</span> ms   | <span class="pl-c1">1</span>.<span class="pl-c1">42</span> s       |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |          <span class="pl-c1">0</span> |
  | hal  | <span class="pl-k">select</span>               |    <span class="pl-c1">174</span> | <span class="pl-c1">40</span>.<span class="pl-c1">87</span> s       | <span class="pl-c1">28</span>.<span class="pl-c1">83</span> s     | <span class="pl-c1">858</span>.<span class="pl-c1">13</span> ms    |      <span class="pl-c1">5212</span> |        <span class="pl-c1">157022</span> |             <span class="pl-c1">0</span> |         <span class="pl-c1">82</span> |
  | hal  | stmt                 |   <span class="pl-c1">6645</span> | <span class="pl-c1">15</span>.<span class="pl-c1">31</span> s       | <span class="pl-c1">491</span>.<span class="pl-c1">78</span> ms   | <span class="pl-c1">0</span> ps         |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |          <span class="pl-c1">7951</span> |          <span class="pl-c1">0</span> |
  | hal  | call_procedure       |     <span class="pl-c1">17</span> | <span class="pl-c1">4</span>.<span class="pl-c1">78</span> s        | <span class="pl-c1">1</span>.<span class="pl-c1">02</span> s      | <span class="pl-c1">37</span>.<span class="pl-c1">94</span> ms     |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |            <span class="pl-c1">19</span> |          <span class="pl-c1">0</span> |
  | hal  | create_table         |     <span class="pl-c1">19</span> | <span class="pl-c1">3</span>.<span class="pl-c1">04</span> s        | <span class="pl-c1">431</span>.<span class="pl-c1">71</span> ms   | <span class="pl-c1">0</span> ps         |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |          <span class="pl-c1">0</span> |
  ...
  <span class="pl-k">+</span><span class="pl-c">------+----------------------+--------+---------------+-------------+--------------+-----------+---------------+---------------+------------+</span></pre></div>

<h4>
<a id="innodb_buffer_stats_by_schema--xinnodb_buffer_stats_by_schema" class="anchor" href="#innodb_buffer_stats_by_schema--xinnodb_buffer_stats_by_schema" aria-hidden="true"><span class="octicon octicon-link"></span></a>innodb_buffer_stats_by_schema / x$innodb_buffer_stats_by_schema</h4>

<h5>
<a id="description-7" class="anchor" href="#description-7" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes the output of the INFORMATION_SCHEMA.INNODB_BUFFER_PAGE table, aggregating by schema.</p>

<h5>
<a id="structures-5" class="anchor" href="#structures-5" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> innodb_buffer_stats_by_schema;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| Field         | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| object_schema | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| allocated     | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| data          | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| pages         | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| pages_hashed  | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| pages_old     | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| rows_cached   | <span class="pl-k">decimal</span>(<span class="pl-c1">44</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">7</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">08</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$innodb_buffer_stats_by_schema;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| Field         | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| object_schema | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| allocated     | <span class="pl-k">decimal</span>(<span class="pl-c1">43</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| data          | <span class="pl-k">decimal</span>(<span class="pl-c1">43</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| pages         | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| pages_hashed  | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| pages_old     | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| rows_cached   | <span class="pl-k">decimal</span>(<span class="pl-c1">44</span>,<span class="pl-c1">0</span>) | NO   |     | <span class="pl-c1">0</span>       |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">7</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">12</span> sec)</pre></div>

<h5>
<a id="example-6" class="anchor" href="#example-6" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> innodb_buffer_stats_by_schema;
<span class="pl-k">+</span><span class="pl-c">--------------------------+------------+------------+-------+--------------+-----------+-------------+</span>
| object_schema            | allocated  | data       | pages | pages_hashed | pages_old | rows_cached |
<span class="pl-k">+</span><span class="pl-c">--------------------------+------------+------------+-------+--------------+-----------+-------------+</span>
| mem30_trunk__instruments | <span class="pl-c1">1</span>.<span class="pl-c1">69</span> MiB   | <span class="pl-c1">510</span>.<span class="pl-c1">03</span> KiB |   <span class="pl-c1">108</span> |          <span class="pl-c1">108</span> |       <span class="pl-c1">108</span> |        <span class="pl-c1">3885</span> |
| InnoDB System            | <span class="pl-c1">688</span>.<span class="pl-c1">00</span> KiB | <span class="pl-c1">351</span>.<span class="pl-c1">62</span> KiB |    <span class="pl-c1">43</span> |           <span class="pl-c1">43</span> |        <span class="pl-c1">43</span> |         <span class="pl-c1">862</span> |
| mem30_trunk__events      | <span class="pl-c1">80</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">21</span>.<span class="pl-c1">61</span> KiB  |     <span class="pl-c1">5</span> |            <span class="pl-c1">5</span> |         <span class="pl-c1">5</span> |         <span class="pl-c1">229</span> |
<span class="pl-k">+</span><span class="pl-c">--------------------------+------------+------------+-------+--------------+-----------+-------------+</span></pre></div>

<h4>
<a id="innodb_buffer_stats_by_table--xinnodb_buffer_stats_by_table" class="anchor" href="#innodb_buffer_stats_by_table--xinnodb_buffer_stats_by_table" aria-hidden="true"><span class="octicon octicon-link"></span></a>innodb_buffer_stats_by_table / x$innodb_buffer_stats_by_table</h4>

<h5>
<a id="description-8" class="anchor" href="#description-8" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes the output of the INFORMATION_SCHEMA.INNODB_BUFFER_PAGE table, aggregating by schema and table name.</p>

<h5>
<a id="structures-6" class="anchor" href="#structures-6" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> innodb_buffer_stats_by_table;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| Field         | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| object_schema | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| object_name   | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| allocated     | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| data          | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| pages         | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| pages_hashed  | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| pages_old     | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| rows_cached   | <span class="pl-k">decimal</span>(<span class="pl-c1">44</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">8</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">09</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$innodb_buffer_stats_by_table;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| Field         | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| object_schema | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| object_name   | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| allocated     | <span class="pl-k">decimal</span>(<span class="pl-c1">43</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| data          | <span class="pl-k">decimal</span>(<span class="pl-c1">43</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| pages         | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| pages_hashed  | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| pages_old     | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| rows_cached   | <span class="pl-k">decimal</span>(<span class="pl-c1">44</span>,<span class="pl-c1">0</span>) | NO   |     | <span class="pl-c1">0</span>       |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">8</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">18</span> sec)</pre></div>

<h5>
<a id="example-7" class="anchor" href="#example-7" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> innodb_buffer_stats_by_table;
<span class="pl-k">+</span><span class="pl-c">--------------------------+------------------------------------+------------+-----------+-------+--------------+-----------+-------------+</span>
| object_schema            | object_name                        | allocated  | data      | pages | pages_hashed | pages_old | rows_cached |
<span class="pl-k">+</span><span class="pl-c">--------------------------+------------------------------------+------------+-----------+-------+--------------+-----------+-------------+</span>
| InnoDB System            | SYS_COLUMNS                        | <span class="pl-c1">128</span>.<span class="pl-c1">00</span> KiB | <span class="pl-c1">98</span>.<span class="pl-c1">97</span> KiB |     <span class="pl-c1">8</span> |            <span class="pl-c1">8</span> |         <span class="pl-c1">8</span> |        <span class="pl-c1">1532</span> |
| InnoDB System            | SYS_FOREIGN                        | <span class="pl-c1">128</span>.<span class="pl-c1">00</span> KiB | <span class="pl-c1">55</span>.<span class="pl-c1">48</span> KiB |     <span class="pl-c1">8</span> |            <span class="pl-c1">8</span> |         <span class="pl-c1">8</span> |         <span class="pl-c1">172</span> |
| InnoDB System            | SYS_TABLES                         | <span class="pl-c1">128</span>.<span class="pl-c1">00</span> KiB | <span class="pl-c1">56</span>.<span class="pl-c1">18</span> KiB |     <span class="pl-c1">8</span> |            <span class="pl-c1">8</span> |         <span class="pl-c1">8</span> |         <span class="pl-c1">365</span> |
| InnoDB System            | SYS_INDEXES                        | <span class="pl-c1">112</span>.<span class="pl-c1">00</span> KiB | <span class="pl-c1">76</span>.<span class="pl-c1">16</span> KiB |     <span class="pl-c1">7</span> |            <span class="pl-c1">7</span> |         <span class="pl-c1">7</span> |        <span class="pl-c1">1046</span> |
| mem30_trunk__instruments | agentlatencytime                   | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">28</span>.<span class="pl-c1">83</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |         <span class="pl-c1">252</span> |
| mem30_trunk__instruments | binlogspaceusagedata               | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">22</span>.<span class="pl-c1">54</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |         <span class="pl-c1">196</span> |
| mem30_trunk__instruments | connectionsdata                    | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">36</span>.<span class="pl-c1">68</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |         <span class="pl-c1">276</span> |
| mem30_trunk__instruments | connectionsmaxdata                 | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">31</span>.<span class="pl-c1">88</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |         <span class="pl-c1">271</span> |
| mem30_trunk__instruments | cpuaverage                         | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">14</span>.<span class="pl-c1">32</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |          <span class="pl-c1">55</span> |
| mem30_trunk__instruments | diskiototaldata                    | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">42</span>.<span class="pl-c1">71</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |         <span class="pl-c1">152</span> |
| mem30_trunk__instruments | innodbopenfilesdata                | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">32</span>.<span class="pl-c1">61</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |         <span class="pl-c1">266</span> |
| mem30_trunk__instruments | innodbrowlocktimestatisticsdata    | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">32</span>.<span class="pl-c1">16</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |         <span class="pl-c1">261</span> |
| mem30_trunk__instruments | myisamkeybufferusagedata           | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">25</span>.<span class="pl-c1">99</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |         <span class="pl-c1">232</span> |
| mem30_trunk__instruments | mysqlprocessactivity               | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">31</span>.<span class="pl-c1">99</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |         <span class="pl-c1">252</span> |
| mem30_trunk__instruments | querycacheaveragefreeblocksizedata | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">27</span>.<span class="pl-c1">00</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |         <span class="pl-c1">237</span> |
| mem30_trunk__instruments | querycacheaveragequerysizedata     | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">38</span>.<span class="pl-c1">29</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |         <span class="pl-c1">315</span> |
| mem30_trunk__instruments | querycachefragmentationdata        | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">27</span>.<span class="pl-c1">00</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |         <span class="pl-c1">237</span> |
| mem30_trunk__instruments | querycachememorydata               | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">32</span>.<span class="pl-c1">58</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |         <span class="pl-c1">278</span> |
| mem30_trunk__instruments | querycachequeriesincachedata       | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">27</span>.<span class="pl-c1">15</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |         <span class="pl-c1">238</span> |
| mem30_trunk__instruments | ramusagedata                       | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">15</span>.<span class="pl-c1">02</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |          <span class="pl-c1">59</span> |
| mem30_trunk__instruments | slaverelaylogspaceusagedata        | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">28</span>.<span class="pl-c1">28</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |         <span class="pl-c1">249</span> |
| mem30_trunk__instruments | swapusagedata                      | <span class="pl-c1">96</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">15</span>.<span class="pl-c1">02</span> KiB |     <span class="pl-c1">6</span> |            <span class="pl-c1">6</span> |         <span class="pl-c1">6</span> |          <span class="pl-c1">59</span> |
| InnoDB System            | SYS_FIELDS                         | <span class="pl-c1">80</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">49</span>.<span class="pl-c1">78</span> KiB |     <span class="pl-c1">5</span> |            <span class="pl-c1">5</span> |         <span class="pl-c1">5</span> |        <span class="pl-c1">1147</span> |
| InnoDB System            | SYS_DATAFILES                      | <span class="pl-c1">32</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">3</span>.<span class="pl-c1">97</span> KiB  |     <span class="pl-c1">2</span> |            <span class="pl-c1">2</span> |         <span class="pl-c1">2</span> |          <span class="pl-c1">60</span> |
| InnoDB System            | SYS_FOREIGN_COLS                   | <span class="pl-c1">32</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">7</span>.<span class="pl-c1">43</span> KiB  |     <span class="pl-c1">2</span> |            <span class="pl-c1">2</span> |         <span class="pl-c1">2</span> |          <span class="pl-c1">83</span> |
| InnoDB System            | SYS_TABLESPACES                    | <span class="pl-c1">32</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">3</span>.<span class="pl-c1">65</span> KiB  |     <span class="pl-c1">2</span> |            <span class="pl-c1">2</span> |         <span class="pl-c1">2</span> |          <span class="pl-c1">56</span> |
| InnoDB System            | SYS_IBUF_TABLE                     | <span class="pl-c1">16</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">0</span> bytes   |     <span class="pl-c1">1</span> |            <span class="pl-c1">1</span> |         <span class="pl-c1">1</span> |           <span class="pl-c1">0</span> |
<span class="pl-k">+</span><span class="pl-c">--------------------------+------------------------------------+------------+-----------+-------+--------------+-----------+-------------+</span></pre></div>

<h4>
<a id="innodb_lock_waits--xinnodb_lock_waits" class="anchor" href="#innodb_lock_waits--xinnodb_lock_waits" aria-hidden="true"><span class="octicon octicon-link"></span></a>innodb_lock_waits / x$innodb_lock_waits</h4>

<h5>
<a id="description-9" class="anchor" href="#description-9" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Gives a snapshot of which InnoDB locks transactions are waiting for.
The lock waits are ordered by the age of the lock descending.</p>

<h5>
<a id="structures-7" class="anchor" href="#structures-7" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> <span class="pl-c1">sys</span>.<span class="pl-c1">innodb_lock_waits</span>;
<span class="pl-k">+</span><span class="pl-c">------------------------------+---------------------+------+-----+---------------------+-------+</span>
| Field                        | Type                | <span class="pl-k">Null</span> | Key | Default             | Extra |
<span class="pl-k">+</span><span class="pl-c">------------------------------+---------------------+------+-----+---------------------+-------+</span>
| wait_started                 | datetime            | YES  |     | <span class="pl-k">NULL</span>                |       |
| wait_age                     | <span class="pl-k">time</span>                | YES  |     | <span class="pl-k">NULL</span>                |       |
| wait_age_secs                | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)          | YES  |     | <span class="pl-k">NULL</span>                |       |
| locked_table                 | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)       | NO   |     |                     |       |
| locked_index                 | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)       | YES  |     | <span class="pl-k">NULL</span>                |       |
| locked_type                  | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | NO   |     |                     |       |
| waiting_trx_id               | <span class="pl-k">varchar</span>(<span class="pl-c1">18</span>)         | NO   |     |                     |       |
| waiting_trx_started          | datetime            | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| waiting_trx_age              | <span class="pl-k">time</span>                | YES  |     | <span class="pl-k">NULL</span>                |       |
| waiting_trx_rows_locked      | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>                   |       |
| waiting_trx_rows_modified    | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>                   |       |
| waiting_pid                  | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>                   |       |
| waiting_query                | longtext            | YES  |     | <span class="pl-k">NULL</span>                |       |
| waiting_lock_id              | <span class="pl-k">varchar</span>(<span class="pl-c1">81</span>)         | NO   |     |                     |       |
| waiting_lock_mode            | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | NO   |     |                     |       |
| blocking_trx_id              | <span class="pl-k">varchar</span>(<span class="pl-c1">18</span>)         | NO   |     |                     |       |
| blocking_pid                 | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>                   |       |
| blocking_query               | longtext            | YES  |     | <span class="pl-k">NULL</span>                |       |
| blocking_lock_id             | <span class="pl-k">varchar</span>(<span class="pl-c1">81</span>)         | NO   |     |                     |       |
| blocking_lock_mode           | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | NO   |     |                     |       |
| blocking_trx_started         | datetime            | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| blocking_trx_age             | <span class="pl-k">time</span>                | YES  |     | <span class="pl-k">NULL</span>                |       |
| blocking_trx_rows_locked     | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>                   |       |
| blocking_trx_rows_modified   | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>                   |       |
| sql_kill_blocking_query      | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
| sql_kill_blocking_connection | <span class="pl-k">varchar</span>(<span class="pl-c1">26</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
<span class="pl-k">+</span><span class="pl-c">------------------------------+---------------------+------+-----+---------------------+-------+</span>
<span class="pl-c1">26</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> <span class="pl-c1">sys</span>.<span class="pl-c1">x</span>$innodb_lock_waits;
<span class="pl-k">+</span><span class="pl-c">------------------------------+---------------------+------+-----+---------------------+-------+</span>
| Field                        | Type                | <span class="pl-k">Null</span> | Key | Default             | Extra |
<span class="pl-k">+</span><span class="pl-c">------------------------------+---------------------+------+-----+---------------------+-------+</span>
| wait_started                 | datetime            | YES  |     | <span class="pl-k">NULL</span>                |       |
| wait_age                     | <span class="pl-k">time</span>                | YES  |     | <span class="pl-k">NULL</span>                |       |
| wait_age_secs                | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)          | YES  |     | <span class="pl-k">NULL</span>                |       |
| locked_table                 | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)       | NO   |     |                     |       |
| locked_index                 | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)       | YES  |     | <span class="pl-k">NULL</span>                |       |
| locked_type                  | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | NO   |     |                     |       |
| waiting_trx_id               | <span class="pl-k">varchar</span>(<span class="pl-c1">18</span>)         | NO   |     |                     |       |
| waiting_trx_started          | datetime            | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| waiting_trx_age              | <span class="pl-k">time</span>                | YES  |     | <span class="pl-k">NULL</span>                |       |
| waiting_trx_rows_locked      | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>                   |       |
| waiting_trx_rows_modified    | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>                   |       |
| waiting_pid                  | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>                   |       |
| waiting_query                | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)       | YES  |     | <span class="pl-k">NULL</span>                |       |
| waiting_lock_id              | <span class="pl-k">varchar</span>(<span class="pl-c1">81</span>)         | NO   |     |                     |       |
| waiting_lock_mode            | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | NO   |     |                     |       |
| blocking_trx_id              | <span class="pl-k">varchar</span>(<span class="pl-c1">18</span>)         | NO   |     |                     |       |
| blocking_pid                 | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>                   |       |
| blocking_query               | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)       | YES  |     | <span class="pl-k">NULL</span>                |       |
| blocking_lock_id             | <span class="pl-k">varchar</span>(<span class="pl-c1">81</span>)         | NO   |     |                     |       |
| blocking_lock_mode           | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | NO   |     |                     |       |
| blocking_trx_started         | datetime            | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| blocking_trx_age             | <span class="pl-k">time</span>                | YES  |     | <span class="pl-k">NULL</span>                |       |
| blocking_trx_rows_locked     | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>                   |       |
| blocking_trx_rows_modified   | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>                   |       |
| sql_kill_blocking_query      | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
| sql_kill_blocking_connection | <span class="pl-k">varchar</span>(<span class="pl-c1">26</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
<span class="pl-k">+</span><span class="pl-c">------------------------------+---------------------+------+-----+---------------------+-------+</span>
<span class="pl-c1">26</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">02</span> sec)</pre></div>

<h5>
<a id="example-8" class="anchor" href="#example-8" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-k">*</span> <span class="pl-k">FROM</span> innodb_lock_waits\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
                wait_started: <span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">11</span><span class="pl-k">-</span><span class="pl-c1">11</span> <span class="pl-c1">13</span>:<span class="pl-c1">39</span>:<span class="pl-c1">20</span>
                    wait_age: <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">07</span>
               wait_age_secs: <span class="pl-c1">7</span>
                locked_table: <span class="pl-s"><span class="pl-pds">`</span>db1<span class="pl-pds">`</span></span>.<span class="pl-s"><span class="pl-pds">`</span>t1<span class="pl-pds">`</span></span>
                locked_index: PRIMARY
                 locked_type: RECORD
              waiting_trx_id: <span class="pl-c1">867158</span>
         waiting_trx_started: <span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">11</span><span class="pl-k">-</span><span class="pl-c1">11</span> <span class="pl-c1">13</span>:<span class="pl-c1">39</span>:<span class="pl-c1">15</span>
             waiting_trx_age: <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">12</span>
     waiting_trx_rows_locked: <span class="pl-c1">0</span>
   waiting_trx_rows_modified: <span class="pl-c1">0</span>
                 waiting_pid: <span class="pl-c1">3</span>
               waiting_query: <span class="pl-k">UPDATE</span> t1 <span class="pl-k">SET</span> val <span class="pl-k">=</span> val <span class="pl-k">+</span> <span class="pl-c1">1</span> <span class="pl-k">WHERE</span> id <span class="pl-k">=</span> <span class="pl-c1">2</span>
             waiting_lock_id: <span class="pl-c1">867158</span>:<span class="pl-c1">2363</span>:<span class="pl-c1">3</span>:<span class="pl-c1">3</span>
           waiting_lock_mode: X
             blocking_trx_id: <span class="pl-c1">867157</span>
                blocking_pid: <span class="pl-c1">4</span>
              blocking_query: <span class="pl-k">UPDATE</span> t1 <span class="pl-k">SET</span> val <span class="pl-k">=</span> val <span class="pl-k">+</span> <span class="pl-c1">1</span> <span class="pl-k">+</span> SLEEP(<span class="pl-c1">10</span>) <span class="pl-k">WHERE</span> id <span class="pl-k">=</span> <span class="pl-c1">2</span>
            blocking_lock_id: <span class="pl-c1">867157</span>:<span class="pl-c1">2363</span>:<span class="pl-c1">3</span>:<span class="pl-c1">3</span>
          blocking_lock_mode: X
        blocking_trx_started: <span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">11</span><span class="pl-k">-</span><span class="pl-c1">11</span> <span class="pl-c1">13</span>:<span class="pl-c1">39</span>:<span class="pl-c1">11</span>
            blocking_trx_age: <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">16</span>
    blocking_trx_rows_locked: <span class="pl-c1">1</span>
  blocking_trx_rows_modified: <span class="pl-c1">1</span>
     sql_kill_blocking_query: KILL QUERY <span class="pl-c1">4</span>
sql_kill_blocking_connection: KILL <span class="pl-c1">4</span></pre></div>

<h4>
<a id="io_by_thread_by_latency--xio_by_thread_by_latency" class="anchor" href="#io_by_thread_by_latency--xio_by_thread_by_latency" aria-hidden="true"><span class="octicon octicon-link"></span></a>io_by_thread_by_latency / x$io_by_thread_by_latency</h4>

<h5>
<a id="description-10" class="anchor" href="#description-10" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows the top IO consumers by thread, ordered by total latency.</p>

<h5>
<a id="structures-8" class="anchor" href="#structures-8" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> io_by_thread_by_latency;
<span class="pl-k">+</span><span class="pl-c">----------------+---------------------+------+-----+---------+-------+</span>
| Field          | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">----------------+---------------------+------+-----+---------+-------+</span>
| user           | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| total          | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_latency  | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| min_latency    | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_latency    | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency    | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| thread_id      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| processlist_id | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">----------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">8</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">14</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$io_by_thread_by_latency;
<span class="pl-k">+</span><span class="pl-c">----------------+---------------------+------+-----+---------+-------+</span>
| Field          | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">----------------+---------------------+------+-----+---------+-------+</span>
| user           | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| total          | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_latency  | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| min_latency    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_latency    | <span class="pl-k">decimal</span>(<span class="pl-c1">24</span>,<span class="pl-c1">4</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
| thread_id      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| processlist_id | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">----------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">8</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">03</span> sec)</pre></div>

<h5>
<a id="example-9" class="anchor" href="#example-9" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> io_by_thread_by_latency;
<span class="pl-k">+</span><span class="pl-c">---------------------+-------+---------------+-------------+-------------+-------------+-----------+----------------+</span>
| user                | total | total_latency | min_latency | avg_latency | max_latency | thread_id | processlist_id |
<span class="pl-k">+</span><span class="pl-c">---------------------+-------+---------------+-------------+-------------+-------------+-----------+----------------+</span>
| root@localhost      | <span class="pl-c1">11580</span> | <span class="pl-c1">18</span>.<span class="pl-c1">01</span> s       | <span class="pl-c1">429</span>.<span class="pl-c1">78</span> ns   | <span class="pl-c1">1</span>.<span class="pl-c1">12</span> ms     | <span class="pl-c1">181</span>.<span class="pl-c1">07</span> ms   |        <span class="pl-c1">25</span> |              <span class="pl-c1">6</span> |
| main                |  <span class="pl-c1">1358</span> | <span class="pl-c1">1</span>.<span class="pl-c1">31</span> s        | <span class="pl-c1">475</span>.<span class="pl-c1">02</span> ns   | <span class="pl-c1">2</span>.<span class="pl-c1">27</span> ms     | <span class="pl-c1">350</span>.<span class="pl-c1">70</span> ms   |         <span class="pl-c1">1</span> |           <span class="pl-k">NULL</span> |
| page_cleaner_thread |   <span class="pl-c1">654</span> | <span class="pl-c1">147</span>.<span class="pl-c1">44</span> ms     | <span class="pl-c1">588</span>.<span class="pl-c1">12</span> ns   | <span class="pl-c1">225</span>.<span class="pl-c1">44</span> us   | <span class="pl-c1">46</span>.<span class="pl-c1">41</span> ms    |        <span class="pl-c1">18</span> |           <span class="pl-k">NULL</span> |
| io_write_thread     |   <span class="pl-c1">131</span> | <span class="pl-c1">107</span>.<span class="pl-c1">75</span> ms     | <span class="pl-c1">8</span>.<span class="pl-c1">60</span> us     | <span class="pl-c1">822</span>.<span class="pl-c1">55</span> us   | <span class="pl-c1">27</span>.<span class="pl-c1">69</span> ms    |         <span class="pl-c1">8</span> |           <span class="pl-k">NULL</span> |
| io_write_thread     |    <span class="pl-c1">46</span> | <span class="pl-c1">47</span>.<span class="pl-c1">07</span> ms      | <span class="pl-c1">10</span>.<span class="pl-c1">64</span> us    | <span class="pl-c1">1</span>.<span class="pl-c1">02</span> ms     | <span class="pl-c1">16</span>.<span class="pl-c1">90</span> ms    |         <span class="pl-c1">9</span> |           <span class="pl-k">NULL</span> |
| io_write_thread     |    <span class="pl-c1">71</span> | <span class="pl-c1">46</span>.<span class="pl-c1">99</span> ms      | <span class="pl-c1">9</span>.<span class="pl-c1">11</span> us     | <span class="pl-c1">661</span>.<span class="pl-c1">81</span> us   | <span class="pl-c1">17</span>.<span class="pl-c1">04</span> ms    |        <span class="pl-c1">11</span> |           <span class="pl-k">NULL</span> |
| io_log_thread       |    <span class="pl-c1">20</span> | <span class="pl-c1">21</span>.<span class="pl-c1">01</span> ms      | <span class="pl-c1">14</span>.<span class="pl-c1">25</span> us    | <span class="pl-c1">1</span>.<span class="pl-c1">05</span> ms     | <span class="pl-c1">7</span>.<span class="pl-c1">08</span> ms     |         <span class="pl-c1">3</span> |           <span class="pl-k">NULL</span> |
| srv_master_thread   |    <span class="pl-c1">13</span> | <span class="pl-c1">17</span>.<span class="pl-c1">60</span> ms      | <span class="pl-c1">8</span>.<span class="pl-c1">49</span> us     | <span class="pl-c1">1</span>.<span class="pl-c1">35</span> ms     | <span class="pl-c1">9</span>.<span class="pl-c1">99</span> ms     |        <span class="pl-c1">16</span> |           <span class="pl-k">NULL</span> |
| srv_purge_thread    |     <span class="pl-c1">4</span> | <span class="pl-c1">1</span>.<span class="pl-c1">81</span> ms       | <span class="pl-c1">34</span>.<span class="pl-c1">31</span> us    | <span class="pl-c1">452</span>.<span class="pl-c1">45</span> us   | <span class="pl-c1">1</span>.<span class="pl-c1">02</span> ms     |        <span class="pl-c1">17</span> |           <span class="pl-k">NULL</span> |
| io_write_thread     |    <span class="pl-c1">19</span> | <span class="pl-c1">951</span>.<span class="pl-c1">39</span> us     | <span class="pl-c1">9</span>.<span class="pl-c1">75</span> us     | <span class="pl-c1">50</span>.<span class="pl-c1">07</span> us    | <span class="pl-c1">297</span>.<span class="pl-c1">47</span> us   |        <span class="pl-c1">10</span> |           <span class="pl-k">NULL</span> |
| signal_handler      |     <span class="pl-c1">3</span> | <span class="pl-c1">218</span>.<span class="pl-c1">03</span> us     | <span class="pl-c1">21</span>.<span class="pl-c1">64</span> us    | <span class="pl-c1">72</span>.<span class="pl-c1">68</span> us    | <span class="pl-c1">154</span>.<span class="pl-c1">84</span> us   |        <span class="pl-c1">19</span> |           <span class="pl-k">NULL</span> |
<span class="pl-k">+</span><span class="pl-c">---------------------+-------+---------------+-------------+-------------+-------------+-----------+----------------+</span></pre></div>

<h4>
<a id="io_global_by_file_by_bytes--xio_global_by_file_by_bytes" class="anchor" href="#io_global_by_file_by_bytes--xio_global_by_file_by_bytes" aria-hidden="true"><span class="octicon octicon-link"></span></a>io_global_by_file_by_bytes / x$io_global_by_file_by_bytes</h4>

<h5>
<a id="description-11" class="anchor" href="#description-11" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows the top global IO consumers by bytes usage by file.</p>

<h5>
<a id="structures-9" class="anchor" href="#structures-9" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> io_global_by_file_by_bytes;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| file          | <span class="pl-k">varchar</span>(<span class="pl-c1">512</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| count_read    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_read    | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_read      | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| count_write   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_written | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_write     | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| write_pct     | <span class="pl-k">decimal</span>(<span class="pl-c1">26</span>,<span class="pl-c1">2</span>)       | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">00</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">9</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">15</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$io_global_by_file_by_bytes;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| file          | <span class="pl-k">varchar</span>(<span class="pl-c1">512</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| count_read    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_read    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)          | NO   |     | <span class="pl-k">NULL</span>    |       |
| avg_read      | <span class="pl-k">decimal</span>(<span class="pl-c1">23</span>,<span class="pl-c1">4</span>)       | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>  |       |
| count_write   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_written | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)          | NO   |     | <span class="pl-k">NULL</span>    |       |
| avg_write     | <span class="pl-k">decimal</span>(<span class="pl-c1">23</span>,<span class="pl-c1">4</span>)       | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>  |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)          | NO   |     | <span class="pl-c1">0</span>       |       |
| write_pct     | <span class="pl-k">decimal</span>(<span class="pl-c1">26</span>,<span class="pl-c1">2</span>)       | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">00</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">9</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">14</span> sec)</pre></div>

<h5>
<a id="example-10" class="anchor" href="#example-10" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-k">*</span> <span class="pl-k">FROM</span> io_global_by_file_by_bytes <span class="pl-k">LIMIT</span> <span class="pl-c1">5</span>;
<span class="pl-k">+</span><span class="pl-c">--------------------------------------------+------------+------------+-----------+-------------+---------------+-----------+------------+-----------+</span>
| file                                       | count_read | total_read | avg_read  | count_write | total_written | avg_write | total      | write_pct |
<span class="pl-k">+</span><span class="pl-c">--------------------------------------------+------------+------------+-----------+-------------+---------------+-----------+------------+-----------+</span>
| @@datadir<span class="pl-k">/</span>ibdata1                          |        <span class="pl-c1">147</span> | <span class="pl-c1">4</span>.<span class="pl-c1">27</span> MiB   | <span class="pl-c1">29</span>.<span class="pl-c1">71</span> KiB |           <span class="pl-c1">3</span> | <span class="pl-c1">48</span>.<span class="pl-c1">00</span> KiB     | <span class="pl-c1">16</span>.<span class="pl-c1">00</span> KiB | <span class="pl-c1">4</span>.<span class="pl-c1">31</span> MiB   |      <span class="pl-c1">1</span>.<span class="pl-c1">09</span> |
| @@datadir<span class="pl-k">/</span>mysql<span class="pl-k">/</span><span class="pl-c1">proc</span>.<span class="pl-c1">MYD</span>                   |        <span class="pl-c1">347</span> | <span class="pl-c1">85</span>.<span class="pl-c1">35</span> KiB  | <span class="pl-c1">252</span> bytes |         <span class="pl-c1">111</span> | <span class="pl-c1">19</span>.<span class="pl-c1">08</span> KiB     | <span class="pl-c1">176</span> bytes | <span class="pl-c1">104</span>.<span class="pl-c1">43</span> KiB |     <span class="pl-c1">18</span>.<span class="pl-c1">27</span> |
| @@datadir<span class="pl-k">/</span>ib_logfile0                      |          <span class="pl-c1">6</span> | <span class="pl-c1">68</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">11</span>.<span class="pl-c1">33</span> KiB |           <span class="pl-c1">8</span> | <span class="pl-c1">4</span>.<span class="pl-c1">00</span> KiB      | <span class="pl-c1">512</span> bytes | <span class="pl-c1">72</span>.<span class="pl-c1">00</span> KiB  |      <span class="pl-c1">5</span>.<span class="pl-c1">56</span> |
| <span class="pl-k">/</span>opt<span class="pl-k">/</span>mysql<span class="pl-k">/</span><span class="pl-c1">5</span>.<span class="pl-c1">5</span>.<span class="pl-c1">33</span><span class="pl-k">/</span>share<span class="pl-k">/</span>english<span class="pl-k">/</span><span class="pl-c1">errmsg</span>.<span class="pl-c1">sys</span> |          <span class="pl-c1">3</span> | <span class="pl-c1">43</span>.<span class="pl-c1">68</span> KiB  | <span class="pl-c1">14</span>.<span class="pl-c1">56</span> KiB |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes   | <span class="pl-c1">43</span>.<span class="pl-c1">68</span> KiB  |      <span class="pl-c1">0</span>.<span class="pl-c1">00</span> |
| <span class="pl-k">/</span>opt<span class="pl-k">/</span>mysql<span class="pl-k">/</span><span class="pl-c1">5</span>.<span class="pl-c1">5</span>.<span class="pl-c1">33</span><span class="pl-k">/</span>share<span class="pl-k">/</span>charsets<span class="pl-k">/</span><span class="pl-c1">Index</span>.<span class="pl-c1">xml</span> |          <span class="pl-c1">1</span> | <span class="pl-c1">17</span>.<span class="pl-c1">89</span> KiB  | <span class="pl-c1">17</span>.<span class="pl-c1">89</span> KiB |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes   | <span class="pl-c1">17</span>.<span class="pl-c1">89</span> KiB  |      <span class="pl-c1">0</span>.<span class="pl-c1">00</span> |
<span class="pl-k">+</span><span class="pl-c">--------------------------------------------+------------+------------+-----------+-------------+---------------+-----------+------------+-----------+</span></pre></div>

<h4>
<a id="io_global_by_file_by_latency--xio_global_by_file_by_latency" class="anchor" href="#io_global_by_file_by_latency--xio_global_by_file_by_latency" aria-hidden="true"><span class="octicon octicon-link"></span></a>io_global_by_file_by_latency / x$io_global_by_file_by_latency</h4>

<h5>
<a id="description-12" class="anchor" href="#description-12" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows the top global IO consumers by latency by file.</p>

<h5>
<a id="structures-10" class="anchor" href="#structures-10" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> io_global_by_file_by_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| file          | <span class="pl-k">varchar</span>(<span class="pl-c1">512</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| count_read    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| read_latency  | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| count_write   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| write_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| count_misc    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| misc_latency  | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">9</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$io_global_by_file_by_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| file          | <span class="pl-k">varchar</span>(<span class="pl-c1">512</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| count_read    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| read_latency  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| count_write   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| write_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| count_misc    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| misc_latency  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">9</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">07</span> sec)</pre></div>

<h5>
<a id="example-11" class="anchor" href="#example-11" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> io_global_by_file_by_latency <span class="pl-k">limit</span> <span class="pl-c1">5</span>;
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------+-------+---------------+------------+--------------+-------------+---------------+------------+--------------+</span>
| file                                                      | total | total_latency | count_read | read_latency | count_write | write_latency | count_misc | misc_latency |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------+-------+---------------+------------+--------------+-------------+---------------+------------+--------------+</span>
| @@datadir<span class="pl-k">/</span>sys<span class="pl-k">/</span><span class="pl-c1">wait_classes_global_by_avg_latency_raw</span>.<span class="pl-c1">frm</span>~ |    <span class="pl-c1">24</span> | <span class="pl-c1">451</span>.<span class="pl-c1">99</span> ms     |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> ps         |           <span class="pl-c1">4</span> | <span class="pl-c1">108</span>.<span class="pl-c1">07</span> us     |         <span class="pl-c1">20</span> | <span class="pl-c1">451</span>.<span class="pl-c1">88</span> ms    |
| @@datadir<span class="pl-k">/</span>sys<span class="pl-k">/</span><span class="pl-c1">innodb_buffer_stats_by_schema_raw</span>.<span class="pl-c1">frm</span>~      |    <span class="pl-c1">24</span> | <span class="pl-c1">379</span>.<span class="pl-c1">84</span> ms     |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> ps         |           <span class="pl-c1">4</span> | <span class="pl-c1">108</span>.<span class="pl-c1">88</span> us     |         <span class="pl-c1">20</span> | <span class="pl-c1">379</span>.<span class="pl-c1">73</span> ms    |
| @@datadir<span class="pl-k">/</span>sys<span class="pl-k">/</span><span class="pl-c1">io_by_thread_by_latency_raw</span>.<span class="pl-c1">frm</span>~            |    <span class="pl-c1">24</span> | <span class="pl-c1">379</span>.<span class="pl-c1">46</span> ms     |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> ps         |           <span class="pl-c1">4</span> | <span class="pl-c1">101</span>.<span class="pl-c1">37</span> us     |         <span class="pl-c1">20</span> | <span class="pl-c1">379</span>.<span class="pl-c1">36</span> ms    |
| @@datadir<span class="pl-k">/</span>ibtmp1                                          |    <span class="pl-c1">53</span> | <span class="pl-c1">373</span>.<span class="pl-c1">45</span> ms     |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> ps         |          <span class="pl-c1">48</span> | <span class="pl-c1">246</span>.<span class="pl-c1">08</span> ms     |          <span class="pl-c1">5</span> | <span class="pl-c1">127</span>.<span class="pl-c1">37</span> ms    |
| @@datadir<span class="pl-k">/</span>sys<span class="pl-k">/</span><span class="pl-c1">statement_analysis_raw</span>.<span class="pl-c1">frm</span>~                 |    <span class="pl-c1">24</span> | <span class="pl-c1">353</span>.<span class="pl-c1">14</span> ms     |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> ps         |           <span class="pl-c1">4</span> | <span class="pl-c1">94</span>.<span class="pl-c1">96</span> us      |         <span class="pl-c1">20</span> | <span class="pl-c1">353</span>.<span class="pl-c1">04</span> ms    |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------+-------+---------------+------------+--------------+-------------+---------------+------------+--------------+</span></pre></div>

<h4>
<a id="io_global_by_wait_by_bytes--xio_global_by_wait_by_bytes" class="anchor" href="#io_global_by_wait_by_bytes--xio_global_by_wait_by_bytes" aria-hidden="true"><span class="octicon octicon-link"></span></a>io_global_by_wait_by_bytes / x$io_global_by_wait_by_bytes</h4>

<h5>
<a id="description-13" class="anchor" href="#description-13" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows the top global IO consumer classes by bytes usage.</p>

<h5>
<a id="structures-11" class="anchor" href="#structures-11" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> io_global_by_wait_by_bytes;
<span class="pl-k">+</span><span class="pl-c">-----------------+---------------------+------+-----+---------+-------+</span>
| Field           | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">-----------------+---------------------+------+-----+---------+-------+</span>
| event_name      | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| total           | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| min_latency     | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_latency     | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency     | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| count_read      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_read      | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_read        | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| count_write     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_written   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_written     | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_requested | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">-----------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">13</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">02</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$io_global_by_wait_by_bytes;
<span class="pl-k">+</span><span class="pl-c">-----------------+---------------------+------+-----+---------+-------+</span>
| Field           | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">-----------------+---------------------+------+-----+---------+-------+</span>
| event_name      | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| total           | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| min_latency     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| avg_latency     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| max_latency     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| count_read      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_read      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)          | NO   |     | <span class="pl-k">NULL</span>    |       |
| avg_read        | <span class="pl-k">decimal</span>(<span class="pl-c1">23</span>,<span class="pl-c1">4</span>)       | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>  |       |
| count_write     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_written   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)          | NO   |     | <span class="pl-k">NULL</span>    |       |
| avg_written     | <span class="pl-k">decimal</span>(<span class="pl-c1">23</span>,<span class="pl-c1">4</span>)       | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>  |       |
| total_requested | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)          | NO   |     | <span class="pl-c1">0</span>       |       |
<span class="pl-k">+</span><span class="pl-c">-----------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">13</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)</pre></div>

<h5>
<a id="example-12" class="anchor" href="#example-12" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> io_global_by_wait_by_bytes;
<span class="pl-k">+</span><span class="pl-c">--------------------+--------+---------------+-------------+-------------+-------------+------------+------------+-----------+-------------+---------------+-------------+-----------------+</span>
| event_name         | total  | total_latency | min_latency | avg_latency | max_latency | count_read | total_read | avg_read  | count_write | total_written | avg_written | total_requested |
<span class="pl-k">+</span><span class="pl-c">--------------------+--------+---------------+-------------+-------------+-------------+------------+------------+-----------+-------------+---------------+-------------+-----------------+</span>
| myisam<span class="pl-k">/</span>dfile       | <span class="pl-c1">163681</span> | <span class="pl-c1">983</span>.<span class="pl-c1">13</span> ms     | <span class="pl-c1">379</span>.<span class="pl-c1">08</span> ns   | <span class="pl-c1">6</span>.<span class="pl-c1">01</span> us     | <span class="pl-c1">22</span>.<span class="pl-c1">06</span> ms    |      <span class="pl-c1">68737</span> | <span class="pl-c1">127</span>.<span class="pl-c1">31</span> MiB | <span class="pl-c1">1</span>.<span class="pl-c1">90</span> KiB  |     <span class="pl-c1">1012221</span> | <span class="pl-c1">121</span>.<span class="pl-c1">52</span> MiB    | <span class="pl-c1">126</span> bytes   | <span class="pl-c1">248</span>.<span class="pl-c1">83</span> MiB      |
| myisam<span class="pl-k">/</span>kfile       |   <span class="pl-c1">1775</span> | <span class="pl-c1">375</span>.<span class="pl-c1">13</span> ms     | <span class="pl-c1">1</span>.<span class="pl-c1">02</span> us     | <span class="pl-c1">211</span>.<span class="pl-c1">34</span> µs   | <span class="pl-c1">35</span>.<span class="pl-c1">15</span> ms    |      <span class="pl-c1">54066</span> | <span class="pl-c1">9</span>.<span class="pl-c1">97</span> MiB   | <span class="pl-c1">193</span> bytes |      <span class="pl-c1">428257</span> | <span class="pl-c1">12</span>.<span class="pl-c1">40</span> MiB     | <span class="pl-c1">30</span> bytes    | <span class="pl-c1">22</span>.<span class="pl-c1">37</span> MiB       |
| sql<span class="pl-k">/</span>FRM            |  <span class="pl-c1">57889</span> | <span class="pl-c1">8</span>.<span class="pl-c1">40</span> s        | <span class="pl-c1">19</span>.<span class="pl-c1">44</span> ns    | <span class="pl-c1">145</span>.<span class="pl-c1">05</span> us   | <span class="pl-c1">336</span>.<span class="pl-c1">71</span> ms   |       <span class="pl-c1">8009</span> | <span class="pl-c1">2</span>.<span class="pl-c1">60</span> MiB   | <span class="pl-c1">341</span> bytes |       <span class="pl-c1">14675</span> | <span class="pl-c1">2</span>.<span class="pl-c1">91</span> MiB      | <span class="pl-c1">208</span> bytes   | <span class="pl-c1">5</span>.<span class="pl-c1">51</span> MiB        |
| sql<span class="pl-k">/</span>global_ddl_log |    <span class="pl-c1">164</span> | <span class="pl-c1">75</span>.<span class="pl-c1">96</span> ms      | <span class="pl-c1">5</span>.<span class="pl-c1">72</span> us     | <span class="pl-c1">463</span>.<span class="pl-c1">19</span> µs   | <span class="pl-c1">7</span>.<span class="pl-c1">43</span> ms     |         <span class="pl-c1">20</span> | <span class="pl-c1">80</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">4</span>.<span class="pl-c1">00</span> KiB  |          <span class="pl-c1">76</span> | <span class="pl-c1">304</span>.<span class="pl-c1">00</span> KiB    | <span class="pl-c1">4</span>.<span class="pl-c1">00</span> KiB    | <span class="pl-c1">384</span>.<span class="pl-c1">00</span> KiB      |
| sql<span class="pl-k">/</span>file_parser    |    <span class="pl-c1">419</span> | <span class="pl-c1">601</span>.<span class="pl-c1">37</span> ms     | <span class="pl-c1">1</span>.<span class="pl-c1">96</span> us     | <span class="pl-c1">1</span>.<span class="pl-c1">44</span> ms     | <span class="pl-c1">37</span>.<span class="pl-c1">14</span> ms    |         <span class="pl-c1">66</span> | <span class="pl-c1">42</span>.<span class="pl-c1">01</span> KiB  | <span class="pl-c1">652</span> bytes |          <span class="pl-c1">64</span> | <span class="pl-c1">226</span>.<span class="pl-c1">98</span> KiB    | <span class="pl-c1">3</span>.<span class="pl-c1">55</span> KiB    | <span class="pl-c1">268</span>.<span class="pl-c1">99</span> KiB      |
| sql<span class="pl-k">/</span>binlog         |    <span class="pl-c1">190</span> | <span class="pl-c1">6</span>.<span class="pl-c1">79</span> s        | <span class="pl-c1">1</span>.<span class="pl-c1">56</span> us     | <span class="pl-c1">35</span>.<span class="pl-c1">76</span> ms    | <span class="pl-c1">4</span>.<span class="pl-c1">21</span> s      |         <span class="pl-c1">52</span> | <span class="pl-c1">60</span>.<span class="pl-c1">54</span> KiB  | <span class="pl-c1">1</span>.<span class="pl-c1">16</span> KiB  |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     | <span class="pl-c1">60</span>.<span class="pl-c1">54</span> KiB       |
| sql<span class="pl-k">/</span>ERRMSG         |      <span class="pl-c1">5</span> | <span class="pl-c1">2</span>.<span class="pl-c1">03</span> s        | <span class="pl-c1">8</span>.<span class="pl-c1">61</span> us     | <span class="pl-c1">405</span>.<span class="pl-c1">40</span> ms   | <span class="pl-c1">2</span>.<span class="pl-c1">03</span> s      |          <span class="pl-c1">3</span> | <span class="pl-c1">51</span>.<span class="pl-c1">82</span> KiB  | <span class="pl-c1">17</span>.<span class="pl-c1">27</span> KiB |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     | <span class="pl-c1">51</span>.<span class="pl-c1">82</span> KiB       |
| mysys<span class="pl-k">/</span>charset      |      <span class="pl-c1">3</span> | <span class="pl-c1">196</span>.<span class="pl-c1">52</span> us     | <span class="pl-c1">17</span>.<span class="pl-c1">61</span> µs    | <span class="pl-c1">65</span>.<span class="pl-c1">51</span> µs    | <span class="pl-c1">137</span>.<span class="pl-c1">33</span> µs   |          <span class="pl-c1">1</span> | <span class="pl-c1">17</span>.<span class="pl-c1">83</span> KiB  | <span class="pl-c1">17</span>.<span class="pl-c1">83</span> KiB |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     | <span class="pl-c1">17</span>.<span class="pl-c1">83</span> KiB       |
| sql<span class="pl-k">/</span>partition      |     <span class="pl-c1">81</span> | <span class="pl-c1">18</span>.<span class="pl-c1">87</span> ms      | <span class="pl-c1">888</span>.<span class="pl-c1">08</span> ns   | <span class="pl-c1">232</span>.<span class="pl-c1">92</span> us   | <span class="pl-c1">4</span>.<span class="pl-c1">67</span> ms     |         <span class="pl-c1">66</span> | <span class="pl-c1">2</span>.<span class="pl-c1">75</span> KiB   | <span class="pl-c1">43</span> bytes  |           <span class="pl-c1">8</span> | <span class="pl-c1">288</span> bytes     | <span class="pl-c1">36</span> bytes    | <span class="pl-c1">3</span>.<span class="pl-c1">04</span> KiB        |
| sql<span class="pl-k">/</span>dbopt          | <span class="pl-c1">329166</span> | <span class="pl-c1">26</span>.<span class="pl-c1">95</span> s       | <span class="pl-c1">2</span>.<span class="pl-c1">06</span> us     | <span class="pl-c1">81</span>.<span class="pl-c1">89</span> µs    | <span class="pl-c1">178</span>.<span class="pl-c1">71</span> ms   |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes    | <span class="pl-c1">0</span> bytes   |           <span class="pl-c1">9</span> | <span class="pl-c1">585</span> bytes     | <span class="pl-c1">65</span> bytes    | <span class="pl-c1">585</span> bytes       |
| sql<span class="pl-k">/</span>relaylog       |      <span class="pl-c1">7</span> | <span class="pl-c1">1</span>.<span class="pl-c1">18</span> ms       | <span class="pl-c1">838</span>.<span class="pl-c1">84</span> ns   | <span class="pl-c1">168</span>.<span class="pl-c1">30</span> us   | <span class="pl-c1">892</span>.<span class="pl-c1">70</span> µs   |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes    | <span class="pl-c1">0</span> bytes   |           <span class="pl-c1">1</span> | <span class="pl-c1">120</span> bytes     | <span class="pl-c1">120</span> bytes   | <span class="pl-c1">120</span> bytes       |
| mysys<span class="pl-k">/</span>cnf          |      <span class="pl-c1">5</span> | <span class="pl-c1">171</span>.<span class="pl-c1">61</span> us     | <span class="pl-c1">303</span>.<span class="pl-c1">26</span> ns   | <span class="pl-c1">34</span>.<span class="pl-c1">32</span> µs    | <span class="pl-c1">115</span>.<span class="pl-c1">21</span> µs   |          <span class="pl-c1">3</span> | <span class="pl-c1">56</span> bytes   | <span class="pl-c1">19</span> bytes  |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     | <span class="pl-c1">56</span> bytes        |
| sql<span class="pl-k">/</span>pid            |      <span class="pl-c1">3</span> | <span class="pl-c1">220</span>.<span class="pl-c1">55</span> us     | <span class="pl-c1">29</span>.<span class="pl-c1">29</span> µs    | <span class="pl-c1">73</span>.<span class="pl-c1">52</span> µs    | <span class="pl-c1">143</span>.<span class="pl-c1">11</span> µs   |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes    | <span class="pl-c1">0</span> bytes   |           <span class="pl-c1">1</span> | <span class="pl-c1">5</span> bytes       | <span class="pl-c1">5</span> bytes     | <span class="pl-c1">5</span> bytes         |
| sql<span class="pl-k">/</span>casetest       |      <span class="pl-c1">1</span> | <span class="pl-c1">121</span>.<span class="pl-c1">19</span> us     | <span class="pl-c1">121</span>.<span class="pl-c1">19</span> µs   | <span class="pl-c1">121</span>.<span class="pl-c1">19</span> µs   | <span class="pl-c1">121</span>.<span class="pl-c1">19</span> µs   |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes    | <span class="pl-c1">0</span> bytes   |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     | <span class="pl-c1">0</span> bytes         |
| sql<span class="pl-k">/</span>binlog_index   |      <span class="pl-c1">5</span> | <span class="pl-c1">593</span>.<span class="pl-c1">47</span> us     | <span class="pl-c1">1</span>.<span class="pl-c1">07</span> µs     | <span class="pl-c1">118</span>.<span class="pl-c1">69</span> µs   | <span class="pl-c1">535</span>.<span class="pl-c1">90</span> µs   |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes    | <span class="pl-c1">0</span> bytes   |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     | <span class="pl-c1">0</span> bytes         |
| sql<span class="pl-k">/</span>misc           |     <span class="pl-c1">23</span> | <span class="pl-c1">2</span>.<span class="pl-c1">73</span> ms       | <span class="pl-c1">65</span>.<span class="pl-c1">14</span> us    | <span class="pl-c1">118</span>.<span class="pl-c1">50</span> µs   | <span class="pl-c1">255</span>.<span class="pl-c1">31</span> µs   |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes    | <span class="pl-c1">0</span> bytes   |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     | <span class="pl-c1">0</span> bytes         |
<span class="pl-k">+</span><span class="pl-c">--------------------+--------+---------------+-------------+-------------+-------------+------------+------------+-----------+-------------+---------------+-------------+-----------------+</span></pre></div>

<h4>
<a id="io_global_by_wait_by_latency--xio_global_by_wait_by_latency" class="anchor" href="#io_global_by_wait_by_latency--xio_global_by_wait_by_latency" aria-hidden="true"><span class="octicon octicon-link"></span></a>io_global_by_wait_by_latency / x$io_global_by_wait_by_latency</h4>

<h5>
<a id="description-14" class="anchor" href="#description-14" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows the top global IO consumers by latency.</p>

<h5>
<a id="structures-12" class="anchor" href="#structures-12" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> io_global_by_wait_by_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| event_name    | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| read_latency  | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| write_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| misc_latency  | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| count_read    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_read    | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_read      | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| count_write   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_written | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_written   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">14</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">19</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$io_global_by_wait_by_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| event_name    | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| read_latency  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| write_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| misc_latency  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| count_read    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_read    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)          | NO   |     | <span class="pl-k">NULL</span>    |       |
| avg_read      | <span class="pl-k">decimal</span>(<span class="pl-c1">23</span>,<span class="pl-c1">4</span>)       | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>  |       |
| count_write   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_written | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)          | NO   |     | <span class="pl-k">NULL</span>    |       |
| avg_written   | <span class="pl-k">decimal</span>(<span class="pl-c1">23</span>,<span class="pl-c1">4</span>)       | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>  |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">14</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)</pre></div>

<h5>
<a id="example-13" class="anchor" href="#example-13" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-k">*</span> <span class="pl-k">FROM</span> io_global_by_wait_by_latency;
<span class="pl-k">+</span><span class="pl-c">-------------------------+-------+---------------+-------------+-------------+--------------+---------------+--------------+------------+------------+-----------+-------------+---------------+-------------+</span>
| event_name              | total | total_latency | avg_latency | max_latency | read_latency | write_latency | misc_latency | count_read | total_read | avg_read  | count_write | total_written | avg_written |
<span class="pl-k">+</span><span class="pl-c">-------------------------+-------+---------------+-------------+-------------+--------------+---------------+--------------+------------+------------+-----------+-------------+---------------+-------------+</span>
| sql<span class="pl-k">/</span>file_parser         |  <span class="pl-c1">5433</span> | <span class="pl-c1">30</span>.<span class="pl-c1">20</span> s       | <span class="pl-c1">5</span>.<span class="pl-c1">56</span> ms     | <span class="pl-c1">203</span>.<span class="pl-c1">65</span> ms   | <span class="pl-c1">22</span>.<span class="pl-c1">08</span> ms     | <span class="pl-c1">24</span>.<span class="pl-c1">89</span> ms      | <span class="pl-c1">30</span>.<span class="pl-c1">16</span> s      |         <span class="pl-c1">24</span> | <span class="pl-c1">6</span>.<span class="pl-c1">18</span> KiB   | <span class="pl-c1">264</span> bytes |         <span class="pl-c1">737</span> | <span class="pl-c1">2</span>.<span class="pl-c1">15</span> MiB      | <span class="pl-c1">2</span>.<span class="pl-c1">99</span> KiB    |
| innodb<span class="pl-k">/</span>innodb_data_file |  <span class="pl-c1">1344</span> | <span class="pl-c1">1</span>.<span class="pl-c1">52</span> s        | <span class="pl-c1">1</span>.<span class="pl-c1">13</span> ms     | <span class="pl-c1">350</span>.<span class="pl-c1">70</span> ms   | <span class="pl-c1">203</span>.<span class="pl-c1">82</span> ms    | <span class="pl-c1">450</span>.<span class="pl-c1">96</span> ms     | <span class="pl-c1">868</span>.<span class="pl-c1">21</span> ms    |        <span class="pl-c1">147</span> | <span class="pl-c1">2</span>.<span class="pl-c1">30</span> MiB   | <span class="pl-c1">16</span>.<span class="pl-c1">00</span> KiB |        <span class="pl-c1">1001</span> | <span class="pl-c1">53</span>.<span class="pl-c1">61</span> MiB     | <span class="pl-c1">54</span>.<span class="pl-c1">84</span> KiB   |
| innodb<span class="pl-k">/</span>innodb_log_file  |   <span class="pl-c1">828</span> | <span class="pl-c1">893</span>.<span class="pl-c1">48</span> ms     | <span class="pl-c1">1</span>.<span class="pl-c1">08</span> ms     | <span class="pl-c1">30</span>.<span class="pl-c1">11</span> ms    | <span class="pl-c1">16</span>.<span class="pl-c1">32</span> ms     | <span class="pl-c1">705</span>.<span class="pl-c1">89</span> ms     | <span class="pl-c1">171</span>.<span class="pl-c1">27</span> ms    |          <span class="pl-c1">6</span> | <span class="pl-c1">68</span>.<span class="pl-c1">00</span> KiB  | <span class="pl-c1">11</span>.<span class="pl-c1">33</span> KiB |         <span class="pl-c1">413</span> | <span class="pl-c1">2</span>.<span class="pl-c1">19</span> MiB      | <span class="pl-c1">5</span>.<span class="pl-c1">42</span> KiB    |
| myisam<span class="pl-k">/</span>kfile            |  <span class="pl-c1">7642</span> | <span class="pl-c1">242</span>.<span class="pl-c1">34</span> ms     | <span class="pl-c1">31</span>.<span class="pl-c1">71</span> us    | <span class="pl-c1">19</span>.<span class="pl-c1">27</span> ms    | <span class="pl-c1">73</span>.<span class="pl-c1">60</span> ms     | <span class="pl-c1">23</span>.<span class="pl-c1">48</span> ms      | <span class="pl-c1">145</span>.<span class="pl-c1">26</span> ms    |        <span class="pl-c1">758</span> | <span class="pl-c1">135</span>.<span class="pl-c1">63</span> KiB | <span class="pl-c1">183</span> bytes |        <span class="pl-c1">4386</span> | <span class="pl-c1">232</span>.<span class="pl-c1">52</span> KiB    | <span class="pl-c1">54</span> bytes    |
| myisam<span class="pl-k">/</span>dfile            | <span class="pl-c1">12540</span> | <span class="pl-c1">223</span>.<span class="pl-c1">47</span> ms     | <span class="pl-c1">17</span>.<span class="pl-c1">82</span> us    | <span class="pl-c1">32</span>.<span class="pl-c1">50</span> ms    | <span class="pl-c1">87</span>.<span class="pl-c1">76</span> ms     | <span class="pl-c1">16</span>.<span class="pl-c1">97</span> ms      | <span class="pl-c1">118</span>.<span class="pl-c1">74</span> ms    |       <span class="pl-c1">5390</span> | <span class="pl-c1">4</span>.<span class="pl-c1">49</span> MiB   | <span class="pl-c1">873</span> bytes |        <span class="pl-c1">1448</span> | <span class="pl-c1">2</span>.<span class="pl-c1">65</span> MiB      | <span class="pl-c1">1</span>.<span class="pl-c1">88</span> KiB    |
| csv<span class="pl-k">/</span>metadata            |     <span class="pl-c1">8</span> | <span class="pl-c1">28</span>.<span class="pl-c1">98</span> ms      | <span class="pl-c1">3</span>.<span class="pl-c1">62</span> ms     | <span class="pl-c1">20</span>.<span class="pl-c1">15</span> ms    | <span class="pl-c1">399</span>.<span class="pl-c1">27</span> us    | <span class="pl-c1">0</span> ps          | <span class="pl-c1">28</span>.<span class="pl-c1">58</span> ms     |          <span class="pl-c1">2</span> | <span class="pl-c1">70</span> bytes   | <span class="pl-c1">35</span> bytes  |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     |
| mysys<span class="pl-k">/</span>charset           |     <span class="pl-c1">3</span> | <span class="pl-c1">24</span>.<span class="pl-c1">24</span> ms      | <span class="pl-c1">8</span>.<span class="pl-c1">08</span> ms     | <span class="pl-c1">24</span>.<span class="pl-c1">15</span> ms    | <span class="pl-c1">24</span>.<span class="pl-c1">15</span> ms     | <span class="pl-c1">0</span> ps          | <span class="pl-c1">93</span>.<span class="pl-c1">18</span> us     |          <span class="pl-c1">1</span> | <span class="pl-c1">17</span>.<span class="pl-c1">31</span> KiB  | <span class="pl-c1">17</span>.<span class="pl-c1">31</span> KiB |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     |
| sql<span class="pl-k">/</span>ERRMSG              |     <span class="pl-c1">5</span> | <span class="pl-c1">20</span>.<span class="pl-c1">43</span> ms      | <span class="pl-c1">4</span>.<span class="pl-c1">09</span> ms     | <span class="pl-c1">19</span>.<span class="pl-c1">31</span> ms    | <span class="pl-c1">20</span>.<span class="pl-c1">32</span> ms     | <span class="pl-c1">0</span> ps          | <span class="pl-c1">103</span>.<span class="pl-c1">20</span> us    |          <span class="pl-c1">3</span> | <span class="pl-c1">58</span>.<span class="pl-c1">97</span> KiB  | <span class="pl-c1">19</span>.<span class="pl-c1">66</span> KiB |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     |
| mysys<span class="pl-k">/</span>cnf               |     <span class="pl-c1">5</span> | <span class="pl-c1">11</span>.<span class="pl-c1">37</span> ms      | <span class="pl-c1">2</span>.<span class="pl-c1">27</span> ms     | <span class="pl-c1">11</span>.<span class="pl-c1">28</span> ms    | <span class="pl-c1">11</span>.<span class="pl-c1">29</span> ms     | <span class="pl-c1">0</span> ps          | <span class="pl-c1">78</span>.<span class="pl-c1">22</span> us     |          <span class="pl-c1">3</span> | <span class="pl-c1">56</span> bytes   | <span class="pl-c1">19</span> bytes  |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     |
| sql<span class="pl-k">/</span>dbopt               |    <span class="pl-c1">57</span> | <span class="pl-c1">4</span>.<span class="pl-c1">04</span> ms       | <span class="pl-c1">70</span>.<span class="pl-c1">92</span> us    | <span class="pl-c1">843</span>.<span class="pl-c1">70</span> us   | <span class="pl-c1">0</span> ps         | <span class="pl-c1">186</span>.<span class="pl-c1">43</span> us     | <span class="pl-c1">3</span>.<span class="pl-c1">86</span> ms      |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes    | <span class="pl-c1">0</span> bytes   |           <span class="pl-c1">7</span> | <span class="pl-c1">431</span> bytes     | <span class="pl-c1">62</span> bytes    |
| csv<span class="pl-k">/</span>data                |     <span class="pl-c1">4</span> | <span class="pl-c1">411</span>.<span class="pl-c1">55</span> us     | <span class="pl-c1">102</span>.<span class="pl-c1">89</span> us   | <span class="pl-c1">234</span>.<span class="pl-c1">89</span> us   | <span class="pl-c1">0</span> ps         | <span class="pl-c1">0</span> ps          | <span class="pl-c1">411</span>.<span class="pl-c1">55</span> us    |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes    | <span class="pl-c1">0</span> bytes   |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     |
| sql<span class="pl-k">/</span>misc                |    <span class="pl-c1">22</span> | <span class="pl-c1">340</span>.<span class="pl-c1">38</span> us     | <span class="pl-c1">15</span>.<span class="pl-c1">47</span> us    | <span class="pl-c1">33</span>.<span class="pl-c1">77</span> us    | <span class="pl-c1">0</span> ps         | <span class="pl-c1">0</span> ps          | <span class="pl-c1">340</span>.<span class="pl-c1">38</span> us    |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes    | <span class="pl-c1">0</span> bytes   |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     |
| archive<span class="pl-k">/</span>data            |    <span class="pl-c1">39</span> | <span class="pl-c1">277</span>.<span class="pl-c1">86</span> us     | <span class="pl-c1">7</span>.<span class="pl-c1">12</span> us     | <span class="pl-c1">16</span>.<span class="pl-c1">18</span> us    | <span class="pl-c1">0</span> ps         | <span class="pl-c1">0</span> ps          | <span class="pl-c1">277</span>.<span class="pl-c1">86</span> us    |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes    | <span class="pl-c1">0</span> bytes   |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     |
| sql<span class="pl-k">/</span>pid                 |     <span class="pl-c1">3</span> | <span class="pl-c1">218</span>.<span class="pl-c1">03</span> us     | <span class="pl-c1">72</span>.<span class="pl-c1">68</span> us    | <span class="pl-c1">154</span>.<span class="pl-c1">84</span> us   | <span class="pl-c1">0</span> ps         | <span class="pl-c1">21</span>.<span class="pl-c1">64</span> us      | <span class="pl-c1">196</span>.<span class="pl-c1">39</span> us    |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes    | <span class="pl-c1">0</span> bytes   |           <span class="pl-c1">1</span> | <span class="pl-c1">6</span> bytes       | <span class="pl-c1">6</span> bytes     |
| sql<span class="pl-k">/</span>casetest            |     <span class="pl-c1">5</span> | <span class="pl-c1">197</span>.<span class="pl-c1">15</span> us     | <span class="pl-c1">39</span>.<span class="pl-c1">43</span> us    | <span class="pl-c1">126</span>.<span class="pl-c1">31</span> us   | <span class="pl-c1">0</span> ps         | <span class="pl-c1">0</span> ps          | <span class="pl-c1">197</span>.<span class="pl-c1">15</span> us    |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes    | <span class="pl-c1">0</span> bytes   |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     |
| sql<span class="pl-k">/</span>global_ddl_log      |     <span class="pl-c1">2</span> | <span class="pl-c1">14</span>.<span class="pl-c1">60</span> us      | <span class="pl-c1">7</span>.<span class="pl-c1">30</span> us     | <span class="pl-c1">12</span>.<span class="pl-c1">12</span> us    | <span class="pl-c1">0</span> ps         | <span class="pl-c1">0</span> ps          | <span class="pl-c1">14</span>.<span class="pl-c1">60</span> us     |          <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes    | <span class="pl-c1">0</span> bytes   |           <span class="pl-c1">0</span> | <span class="pl-c1">0</span> bytes       | <span class="pl-c1">0</span> bytes     |
<span class="pl-k">+</span><span class="pl-c">-------------------------+-------+---------------+-------------+-------------+--------------+---------------+--------------+------------+------------+-----------+-------------+---------------+-------------+</span></pre></div>

<h4>
<a id="latest_file_io--xlatest_file_io" class="anchor" href="#latest_file_io--xlatest_file_io" aria-hidden="true"><span class="octicon octicon-link"></span></a>latest_file_io / x$latest_file_io</h4>

<h5>
<a id="description-15" class="anchor" href="#description-15" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows the latest file IO, by file / thread.</p>

<h5>
<a id="structures-13" class="anchor" href="#structures-13" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> latest_file_io;
<span class="pl-k">+</span><span class="pl-c">-----------+--------------+------+-----+---------+-------+</span>
| Field     | Type         | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">-----------+--------------+------+-----+---------+-------+</span>
| thread    | <span class="pl-k">varchar</span>(<span class="pl-c1">149</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| file      | <span class="pl-k">varchar</span>(<span class="pl-c1">512</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| latency   | <span class="pl-k">text</span>         | YES  |     | <span class="pl-k">NULL</span>    |       |
| operation | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)  | NO   |     | <span class="pl-k">NULL</span>    |       |
| requested | <span class="pl-k">text</span>         | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">-----------+--------------+------+-----+---------+-------+</span>
<span class="pl-c1">5</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">10</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$latest_file_io;
<span class="pl-k">+</span><span class="pl-c">-----------+---------------------+------+-----+---------+-------+</span>
| Field     | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">-----------+---------------------+------+-----+---------+-------+</span>
| thread    | <span class="pl-k">varchar</span>(<span class="pl-c1">149</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| file      | <span class="pl-k">varchar</span>(<span class="pl-c1">512</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
| operation | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | NO   |     | <span class="pl-k">NULL</span>    |       |
| requested | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)          | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">-----------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">5</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">05</span> sec)</pre></div>

<h5>
<a id="example-14" class="anchor" href="#example-14" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> latest_file_io <span class="pl-k">limit</span> <span class="pl-c1">5</span>;
<span class="pl-k">+</span><span class="pl-c">----------------------+----------------------------------------+------------+-----------+-----------+</span>
| thread               | file                                   | latency    | operation | requested |
<span class="pl-k">+</span><span class="pl-c">----------------------+----------------------------------------+------------+-----------+-----------+</span>
| msandbox@localhost:<span class="pl-c1">1</span> | @@tmpdir<span class="pl-k">/</span><span class="pl-c">#sqlcf28_1_4e.MYI             | 9.26 us    | write     | 124 bytes |</span>
| msandbox@localhost:<span class="pl-c1">1</span> | @@tmpdir<span class="pl-k">/</span><span class="pl-c">#sqlcf28_1_4e.MYI             | 4.00 us    | write     | 2 bytes   |</span>
| msandbox@localhost:<span class="pl-c1">1</span> | @@tmpdir<span class="pl-k">/</span><span class="pl-c">#sqlcf28_1_4e.MYI             | 56.34 us   | close     | NULL      |</span>
| msandbox@localhost:<span class="pl-c1">1</span> | @@tmpdir<span class="pl-k">/</span><span class="pl-c">#sqlcf28_1_4e.MYD             | 53.93 us   | close     | NULL      |</span>
| msandbox@localhost:<span class="pl-c1">1</span> | @@tmpdir<span class="pl-k">/</span><span class="pl-c">#sqlcf28_1_4e.MYI             | 104.05 ms  | delete    | NULL      |</span>
<span class="pl-k">+</span><span class="pl-c">----------------------+----------------------------------------+------------+-----------+-----------+</span></pre></div>

<h4>
<a id="memory_by_host_by_current_bytes--xmemory_by_host_by_current_bytes" class="anchor" href="#memory_by_host_by_current_bytes--xmemory_by_host_by_current_bytes" aria-hidden="true"><span class="octicon octicon-link"></span></a>memory_by_host_by_current_bytes / x$memory_by_host_by_current_bytes</h4>

<h5>
<a id="description-16" class="anchor" href="#description-16" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes memory use by host using the 5.7 Performance Schema instrumentation.</p>

<p>When the host found is NULL, it is assumed to be a local "background" thread.</p>

<h5>
<a id="structures-14" class="anchor" href="#structures-14" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> memory_by_host_by_current_bytes;
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------+------+-----+---------+-------+</span>
| Field              | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------+------+-----+---------+-------+</span>
| host               | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_count_used | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_allocated  | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_avg_alloc  | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_max_alloc  | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_allocated    | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">6</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">24</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$memory_by_host_by_current_bytes;
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------+------+-----+---------+-------+</span>
| Field              | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------+------+-----+---------+-------+</span>
| host               | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_count_used | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_allocated  | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_avg_alloc  | <span class="pl-k">decimal</span>(<span class="pl-c1">45</span>,<span class="pl-c1">4</span>) | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>  |       |
| current_max_alloc  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)    | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_allocated    | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">6</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">28</span> sec)</pre></div>

<h5>
<a id="example-15" class="anchor" href="#example-15" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> memory_by_host_by_current_bytes <span class="pl-k">WHERE</span> host <span class="pl-k">IS NOT NULL</span>;
   <span class="pl-k">+</span><span class="pl-c">------------+--------------------+-------------------+-------------------+-------------------+-----------------+</span>
   | host       | current_count_used | current_allocated | current_avg_alloc | current_max_alloc | total_allocated |
   <span class="pl-k">+</span><span class="pl-c">------------+--------------------+-------------------+-------------------+-------------------+-----------------+</span>
   | background |               <span class="pl-c1">2773</span> | <span class="pl-c1">10</span>.<span class="pl-c1">84</span> MiB         | <span class="pl-c1">4</span>.<span class="pl-c1">00</span> KiB          | <span class="pl-c1">8</span>.<span class="pl-c1">00</span> MiB          | <span class="pl-c1">30</span>.<span class="pl-c1">69</span> MiB       |
   | localhost  |               <span class="pl-c1">1509</span> | <span class="pl-c1">809</span>.<span class="pl-c1">30</span> KiB        | <span class="pl-c1">549</span> bytes         | <span class="pl-c1">176</span>.<span class="pl-c1">38</span> KiB        | <span class="pl-c1">83</span>.<span class="pl-c1">59</span> MiB       |
   <span class="pl-k">+</span><span class="pl-c">------------+--------------------+-------------------+-------------------+-------------------+-----------------+</span></pre></div>

<h4>
<a id="memory_by_thread_by_current_bytes--xmemory_by_thread_by_current_bytes" class="anchor" href="#memory_by_thread_by_current_bytes--xmemory_by_thread_by_current_bytes" aria-hidden="true"><span class="octicon octicon-link"></span></a>memory_by_thread_by_current_bytes / x$memory_by_thread_by_current_bytes</h4>

<h5>
<a id="description-17" class="anchor" href="#description-17" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes memory use by user using the 5.7 Performance Schema instrumentation.</p>

<p>The user columns shows either the background or foreground user name appropriately.</p>

<h5>
<a id="structures-15" class="anchor" href="#structures-15" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> memory_by_thread_by_current_bytes;
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------------+------+-----+---------+-------+</span>
| Field              | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------------+------+-----+---------+-------+</span>
| thread_id          | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| user               | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_count_used | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_allocated  | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_avg_alloc  | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_max_alloc  | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_allocated    | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">7</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">49</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$memory_by_thread_by_current_bytes;
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------------+------+-----+---------+-------+</span>
| Field              | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------------+------+-----+---------+-------+</span>
| thread_id          | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| user               | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_count_used | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_allocated  | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_avg_alloc  | <span class="pl-k">decimal</span>(<span class="pl-c1">45</span>,<span class="pl-c1">4</span>)       | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>  |       |
| current_max_alloc  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)          | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_allocated    | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">7</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">25</span> sec)</pre></div>

<h5>
<a id="example-16" class="anchor" href="#example-16" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> <span class="pl-c1">sys</span>.<span class="pl-c1">memory_by_thread_by_current_bytes</span> <span class="pl-k">limit</span> <span class="pl-c1">5</span>;
<span class="pl-k">+</span><span class="pl-c">-----------+----------------+--------------------+-------------------+-------------------+-------------------+-----------------+</span>
| thread_id | user           | current_count_used | current_allocated | current_avg_alloc | current_max_alloc | total_allocated |
<span class="pl-k">+</span><span class="pl-c">-----------+----------------+--------------------+-------------------+-------------------+-------------------+-----------------+</span>
|         <span class="pl-c1">1</span> | sql<span class="pl-k">/</span>main       |              <span class="pl-c1">29333</span> | <span class="pl-c1">166</span>.<span class="pl-c1">02</span> MiB        | <span class="pl-c1">5</span>.<span class="pl-c1">80</span> KiB          | <span class="pl-c1">131</span>.<span class="pl-c1">13</span> MiB        | <span class="pl-c1">196</span>.<span class="pl-c1">00</span> MiB      |
|        <span class="pl-c1">55</span> | root@localhost |                <span class="pl-c1">175</span> | <span class="pl-c1">1</span>.<span class="pl-c1">04</span> MiB          | <span class="pl-c1">6</span>.<span class="pl-c1">09</span> KiB          | <span class="pl-c1">350</span>.<span class="pl-c1">86</span> KiB        | <span class="pl-c1">67</span>.<span class="pl-c1">37</span> MiB       |
|        <span class="pl-c1">58</span> | root@localhost |                <span class="pl-c1">236</span> | <span class="pl-c1">368</span>.<span class="pl-c1">13</span> KiB        | <span class="pl-c1">1</span>.<span class="pl-c1">56</span> KiB          | <span class="pl-c1">312</span>.<span class="pl-c1">05</span> KiB        | <span class="pl-c1">130</span>.<span class="pl-c1">34</span> MiB      |
|       <span class="pl-c1">904</span> | root@localhost |                 <span class="pl-c1">32</span> | <span class="pl-c1">18</span>.<span class="pl-c1">00</span> KiB         | <span class="pl-c1">576</span> bytes         | <span class="pl-c1">16</span>.<span class="pl-c1">00</span> KiB         | <span class="pl-c1">6</span>.<span class="pl-c1">68</span> MiB        |
|       <span class="pl-c1">970</span> | root@localhost |                 <span class="pl-c1">12</span> | <span class="pl-c1">16</span>.<span class="pl-c1">80</span> KiB         | <span class="pl-c1">1</span>.<span class="pl-c1">40</span> KiB          | <span class="pl-c1">16</span>.<span class="pl-c1">00</span> KiB         | <span class="pl-c1">1</span>.<span class="pl-c1">20</span> MiB        |
<span class="pl-k">+</span><span class="pl-c">-----------+----------------+--------------------+-------------------+-------------------+-------------------+-----------------+</span></pre></div>

<h4>
<a id="memory_by_user_by_current_bytes--xmemory_by_user_by_current_bytes" class="anchor" href="#memory_by_user_by_current_bytes--xmemory_by_user_by_current_bytes" aria-hidden="true"><span class="octicon octicon-link"></span></a>memory_by_user_by_current_bytes / x$memory_by_user_by_current_bytes</h4>

<h5>
<a id="description-18" class="anchor" href="#description-18" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes memory use by user using the 5.7 Performance Schema instrumentation.</p>

<p>When the user found is NULL, it is assumed to be a "background" thread.</p>

<h5>
<a id="structures-16" class="anchor" href="#structures-16" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> memory_by_user_by_current_bytes;
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------+------+-----+---------+-------+</span>
| Field              | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------+------+-----+---------+-------+</span>
| user               | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_count_used | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_allocated  | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_avg_alloc  | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_max_alloc  | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_allocated    | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">6</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">06</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$memory_by_user_by_current_bytes;
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------+------+-----+---------+-------+</span>
| Field              | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------+------+-----+---------+-------+</span>
| user               | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_count_used | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_allocated  | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_avg_alloc  | <span class="pl-k">decimal</span>(<span class="pl-c1">45</span>,<span class="pl-c1">4</span>) | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>  |       |
| current_max_alloc  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)    | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_allocated    | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">6</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">12</span> sec)</pre></div>

<h5>
<a id="example-17" class="anchor" href="#example-17" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> memory_by_user_by_current_bytes;
<span class="pl-k">+</span><span class="pl-c">------+--------------------+-------------------+-------------------+-------------------+-----------------+</span>
| user | current_count_used | current_allocated | current_avg_alloc | current_max_alloc | total_allocated |
<span class="pl-k">+</span><span class="pl-c">------+--------------------+-------------------+-------------------+-------------------+-----------------+</span>
| root |               <span class="pl-c1">1401</span> | <span class="pl-c1">1</span>.<span class="pl-c1">09</span> MiB          | <span class="pl-c1">815</span> bytes         | <span class="pl-c1">334</span>.<span class="pl-c1">97</span> KiB        | <span class="pl-c1">42</span>.<span class="pl-c1">73</span> MiB       |
| mark |                <span class="pl-c1">201</span> | <span class="pl-c1">496</span>.<span class="pl-c1">08</span> KiB        | <span class="pl-c1">2</span>.<span class="pl-c1">47</span> KiB          | <span class="pl-c1">334</span>.<span class="pl-c1">97</span> KiB        | <span class="pl-c1">5</span>.<span class="pl-c1">50</span> MiB        |
<span class="pl-k">+</span><span class="pl-c">------+--------------------+-------------------+-------------------+-------------------+-----------------+</span></pre></div>

<h4>
<a id="memory_global_by_current_bytes--xmemory_global_by_current_bytes" class="anchor" href="#memory_global_by_current_bytes--xmemory_global_by_current_bytes" aria-hidden="true"><span class="octicon octicon-link"></span></a>memory_global_by_current_bytes / x$memory_global_by_current_bytes</h4>

<h5>
<a id="description-19" class="anchor" href="#description-19" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows the current memory usage within the server globally broken down by allocation type.</p>

<h5>
<a id="structures-17" class="anchor" href="#structures-17" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> memory_global_by_current_bytes;
<span class="pl-k">+</span><span class="pl-c">-------------------+--------------+------+-----+---------+-------+</span>
| Field             | Type         | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------------+--------------+------+-----+---------+-------+</span>
| event_name        | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>) | NO   |     | <span class="pl-k">NULL</span>    |       |
| current_count     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)   | NO   |     | <span class="pl-k">NULL</span>    |       |
| current_alloc     | <span class="pl-k">text</span>         | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_avg_alloc | <span class="pl-k">text</span>         | YES  |     | <span class="pl-k">NULL</span>    |       |
| high_count        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)   | NO   |     | <span class="pl-k">NULL</span>    |       |
| high_alloc        | <span class="pl-k">text</span>         | YES  |     | <span class="pl-k">NULL</span>    |       |
| high_avg_alloc    | <span class="pl-k">text</span>         | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">-------------------+--------------+------+-----+---------+-------+</span>
<span class="pl-c1">7</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">08</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$memory_global_by_current_bytes;
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------+------+-----+---------+-------+</span>
| Field             | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------+------+-----+---------+-------+</span>
| event_name        | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)  | NO   |     | <span class="pl-k">NULL</span>    |       |
| current_count     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)    | NO   |     | <span class="pl-k">NULL</span>    |       |
| current_alloc     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)    | NO   |     | <span class="pl-k">NULL</span>    |       |
| current_avg_alloc | <span class="pl-k">decimal</span>(<span class="pl-c1">23</span>,<span class="pl-c1">4</span>) | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>  |       |
| high_count        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)    | NO   |     | <span class="pl-k">NULL</span>    |       |
| high_alloc        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)    | NO   |     | <span class="pl-k">NULL</span>    |       |
| high_avg_alloc    | <span class="pl-k">decimal</span>(<span class="pl-c1">23</span>,<span class="pl-c1">4</span>) | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>  |       |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">7</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">16</span> sec)</pre></div>

<h5>
<a id="example-18" class="anchor" href="#example-18" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> memory_global_by_current_bytes;
<span class="pl-k">+</span><span class="pl-c">----------------------------------------+---------------+---------------+-------------------+------------+------------+----------------+</span>
| event_name                             | current_count | current_alloc | current_avg_alloc | high_count | high_alloc | high_avg_alloc |
<span class="pl-k">+</span><span class="pl-c">----------------------------------------+---------------+---------------+-------------------+------------+------------+----------------+</span>
| memory<span class="pl-k">/</span>sql<span class="pl-k">/</span>TABLE_SHARE::mem_root       |           <span class="pl-c1">269</span> | <span class="pl-c1">568</span>.<span class="pl-c1">21</span> KiB    | <span class="pl-c1">2</span>.<span class="pl-c1">11</span> KiB          |        <span class="pl-c1">339</span> | <span class="pl-c1">706</span>.<span class="pl-c1">04</span> KiB | <span class="pl-c1">2</span>.<span class="pl-c1">08</span> KiB       |
| memory<span class="pl-k">/</span>sql<span class="pl-k">/</span>TABLE                       |           <span class="pl-c1">214</span> | <span class="pl-c1">366</span>.<span class="pl-c1">56</span> KiB    | <span class="pl-c1">1</span>.<span class="pl-c1">71</span> KiB          |        <span class="pl-c1">245</span> | <span class="pl-c1">481</span>.<span class="pl-c1">13</span> KiB | <span class="pl-c1">1</span>.<span class="pl-c1">96</span> KiB       |
| memory<span class="pl-k">/</span>sql<span class="pl-k">/</span>sp_head::main_mem_root      |            <span class="pl-c1">32</span> | <span class="pl-c1">334</span>.<span class="pl-c1">97</span> KiB    | <span class="pl-c1">10</span>.<span class="pl-c1">47</span> KiB         |        <span class="pl-c1">421</span> | <span class="pl-c1">9</span>.<span class="pl-c1">73</span> MiB   | <span class="pl-c1">23</span>.<span class="pl-c1">66</span> KiB      |
| memory<span class="pl-k">/</span>sql<span class="pl-k">/</span>Filesort_buffer::sort_keys  |             <span class="pl-c1">1</span> | <span class="pl-c1">255</span>.<span class="pl-c1">89</span> KiB    | <span class="pl-c1">255</span>.<span class="pl-c1">89</span> KiB        |          <span class="pl-c1">1</span> | <span class="pl-c1">256</span>.<span class="pl-c1">00</span> KiB | <span class="pl-c1">256</span>.<span class="pl-c1">00</span> KiB     |
| memory<span class="pl-k">/</span>mysys<span class="pl-k">/</span>array_buffer              |            <span class="pl-c1">82</span> | <span class="pl-c1">121</span>.<span class="pl-c1">66</span> KiB    | <span class="pl-c1">1</span>.<span class="pl-c1">48</span> KiB          |       <span class="pl-c1">1124</span> | <span class="pl-c1">852</span>.<span class="pl-c1">55</span> KiB | <span class="pl-c1">777</span> bytes      |
...
<span class="pl-k">+</span><span class="pl-c">----------------------------------------+---------------+---------------+-------------------+------------+------------+----------------+</span></pre></div>

<h4>
<a id="memory_global_total--xmemory_global_total" class="anchor" href="#memory_global_total--xmemory_global_total" aria-hidden="true"><span class="octicon octicon-link"></span></a>memory_global_total / x$memory_global_total</h4>

<h5>
<a id="description-20" class="anchor" href="#description-20" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows the total memory usage within the server globally.</p>

<h5>
<a id="structures-18" class="anchor" href="#structures-18" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> memory_global_total;
<span class="pl-k">+</span><span class="pl-c">-----------------+------+------+-----+---------+-------+</span>
| Field           | Type | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">-----------------+------+------+-----+---------+-------+</span>
| total_allocated | <span class="pl-k">text</span> | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">-----------------+------+------+-----+---------+-------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">07</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$memory_global_total;
<span class="pl-k">+</span><span class="pl-c">-----------------+---------------+------+-----+---------+-------+</span>
| Field           | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">-----------------+---------------+------+-----+---------+-------+</span>
| total_allocated | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">-----------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h5>
<a id="example-19" class="anchor" href="#example-19" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> memory_global_total;
<span class="pl-k">+</span><span class="pl-c">-----------------+</span>
| total_allocated |
<span class="pl-k">+</span><span class="pl-c">-----------------+</span>
| <span class="pl-c1">458</span>.<span class="pl-c1">44</span> MiB      |
<span class="pl-k">+</span><span class="pl-c">-----------------+</span></pre></div>

<h4>
<a id="metrics" class="anchor" href="#metrics" aria-hidden="true"><span class="octicon octicon-link"></span></a>metrics</h4>

<h5>
<a id="description-21" class="anchor" href="#description-21" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Creates a union of the following information:</p>

<ul>
<li> performance_schema.global_status (information_schema.GLOBAL_STATUS in MySQL 5.6)</li>
<li> information_schema.INNODB_METRICS</li>
<li> Performance Schema global memory usage information (only in MySQL 5.7)</li>
<li> Current time</li>
</ul>

<p>In MySQL 5.7 it is required that performance_schema = ON, though there is no requirements to which
instruments and consumers that are enabled. See also the description of the Enabled column below.</p>

<p>For view has the following columns:</p>

<ul>
<li>Variable_name: The name of the variable</li>
<li>Variable_value: The value of the variable</li>
<li>Type: The type of the variable. This will depend on the source, e.g. Global Status, InnoDB Metrics - ..., etc.</li>
<li>Enabled: Whether the variable is enabled or not. Possible values are 'YES', 'NO', 'PARTIAL'.
 PARTIAL is currently only supported for the memory usage variables and means some but not all of the memory/% instruments are enabled.</li>
</ul>

<h5>
<a id="structures-19" class="anchor" href="#structures-19" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">DESC</span> metrics;
<span class="pl-k">+</span><span class="pl-c">----------------+--------------+------+-----+---------+-------+</span>
| Field          | Type         | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">----------------+--------------+------+-----+---------+-------+</span>
| Variable_name  | <span class="pl-k">varchar</span>(<span class="pl-c1">193</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| Variable_value | <span class="pl-k">text</span>         | YES  |     | <span class="pl-k">NULL</span>    |       |
| Type           | <span class="pl-k">varchar</span>(<span class="pl-c1">210</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| Enabled        | <span class="pl-k">varchar</span>(<span class="pl-c1">7</span>)   | NO   |     |         |       |
<span class="pl-k">+</span><span class="pl-c">----------------+--------------+------+-----+---------+-------+</span>
<span class="pl-c1">4</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysq<span class="pl-k">&gt;</span> <span class="pl-k">DESC</span> metrics_56;
<span class="pl-k">+</span><span class="pl-c">----------------+--------------+------+-----+---------+-------+</span>
| Field          | Type         | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">----------------+--------------+------+-----+---------+-------+</span>
| Variable_name  | <span class="pl-k">varchar</span>(<span class="pl-c1">193</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| Variable_value | <span class="pl-k">text</span>         | YES  |     | <span class="pl-k">NULL</span>    |       |
| Type           | <span class="pl-k">varchar</span>(<span class="pl-c1">210</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| Enabled        | <span class="pl-k">varchar</span>(<span class="pl-c1">7</span>)   | NO   |     |         |       |
<span class="pl-k">+</span><span class="pl-c">----------------+--------------+------+-----+---------+-------+</span>
<span class="pl-c1">4</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)</pre></div>

<h5>
<a id="example-20" class="anchor" href="#example-20" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-k">*</span> <span class="pl-k">FROM</span> metrics;
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------+-------------------------...+--------------------------------------+---------+</span>
| Variable_name                                 | Variable_value          ...| Type                                 | Enabled |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------+-------------------------...+--------------------------------------+---------+</span>
| aborted_clients                               | <span class="pl-c1">0</span>                       ...| Global Status                        | YES     |
| aborted_connects                              | <span class="pl-c1">0</span>                       ...| Global Status                        | YES     |
| binlog_cache_disk_use                         | <span class="pl-c1">0</span>                       ...| Global Status                        | YES     |
| binlog_cache_use                              | <span class="pl-c1">0</span>                       ...| Global Status                        | YES     |
| binlog_stmt_cache_disk_use                    | <span class="pl-c1">0</span>                       ...| Global Status                        | YES     |
| binlog_stmt_cache_use                         | <span class="pl-c1">0</span>                       ...| Global Status                        | YES     |
| bytes_received                                | <span class="pl-c1">217081</span>                  ...| Global Status                        | YES     |
| bytes_sent                                    | <span class="pl-c1">27257</span>                   ...| Global Status                        | YES     |
...
| innodb_rwlock_x_os_waits                      | <span class="pl-c1">0</span>                       ...| InnoDB Metrics <span class="pl-k">-</span> server              | YES     |
| innodb_rwlock_x_spin_rounds                   | <span class="pl-c1">2723</span>                    ...| InnoDB Metrics <span class="pl-k">-</span> server              | YES     |
| innodb_rwlock_x_spin_waits                    | <span class="pl-c1">1</span>                       ...| InnoDB Metrics <span class="pl-k">-</span> server              | YES     |
| trx_active_transactions                       | <span class="pl-c1">0</span>                       ...| InnoDB Metrics <span class="pl-k">-</span> transaction         | NO      |
...
| trx_rseg_current_size                         | <span class="pl-c1">0</span>                       ...| InnoDB Metrics <span class="pl-k">-</span> transaction         | NO      |
| trx_rseg_history_len                          | <span class="pl-c1">4</span>                       ...| InnoDB Metrics <span class="pl-k">-</span> transaction         | YES     |
| trx_rw_commits                                | <span class="pl-c1">0</span>                       ...| InnoDB Metrics <span class="pl-k">-</span> transaction         | NO      |
| trx_undo_slots_cached                         | <span class="pl-c1">0</span>                       ...| InnoDB Metrics <span class="pl-k">-</span> transaction         | NO      |
| trx_undo_slots_used                           | <span class="pl-c1">0</span>                       ...| InnoDB Metrics <span class="pl-k">-</span> transaction         | NO      |
| memory_current_allocated                      | <span class="pl-c1">138244216</span>               ...| Performance Schema                   | PARTIAL |
| memory_total_allocated                        | <span class="pl-c1">138244216</span>               ...| Performance Schema                   | PARTIAL |
| NOW()                                         | <span class="pl-c1">2015</span><span class="pl-k">-</span><span class="pl-c1">05</span><span class="pl-k">-</span><span class="pl-c1">31</span> <span class="pl-c1">13</span>:<span class="pl-c1">27</span>:<span class="pl-c1">50</span>.<span class="pl-c1">382</span> ...| System <span class="pl-k">Time</span>                          | YES     |
| UNIX_TIMESTAMP()                              | <span class="pl-c1">1433042870</span>.<span class="pl-c1">382</span>          ...| System <span class="pl-k">Time</span>                          | YES     |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------+-------------------------...+--------------------------------------+---------+</span>
<span class="pl-c1">412</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">02</span> sec)</pre></div>

<h4>
<a id="processlist--xprocesslist" class="anchor" href="#processlist--xprocesslist" aria-hidden="true"><span class="octicon octicon-link"></span></a>processlist / x$processlist</h4>

<h5>
<a id="description-22" class="anchor" href="#description-22" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>A detailed non-blocking processlist view to replace [INFORMATION_SCHEMA. | SHOW FULL] PROCESSLIST.</p>

<p>Performs less locking than the legacy sources, whilst giving extra information.</p>

<p>The output includes both background threads and user connections by default.  See also <code>session</code> / <code>x$session</code>
for a view that contains only user session information.</p>

<h5>
<a id="structures-57-1" class="anchor" href="#structures-57-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures (5.7)</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> processlist;
<span class="pl-k">+</span><span class="pl-c">------------------------+------------------------------------------+------+-----+---------+-------+</span>
| Field                  | Type                                     | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">------------------------+------------------------------------------+------+-----+---------+-------+</span>
| thd_id                 | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | NO   |     | <span class="pl-k">NULL</span>    |       |
| conn_id                | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| user                   | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)                             | YES  |     | <span class="pl-k">NULL</span>    |       |
| db                     | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| command                | <span class="pl-k">varchar</span>(<span class="pl-c1">16</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| state                  | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| <span class="pl-k">time</span>                   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)                               | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_statement      | longtext                                 | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement_latency      | <span class="pl-k">text</span>                                     | YES  |     | <span class="pl-k">NULL</span>    |       |
| progress               | <span class="pl-k">decimal</span>(<span class="pl-c1">26</span>,<span class="pl-c1">2</span>)                            | YES  |     | <span class="pl-k">NULL</span>    |       |
| lock_latency           | <span class="pl-k">text</span>                                     | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_examined          | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_sent              | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_affected          | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| tmp_tables             | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| tmp_disk_tables        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| full_scan              | <span class="pl-k">varchar</span>(<span class="pl-c1">3</span>)                               | NO   |     |         |       |
| last_statement         | longtext                                 | YES  |     | <span class="pl-k">NULL</span>    |       |
| last_statement_latency | <span class="pl-k">text</span>                                     | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_memory         | <span class="pl-k">text</span>                                     | YES  |     | <span class="pl-k">NULL</span>    |       |
| last_wait              | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)                             | YES  |     | <span class="pl-k">NULL</span>    |       |
| last_wait_latency      | <span class="pl-k">text</span>                                     | YES  |     | <span class="pl-k">NULL</span>    |       |
| source                 | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| trx_latency            | <span class="pl-k">text</span>                                     | YES  |     | <span class="pl-k">NULL</span>    |       |
| trx_state              | enum(<span class="pl-s"><span class="pl-pds">'</span>ACTIVE<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>COMMITTED<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>ROLLED BACK<span class="pl-pds">'</span></span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| trx_autocommit         | enum(<span class="pl-s"><span class="pl-pds">'</span>YES<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>NO<span class="pl-pds">'</span></span>)                         | YES  |     | <span class="pl-k">NULL</span>    |       |
| pid                    | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)                            | YES  |     | <span class="pl-k">NULL</span>    |       |
| program_name           | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)                            | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">------------------------+------------------------------------------+------+-----+---------+-------+</span>
<span class="pl-c1">28</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">04</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$processlist;
<span class="pl-k">+</span><span class="pl-c">------------------------+------------------------------------------+------+-----+---------+-------+</span>
| Field                  | Type                                     | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">------------------------+------------------------------------------+------+-----+---------+-------+</span>
| thd_id                 | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | NO   |     | <span class="pl-k">NULL</span>    |       |
| conn_id                | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| user                   | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)                             | YES  |     | <span class="pl-k">NULL</span>    |       |
| db                     | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| command                | <span class="pl-k">varchar</span>(<span class="pl-c1">16</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| state                  | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| <span class="pl-k">time</span>                   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)                               | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_statement      | longtext                                 | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement_latency      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| progress               | <span class="pl-k">decimal</span>(<span class="pl-c1">26</span>,<span class="pl-c1">2</span>)                            | YES  |     | <span class="pl-k">NULL</span>    |       |
| lock_latency           | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_examined          | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_sent              | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_affected          | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| tmp_tables             | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| tmp_disk_tables        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| full_scan              | <span class="pl-k">varchar</span>(<span class="pl-c1">3</span>)                               | NO   |     |         |       |
| last_statement         | longtext                                 | YES  |     | <span class="pl-k">NULL</span>    |       |
| last_statement_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_memory         | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>)                            | YES  |     | <span class="pl-k">NULL</span>    |       |
| last_wait              | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)                             | YES  |     | <span class="pl-k">NULL</span>    |       |
| last_wait_latency      | <span class="pl-k">varchar</span>(<span class="pl-c1">20</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| source                 | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| trx_latency            | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| trx_state              | enum(<span class="pl-s"><span class="pl-pds">'</span>ACTIVE<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>COMMITTED<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>ROLLED BACK<span class="pl-pds">'</span></span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| trx_autocommit         | enum(<span class="pl-s"><span class="pl-pds">'</span>YES<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>NO<span class="pl-pds">'</span></span>)                         | YES  |     | <span class="pl-k">NULL</span>    |       |
| pid                    | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)                            | YES  |     | <span class="pl-k">NULL</span>    |       |
| program_name           | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)                            | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">------------------------+------------------------------------------+------+-----+---------+-------+</span>
<span class="pl-c1">28</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)</pre></div>

<h5>
<a id="example-21" class="anchor" href="#example-21" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> <span class="pl-c1">sys</span>.<span class="pl-c1">processlist</span> <span class="pl-k">where</span> conn_id <span class="pl-k">is not null</span> <span class="pl-k">and</span> command <span class="pl-k">!=</span> <span class="pl-s"><span class="pl-pds">'</span>daemon<span class="pl-pds">'</span></span> <span class="pl-k">and</span> conn_id <span class="pl-k">!=</span> connection_id()\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
                thd_id: <span class="pl-c1">44524</span>
               conn_id: <span class="pl-c1">44502</span>
                  user: msandbox@localhost
                    db: test
               command: Query
                 state: alter table (flush)
                  <span class="pl-k">time</span>: <span class="pl-c1">18</span>
     current_statement: alter table t1 add column g <span class="pl-k">int</span>
     statement_latency: <span class="pl-c1">18</span>.<span class="pl-c1">45</span> s
              progress: <span class="pl-c1">98</span>.<span class="pl-c1">84</span>
          lock_latency: <span class="pl-c1">265</span>.<span class="pl-c1">43</span> ms
         rows_examined: <span class="pl-c1">0</span>
             rows_sent: <span class="pl-c1">0</span>
         rows_affected: <span class="pl-c1">0</span>
            tmp_tables: <span class="pl-c1">0</span>
       tmp_disk_tables: <span class="pl-c1">0</span>
             full_scan: NO
        last_statement: <span class="pl-k">NULL</span>
last_statement_latency: <span class="pl-k">NULL</span>
        current_memory: <span class="pl-c1">664</span>.<span class="pl-c1">06</span> KiB
             last_wait: wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>innodb<span class="pl-k">/</span>innodb_data_file
     last_wait_latency: <span class="pl-c1">1</span>.<span class="pl-c1">07</span> us
                source: <span class="pl-c1">fil0fil</span>.<span class="pl-c1">cc</span>:<span class="pl-c1">5146</span>
           trx_latency: <span class="pl-k">NULL</span>
             trx_state: <span class="pl-k">NULL</span>
        trx_autocommit: <span class="pl-k">NULL</span>
                   pid: <span class="pl-c1">4212</span>
          program_name: mysql</pre></div>

<h4>
<a id="ps_check_lost_instrumentation" class="anchor" href="#ps_check_lost_instrumentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_check_lost_instrumentation</h4>

<h5>
<a id="description-23" class="anchor" href="#description-23" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Used to check whether Performance Schema is not able to monitor all runtime data - only returns variables that have lost instruments</p>

<h5>
<a id="structure" class="anchor" href="#structure" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structure</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> ps_check_lost_instrumentation;
<span class="pl-k">+</span><span class="pl-c">----------------+---------------+------+-----+---------+-------+</span>
| Field          | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">----------------+---------------+------+-----+---------+-------+</span>
| variable_name  | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)   | NO   |     |         |       |
| variable_value | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">----------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">2</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">09</span> sec)</pre></div>

<h5>
<a id="example-22" class="anchor" href="#example-22" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> ps_check_lost_instrumentation;
<span class="pl-k">+</span><span class="pl-c">----------------------------------------+----------------+</span>
| variable_name                          | variable_value |
<span class="pl-k">+</span><span class="pl-c">----------------------------------------+----------------+</span>
| Performance_schema_file_handles_lost   | <span class="pl-c1">101223</span>         |
| Performance_schema_file_instances_lost | <span class="pl-c1">1231</span>           |
<span class="pl-k">+</span><span class="pl-c">----------------------------------------+----------------+</span></pre></div>

<h4>
<a id="schema_auto_increment_columns" class="anchor" href="#schema_auto_increment_columns" aria-hidden="true"><span class="octicon octicon-link"></span></a>schema_auto_increment_columns</h4>

<h5>
<a id="description-24" class="anchor" href="#description-24" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Present current auto_increment usage/capacity in all tables.</p>

<h5>
<a id="structures-20" class="anchor" href="#structures-20" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> schema_auto_increment_columns;
<span class="pl-k">+</span><span class="pl-c">----------------------+------------------------+------+-----+---------+-------+</span>
| Field                | Type                   | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">----------------------+------------------------+------+-----+---------+-------+</span>
| table_schema         | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)            | NO   |     |         |       |
| table_name           | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)            | NO   |     |         |       |
| column_name          | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)            | NO   |     |         |       |
| data_type            | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)            | NO   |     |         |       |
| column_type          | longtext               | NO   |     | <span class="pl-k">NULL</span>    |       |
| is_signed            | <span class="pl-k">int</span>(<span class="pl-c1">1</span>)                 | NO   |     | <span class="pl-c1">0</span>       |       |
| is_unsigned          | <span class="pl-k">int</span>(<span class="pl-c1">1</span>)                 | NO   |     | <span class="pl-c1">0</span>       |       |
| max_value            | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned    | YES  |     | <span class="pl-k">NULL</span>    |       |
| auto_increment       | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned    | YES  |     | <span class="pl-k">NULL</span>    |       |
| auto_increment_ratio | <span class="pl-k">decimal</span>(<span class="pl-c1">25</span>,<span class="pl-c1">4</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">----------------------+------------------------+------+-----+---------+-------+</span></pre></div>

<h5>
<a id="example-23" class="anchor" href="#example-23" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> schema_auto_increment_columns <span class="pl-k">limit</span> <span class="pl-c1">5</span>;
<span class="pl-k">+</span><span class="pl-c">-------------------+-------------------+-------------+-----------+-------------+-----------+-------------+---------------------+----------------+----------------------+</span>
| table_schema      | table_name        | column_name | data_type | column_type | is_signed | is_unsigned | max_value           | auto_increment | auto_increment_ratio |
<span class="pl-k">+</span><span class="pl-c">-------------------+-------------------+-------------+-----------+-------------+-----------+-------------+---------------------+----------------+----------------------+</span>
| test              | t1                | i           | tinyint   | <span class="pl-k">tinyint</span>(<span class="pl-c1">4</span>)  |         <span class="pl-c1">1</span> |           <span class="pl-c1">0</span> |                 <span class="pl-c1">127</span> |             <span class="pl-c1">34</span> |               <span class="pl-c1">0</span>.<span class="pl-c1">2677</span> |
| mem__advisor_text | template_meta     | hib_id      | <span class="pl-k">int</span>       | <span class="pl-k">int</span>(<span class="pl-c1">11</span>)     |         <span class="pl-c1">1</span> |           <span class="pl-c1">0</span> |          <span class="pl-c1">2147483647</span> |            <span class="pl-c1">516</span> |               <span class="pl-c1">0</span>.<span class="pl-c1">0000</span> |
| mem__advisors     | advisor_schedules | schedule_id | <span class="pl-k">int</span>       | <span class="pl-k">int</span>(<span class="pl-c1">11</span>)     |         <span class="pl-c1">1</span> |           <span class="pl-c1">0</span> |          <span class="pl-c1">2147483647</span> |            <span class="pl-c1">249</span> |               <span class="pl-c1">0</span>.<span class="pl-c1">0000</span> |
| mem__advisors     | app_identity_path | hib_id      | <span class="pl-k">int</span>       | <span class="pl-k">int</span>(<span class="pl-c1">11</span>)     |         <span class="pl-c1">1</span> |           <span class="pl-c1">0</span> |          <span class="pl-c1">2147483647</span> |            <span class="pl-c1">251</span> |               <span class="pl-c1">0</span>.<span class="pl-c1">0000</span> |
| mem__bean_config  | plists            | id          | <span class="pl-k">bigint</span>    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)  |         <span class="pl-c1">1</span> |           <span class="pl-c1">0</span> | <span class="pl-c1">9223372036854775807</span> |              <span class="pl-c1">1</span> |               <span class="pl-c1">0</span>.<span class="pl-c1">0000</span> |
<span class="pl-k">+</span><span class="pl-c">-------------------+-------------------+-------------+-----------+-------------+-----------+-------------+---------------------+----------------+----------------------+</span></pre></div>

<h4>
<a id="schema_index_statistics--xschema_index_statistics" class="anchor" href="#schema_index_statistics--xschema_index_statistics" aria-hidden="true"><span class="octicon octicon-link"></span></a>schema_index_statistics / x$schema_index_statistics</h4>

<h5>
<a id="description-25" class="anchor" href="#description-25" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Statistics around indexes.</p>

<p>Ordered by the total wait time descending - top indexes are most contended.</p>

<h5>
<a id="structures-21" class="anchor" href="#structures-21" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> schema_index_statistics;
<span class="pl-k">+</span><span class="pl-c">----------------+---------------------+------+-----+---------+-------+</span>
| Field          | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">----------------+---------------------+------+-----+---------+-------+</span>
| table_schema   | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| table_name     | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| index_name     | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_selected  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| select_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_inserted  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| insert_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_updated   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| update_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_deleted   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| delete_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">----------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">11</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">17</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$schema_index_statistics;
<span class="pl-k">+</span><span class="pl-c">----------------+---------------------+------+-----+---------+-------+</span>
| Field          | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">----------------+---------------------+------+-----+---------+-------+</span>
| table_schema   | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| table_name     | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| index_name     | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_selected  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| select_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_inserted  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| insert_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_updated   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| update_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_deleted   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| delete_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">----------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">11</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">42</span> sec)</pre></div>

<h5>
<a id="example-24" class="anchor" href="#example-24" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> schema_index_statistics <span class="pl-k">limit</span> <span class="pl-c1">5</span>;
<span class="pl-k">+</span><span class="pl-c">------------------+-------------+------------+---------------+----------------+---------------+----------------+--------------+----------------+--------------+----------------+</span>
| table_schema     | table_name  | index_name | rows_selected | select_latency | rows_inserted | insert_latency | rows_updated | update_latency | rows_deleted | delete_latency |
<span class="pl-k">+</span><span class="pl-c">------------------+-------------+------------+---------------+----------------+---------------+----------------+--------------+----------------+--------------+----------------+</span>
| mem              | mysqlserver | PRIMARY    |          <span class="pl-c1">6208</span> | <span class="pl-c1">108</span>.<span class="pl-c1">27</span> ms      |             <span class="pl-c1">0</span> | <span class="pl-c1">0</span> ps           |         <span class="pl-c1">5470</span> | <span class="pl-c1">1</span>.<span class="pl-c1">47</span> s         |            <span class="pl-c1">0</span> | <span class="pl-c1">0</span> ps           |
| mem              | innodb      | PRIMARY    |          <span class="pl-c1">4666</span> | <span class="pl-c1">76</span>.<span class="pl-c1">27</span> ms       |             <span class="pl-c1">0</span> | <span class="pl-c1">0</span> ps           |         <span class="pl-c1">4454</span> | <span class="pl-c1">571</span>.<span class="pl-c1">47</span> ms      |            <span class="pl-c1">0</span> | <span class="pl-c1">0</span> ps           |
| mem              | connection  | PRIMARY    |          <span class="pl-c1">1064</span> | <span class="pl-c1">20</span>.<span class="pl-c1">98</span> ms       |             <span class="pl-c1">0</span> | <span class="pl-c1">0</span> ps           |         <span class="pl-c1">1064</span> | <span class="pl-c1">457</span>.<span class="pl-c1">30</span> ms      |            <span class="pl-c1">0</span> | <span class="pl-c1">0</span> ps           |
| mem              | environment | PRIMARY    |          <span class="pl-c1">5566</span> | <span class="pl-c1">151</span>.<span class="pl-c1">17</span> ms      |             <span class="pl-c1">0</span> | <span class="pl-c1">0</span> ps           |          <span class="pl-c1">694</span> | <span class="pl-c1">252</span>.<span class="pl-c1">57</span> ms      |            <span class="pl-c1">0</span> | <span class="pl-c1">0</span> ps           |
| mem              | querycache  | PRIMARY    |          <span class="pl-c1">1698</span> | <span class="pl-c1">27</span>.<span class="pl-c1">99</span> ms       |             <span class="pl-c1">0</span> | <span class="pl-c1">0</span> ps           |         <span class="pl-c1">1698</span> | <span class="pl-c1">371</span>.<span class="pl-c1">72</span> ms      |            <span class="pl-c1">0</span> | <span class="pl-c1">0</span> ps           |
<span class="pl-k">+</span><span class="pl-c">------------------+-------------+------------+---------------+----------------+---------------+----------------+--------------+----------------+--------------+----------------+</span></pre></div>

<h4>
<a id="schema_object_overview" class="anchor" href="#schema_object_overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>schema_object_overview</h4>

<h5>
<a id="description-26" class="anchor" href="#description-26" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows an overview of the types of objects within each schema</p>

<p>Note: On instances with a large numbers of objects, this could take some time to execute, and may not be recommended.</p>

<h5>
<a id="structure-1" class="anchor" href="#structure-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structure</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> schema_object_overview;
<span class="pl-k">+</span><span class="pl-c">-------------+-------------+------+-----+---------+-------+</span>
| Field       | Type        | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------+-------------+------+-----+---------+-------+</span>
| db          | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>) | NO   |     |         |       |
| object_type | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>) | NO   |     |         |       |
| count       | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)  | NO   |     | <span class="pl-c1">0</span>       |       |
<span class="pl-k">+</span><span class="pl-c">-------------+-------------+------+-----+---------+-------+</span>
<span class="pl-c1">3</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">08</span> sec)</pre></div>

<h5>
<a id="example-25" class="anchor" href="#example-25" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> schema_object_overview;
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------+-------+</span>
| db                 | object_type   | count |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------+-------+</span>
| information_schema | SYSTEM VIEW   |    <span class="pl-c1">60</span> |
| mysql              | BASE TABLE    |    <span class="pl-c1">31</span> |
| mysql              | INDEX (BTREE) |    <span class="pl-c1">69</span> |
| performance_schema | BASE TABLE    |    <span class="pl-c1">76</span> |
| sys                | BASE TABLE    |     <span class="pl-c1">1</span> |
| sys                | FUNCTION      |    <span class="pl-c1">12</span> |
| sys                | INDEX (BTREE) |     <span class="pl-c1">1</span> |
| sys                | PROCEDURE     |    <span class="pl-c1">22</span> |
| sys                | TRIGGER       |     <span class="pl-c1">2</span> |
| sys                | VIEW          |    <span class="pl-c1">91</span> |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------+-------+</span>
<span class="pl-c1">10</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">1</span>.<span class="pl-c1">58</span> sec)</pre></div>

<h4>
<a id="schema_table_statistics--xschema_table_statistics" class="anchor" href="#schema_table_statistics--xschema_table_statistics" aria-hidden="true"><span class="octicon octicon-link"></span></a>schema_table_statistics / x$schema_table_statistics</h4>

<h5>
<a id="description-27" class="anchor" href="#description-27" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Statistics around tables.</p>

<p>Ordered by the total wait time descending - top tables are most contended.</p>

<p>Also includes the helper view (used by schema_table_statistics_with_buffer as well):</p>

<ul>
<li>x$ps_schema_table_statistics_io</li>
</ul>

<h5>
<a id="structures-22" class="anchor" href="#structures-22" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> schema_table_statistics;
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------+-------+</span>
| Field             | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------+-------+</span>
| table_schema      | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| table_name        | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_latency     | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_fetched      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| fetch_latency     | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_inserted     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| insert_latency    | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_updated      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| update_latency    | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_deleted      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| delete_latency    | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_read_requests  | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_read           | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_read_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_write_requests | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_write          | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_write_latency  | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_misc_requests  | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_misc_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">19</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">12</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$schema_table_statistics;
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------+-------+</span>
| Field             | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------+-------+</span>
| table_schema      | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| table_name        | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_latency     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_fetched      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| fetch_latency     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_inserted     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| insert_latency    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_updated      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| update_latency    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_deleted      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| delete_latency    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| io_read_requests  | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_read           | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_read_latency   | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_write_requests | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_write          | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_write_latency  | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_misc_requests  | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_misc_latency   | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">19</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">13</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$ps_schema_table_statistics_io;
<span class="pl-k">+</span><span class="pl-c">---------------------------+---------------+------+-----+---------+-------+</span>
| Field                     | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------------------+---------------+------+-----+---------+-------+</span>
| table_schema              | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| table_name                | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| count_read                | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| sum_number_of_bytes_read  | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| sum_timer_read            | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| count_write               | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| sum_number_of_bytes_write | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| sum_timer_write           | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| count_misc                | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| sum_timer_misc            | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">10</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">10</span> sec)</pre></div>

<h5>
<a id="example-26" class="anchor" href="#example-26" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> schema_table_statistics\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
     table_schema: sys
       table_name: sys_config
    total_latency: <span class="pl-c1">0</span> ps
     rows_fetched: <span class="pl-c1">0</span>
    fetch_latency: <span class="pl-c1">0</span> ps
    rows_inserted: <span class="pl-c1">0</span>
   insert_latency: <span class="pl-c1">0</span> ps
     rows_updated: <span class="pl-c1">0</span>
   update_latency: <span class="pl-c1">0</span> ps
     rows_deleted: <span class="pl-c1">0</span>
   delete_latency: <span class="pl-c1">0</span> ps
 io_read_requests: <span class="pl-c1">8</span>
          io_read: <span class="pl-c1">2</span>.<span class="pl-c1">28</span> KiB
  io_read_latency: <span class="pl-c1">727</span>.<span class="pl-c1">32</span> us
io_write_requests: <span class="pl-c1">0</span>
         io_write: <span class="pl-c1">0</span> bytes
 io_write_latency: <span class="pl-c1">0</span> ps
 io_misc_requests: <span class="pl-c1">10</span>
  io_misc_latency: <span class="pl-c1">126</span>.<span class="pl-c1">88</span> us</pre></div>

<h4>
<a id="schema_redundant_indexes--xschema_flattened_keys" class="anchor" href="#schema_redundant_indexes--xschema_flattened_keys" aria-hidden="true"><span class="octicon octicon-link"></span></a>schema_redundant_indexes / x$schema_flattened_keys</h4>

<h5>
<a id="description-28" class="anchor" href="#description-28" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows indexes which are made redundant (or duplicate) by other (dominant) keys.</p>

<p>Also includes the the helper view <code>x$schema_flattened_keys</code>.</p>

<h5>
<a id="structures-23" class="anchor" href="#structures-23" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> <span class="pl-c1">sys</span>.<span class="pl-c1">schema_redundant_indexes</span>;
<span class="pl-k">+</span><span class="pl-c">----------------------------+--------------+------+-----+---------+-------+</span>
| Field                      | Type         | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">----------------------------+--------------+------+-----+---------+-------+</span>
| table_schema               | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)  | NO   |     |         |       |
| table_name                 | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)  | NO   |     |         |       |
| redundant_index_name       | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)  | NO   |     |         |       |
| redundant_index_columns    | <span class="pl-k">text</span>         | YES  |     | <span class="pl-k">NULL</span>    |       |
| redundant_index_non_unique | <span class="pl-k">bigint</span>(<span class="pl-c1">1</span>)    | YES  |     | <span class="pl-k">NULL</span>    |       |
| dominant_index_name        | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)  | NO   |     |         |       |
| dominant_index_columns     | <span class="pl-k">text</span>         | YES  |     | <span class="pl-k">NULL</span>    |       |
| dominant_index_non_unique  | <span class="pl-k">bigint</span>(<span class="pl-c1">1</span>)    | YES  |     | <span class="pl-k">NULL</span>    |       |
| subpart_exists             | <span class="pl-k">int</span>(<span class="pl-c1">1</span>)       | NO   |     | <span class="pl-c1">0</span>       |       |
| sql_drop_index             | <span class="pl-k">varchar</span>(<span class="pl-c1">223</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">----------------------------+--------------+------+-----+---------+-------+</span>
<span class="pl-c1">10</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> <span class="pl-c1">sys</span>.<span class="pl-c1">x</span>$schema_flattened_keys;
<span class="pl-k">+</span><span class="pl-c">----------------+-------------+------+-----+---------+-------+</span>
| Field          | Type        | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">----------------+-------------+------+-----+---------+-------+</span>
| table_schema   | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>) | NO   |     |         |       |
| table_name     | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>) | NO   |     |         |       |
| index_name     | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>) | NO   |     |         |       |
| non_unique     | <span class="pl-k">bigint</span>(<span class="pl-c1">1</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| subpart_exists | <span class="pl-k">bigint</span>(<span class="pl-c1">1</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| index_columns  | <span class="pl-k">text</span>        | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">----------------+-------------+------+-----+---------+-------+</span>
<span class="pl-c1">6</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h5>
<a id="example-27" class="anchor" href="#example-27" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> <span class="pl-c1">sys</span>.<span class="pl-c1">schema_redundant_indexes</span>\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
              table_schema: test
                table_name: rkey
      redundant_index_name: j
   redundant_index_columns: j
redundant_index_non_unique: <span class="pl-c1">1</span>
       dominant_index_name: j_2
    dominant_index_columns: j,k
 dominant_index_non_unique: <span class="pl-c1">1</span>
            subpart_exists: <span class="pl-c1">0</span>
            sql_drop_index: ALTER TABLE <span class="pl-s"><span class="pl-pds">`</span>test<span class="pl-pds">`</span></span>.<span class="pl-s"><span class="pl-pds">`</span>rkey<span class="pl-pds">`</span></span> DROP INDEX <span class="pl-s"><span class="pl-pds">`</span>j<span class="pl-pds">`</span></span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">20</span> sec)

mysql<span class="pl-k">&gt;</span> SHOW CREATE TABLE <span class="pl-c1">test</span>.<span class="pl-c1">rkey</span>\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
       Table: rkey
Create Table: CREATE TABLE <span class="pl-s"><span class="pl-pds">`</span>rkey<span class="pl-pds">`</span></span> (
  <span class="pl-s"><span class="pl-pds">`</span>i<span class="pl-pds">`</span></span> <span class="pl-k">int</span>(<span class="pl-c1">11</span>) <span class="pl-k">NOT NULL</span>,
  <span class="pl-s"><span class="pl-pds">`</span>j<span class="pl-pds">`</span></span> <span class="pl-k">int</span>(<span class="pl-c1">11</span>) DEFAULT <span class="pl-k">NULL</span>,
  <span class="pl-s"><span class="pl-pds">`</span>k<span class="pl-pds">`</span></span> <span class="pl-k">int</span>(<span class="pl-c1">11</span>) DEFAULT <span class="pl-k">NULL</span>,
  <span class="pl-k">PRIMARY KEY</span> (<span class="pl-s"><span class="pl-pds">`</span>i<span class="pl-pds">`</span></span>),
  KEY <span class="pl-s"><span class="pl-pds">`</span>j<span class="pl-pds">`</span></span> (<span class="pl-s"><span class="pl-pds">`</span>j<span class="pl-pds">`</span></span>),
  KEY <span class="pl-s"><span class="pl-pds">`</span>j_2<span class="pl-pds">`</span></span> (<span class="pl-s"><span class="pl-pds">`</span>j<span class="pl-pds">`</span></span>,<span class="pl-s"><span class="pl-pds">`</span>k<span class="pl-pds">`</span></span>)
) ENGINE<span class="pl-k">=</span>InnoDB DEFAULT CHARSET<span class="pl-k">=</span>latin1
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">06</span> sec)</pre></div>

<h4>
<a id="schema_table_lock_waits--xschema_table_lock_waits" class="anchor" href="#schema_table_lock_waits--xschema_table_lock_waits" aria-hidden="true"><span class="octicon octicon-link"></span></a>schema_table_lock_waits / x$schema_table_lock_waits</h4>

<h5>
<a id="description-29" class="anchor" href="#description-29" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows sessions that are blocked waiting on table metadata locks, and who is blocking them.</p>

<h5>
<a id="structures-24" class="anchor" href="#structures-24" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> schema_table_lock_waits;
<span class="pl-k">+</span><span class="pl-c">------------------------------+---------------------+------+-----+---------+-------+</span>
| Field                        | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">------------------------------+---------------------+------+-----+---------+-------+</span>
| object_schema                | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| object_name                  | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| waiting_thread_id            | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| waiting_pid                  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
| waiting_account              | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| waiting_lock_type            | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | NO   |     | <span class="pl-k">NULL</span>    |       |
| waiting_lock_duration        | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | NO   |     | <span class="pl-k">NULL</span>    |       |
| waiting_query                | longtext            | YES  |     | <span class="pl-k">NULL</span>    |       |
| waiting_query_secs           | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)          | YES  |     | <span class="pl-k">NULL</span>    |       |
| waiting_query_rows_affected  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
| waiting_query_rows_examined  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
| blocking_thread_id           | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| blocking_pid                 | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
| blocking_account             | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| blocking_lock_type           | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | NO   |     | <span class="pl-k">NULL</span>    |       |
| blocking_lock_duration       | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | NO   |     | <span class="pl-k">NULL</span>    |       |
| sql_kill_blocking_query      | <span class="pl-k">varchar</span>(<span class="pl-c1">31</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| sql_kill_blocking_connection | <span class="pl-k">varchar</span>(<span class="pl-c1">25</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">------------------------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">18</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">15</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$schema_table_lock_waits;
<span class="pl-k">+</span><span class="pl-c">------------------------------+---------------------+------+-----+---------+-------+</span>
| Field                        | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">------------------------------+---------------------+------+-----+---------+-------+</span>
| object_schema                | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| object_name                  | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| waiting_thread_id            | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| waiting_pid                  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
| waiting_account              | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| waiting_lock_type            | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | NO   |     | <span class="pl-k">NULL</span>    |       |
| waiting_lock_duration        | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | NO   |     | <span class="pl-k">NULL</span>    |       |
| waiting_query                | longtext            | YES  |     | <span class="pl-k">NULL</span>    |       |
| waiting_query_secs           | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)          | YES  |     | <span class="pl-k">NULL</span>    |       |
| waiting_query_rows_affected  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
| waiting_query_rows_examined  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
| blocking_thread_id           | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| blocking_pid                 | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
| blocking_account             | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| blocking_lock_type           | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | NO   |     | <span class="pl-k">NULL</span>    |       |
| blocking_lock_duration       | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | NO   |     | <span class="pl-k">NULL</span>    |       |
| sql_kill_blocking_query      | <span class="pl-k">varchar</span>(<span class="pl-c1">31</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| sql_kill_blocking_connection | <span class="pl-k">varchar</span>(<span class="pl-c1">25</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">------------------------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">18</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">03</span> sec)</pre></div>

<h5>
<a id="example-28" class="anchor" href="#example-28" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> <span class="pl-c1">sys</span>.<span class="pl-c1">schema_table_lock_waits</span>\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
               object_schema: test
                 object_name: t
           waiting_thread_id: <span class="pl-c1">43</span>
                 waiting_pid: <span class="pl-c1">21</span>
             waiting_account: msandbox@localhost
           waiting_lock_type: SHARED_UPGRADABLE
       waiting_lock_duration: TRANSACTION
               waiting_query: alter table <span class="pl-c1">test</span>.<span class="pl-c1">t</span> add foo <span class="pl-k">int</span>
          waiting_query_secs: <span class="pl-c1">988</span>
 waiting_query_rows_affected: <span class="pl-c1">0</span>
 waiting_query_rows_examined: <span class="pl-c1">0</span>
          blocking_thread_id: <span class="pl-c1">42</span>
                blocking_pid: <span class="pl-c1">20</span>
            blocking_account: msandbox@localhost
          blocking_lock_type: SHARED_NO_READ_WRITE
      blocking_lock_duration: TRANSACTION
     sql_kill_blocking_query: KILL QUERY <span class="pl-c1">20</span>
sql_kill_blocking_connection: KILL <span class="pl-c1">20</span></pre></div>

<h4>
<a id="schema_table_statistics_with_buffer--xschema_table_statistics_with_buffer" class="anchor" href="#schema_table_statistics_with_buffer--xschema_table_statistics_with_buffer" aria-hidden="true"><span class="octicon octicon-link"></span></a>schema_table_statistics_with_buffer / x$schema_table_statistics_with_buffer</h4>

<h5>
<a id="description-30" class="anchor" href="#description-30" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Statistics around tables.</p>

<p>Ordered by the total wait time descending - top tables are most contended.</p>

<p>More statistics such as caching stats for the InnoDB buffer pool with InnoDB tables</p>

<p>Uses the x$ps_schema_table_statistics_io helper view from schema_table_statistics.</p>

<h5>
<a id="structures-25" class="anchor" href="#structures-25" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> schema_table_statistics_with_buffer;
<span class="pl-k">+</span><span class="pl-c">----------------------------+---------------------+------+-----+---------+-------+</span>
| Field                      | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">----------------------------+---------------------+------+-----+---------+-------+</span>
| table_schema               | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| table_name                 | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_fetched               | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| fetch_latency              | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_inserted              | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| insert_latency             | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_updated               | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| update_latency             | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_deleted               | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| delete_latency             | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_read_requests           | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_read                    | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_read_latency            | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_write_requests          | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_write                   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_write_latency           | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_misc_requests           | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_misc_latency            | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| innodb_buffer_allocated    | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| innodb_buffer_data         | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| innodb_buffer_free         | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| innodb_buffer_pages        | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)          | YES  |     | <span class="pl-c1">0</span>       |       |
| innodb_buffer_pages_hashed | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)          | YES  |     | <span class="pl-c1">0</span>       |       |
| innodb_buffer_pages_old    | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)          | YES  |     | <span class="pl-c1">0</span>       |       |
| innodb_buffer_rows_cached  | <span class="pl-k">decimal</span>(<span class="pl-c1">44</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-c1">0</span>       |       |
<span class="pl-k">+</span><span class="pl-c">----------------------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">25</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">05</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$schema_table_statistics_with_buffer;
<span class="pl-k">+</span><span class="pl-c">----------------------------+---------------------+------+-----+---------+-------+</span>
| Field                      | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">----------------------------+---------------------+------+-----+---------+-------+</span>
| table_schema               | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| table_name                 | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_fetched               | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| fetch_latency              | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_inserted              | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| insert_latency             | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_updated               | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| update_latency             | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_deleted               | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| delete_latency             | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| io_read_requests           | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_read                    | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_read_latency            | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_write_requests          | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_write                   | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_write_latency           | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_misc_requests           | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_misc_latency            | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| innodb_buffer_allocated    | <span class="pl-k">decimal</span>(<span class="pl-c1">43</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| innodb_buffer_data         | <span class="pl-k">decimal</span>(<span class="pl-c1">43</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| innodb_buffer_free         | <span class="pl-k">decimal</span>(<span class="pl-c1">44</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| innodb_buffer_pages        | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)          | YES  |     | <span class="pl-c1">0</span>       |       |
| innodb_buffer_pages_hashed | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)          | YES  |     | <span class="pl-c1">0</span>       |       |
| innodb_buffer_pages_old    | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)          | YES  |     | <span class="pl-c1">0</span>       |       |
| innodb_buffer_rows_cached  | <span class="pl-k">decimal</span>(<span class="pl-c1">44</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-c1">0</span>       |       |
<span class="pl-k">+</span><span class="pl-c">----------------------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">25</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">17</span> sec)</pre></div>

<h5>
<a id="example-29" class="anchor" href="#example-29" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> schema_table_statistics_with_buffer <span class="pl-k">limit</span> <span class="pl-c1">1</span>\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
                 table_schema: mem
                   table_name: mysqlserver
                 rows_fetched: <span class="pl-c1">27087</span>
                fetch_latency: <span class="pl-c1">442</span>.<span class="pl-c1">72</span> ms
                rows_inserted: <span class="pl-c1">2</span>
               insert_latency: <span class="pl-c1">185</span>.<span class="pl-c1">04</span> us
                 rows_updated: <span class="pl-c1">5096</span>
               update_latency: <span class="pl-c1">1</span>.<span class="pl-c1">39</span> s
                 rows_deleted: <span class="pl-c1">0</span>
               delete_latency: <span class="pl-c1">0</span> ps
             io_read_requests: <span class="pl-c1">2565</span>
                io_read_bytes: <span class="pl-c1">1121627</span>
              io_read_latency: <span class="pl-c1">10</span>.<span class="pl-c1">07</span> ms
            io_write_requests: <span class="pl-c1">1691</span>
               io_write_bytes: <span class="pl-c1">128383</span>
             io_write_latency: <span class="pl-c1">14</span>.<span class="pl-c1">17</span> ms
             io_misc_requests: <span class="pl-c1">2698</span>
              io_misc_latency: <span class="pl-c1">433</span>.<span class="pl-c1">66</span> ms
          innodb_buffer_pages: <span class="pl-c1">19</span>
   innodb_buffer_pages_hashed: <span class="pl-c1">19</span>
      innodb_buffer_pages_old: <span class="pl-c1">19</span>
innodb_buffer_bytes_allocated: <span class="pl-c1">311296</span>
     innodb_buffer_bytes_data: <span class="pl-c1">1924</span>
    innodb_buffer_rows_cached: <span class="pl-c1">2</span></pre></div>

<h4>
<a id="schema_tables_with_full_table_scans--xschema_tables_with_full_table_scans" class="anchor" href="#schema_tables_with_full_table_scans--xschema_tables_with_full_table_scans" aria-hidden="true"><span class="octicon octicon-link"></span></a>schema_tables_with_full_table_scans / x$schema_tables_with_full_table_scans</h4>

<h5>
<a id="description-31" class="anchor" href="#description-31" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Finds tables that are being accessed by full table scans ordering by the number of rows scanned descending.</p>

<h5>
<a id="structures-26" class="anchor" href="#structures-26" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> schema_tables_with_full_table_scans;
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------+-------+</span>
| Field             | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------+-------+</span>
| object_schema     | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| object_name       | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_full_scanned | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| latency           | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">4</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">02</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$schema_tables_with_full_table_scans;
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------+-------+</span>
| Field             | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------+-------+</span>
| object_schema     | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| object_name       | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_full_scanned | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| latency           | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">4</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">03</span> sec)</pre></div>

<h5>
<a id="example-30" class="anchor" href="#example-30" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> schema_tables_with_full_table_scans <span class="pl-k">limit</span> <span class="pl-c1">5</span>;
<span class="pl-k">+</span><span class="pl-c">--------------------+--------------------------------+-------------------+-----------+</span>
| object_schema      | object_name                    | rows_full_scanned | latency   |
<span class="pl-k">+</span><span class="pl-c">--------------------+--------------------------------+-------------------+-----------+</span>
| mem30__instruments | fsstatistics                   |          <span class="pl-c1">10207042</span> | <span class="pl-c1">13</span>.<span class="pl-c1">10</span> s   |
| mem30__instruments | preparedstatementapidata       |            <span class="pl-c1">436428</span> | <span class="pl-c1">973</span>.<span class="pl-c1">27</span> ms |
| mem30__instruments | mysqlprocessactivity           |            <span class="pl-c1">411702</span> | <span class="pl-c1">282</span>.<span class="pl-c1">07</span> ms |
| mem30__instruments | querycachequeriesincachedata   |            <span class="pl-c1">374011</span> | <span class="pl-c1">767</span>.<span class="pl-c1">15</span> ms |
| mem30__instruments | rowaccessesdata                |            <span class="pl-c1">322321</span> | <span class="pl-c1">1</span>.<span class="pl-c1">55</span> s    |
<span class="pl-k">+</span><span class="pl-c">--------------------+--------------------------------+-------------------+-----------+</span></pre></div>

<h4>
<a id="schema_unused_indexes" class="anchor" href="#schema_unused_indexes" aria-hidden="true"><span class="octicon octicon-link"></span></a>schema_unused_indexes</h4>

<h5>
<a id="description-32" class="anchor" href="#description-32" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Finds indexes that have had no events against them (and hence, no usage).</p>

<p>To trust whether the data from this view is representative of your workload, you should ensure that the server has been up for a representative amount of time before using it.</p>

<p>PRIMARY (key) indexes are ignored.</p>

<h5>
<a id="structure-2" class="anchor" href="#structure-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structure</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> schema_unused_indexes;
<span class="pl-k">+</span><span class="pl-c">---------------+-------------+------+-----+---------+-------+</span>
| Field         | Type        | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+-------------+------+-----+---------+-------+</span>
| object_schema | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| object_name   | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| index_name    | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+-------------+------+-----+---------+-------+</span>
<span class="pl-c1">3</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">09</span> sec)</pre></div>

<h5>
<a id="example-31" class="anchor" href="#example-31" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> schema_unused_indexes <span class="pl-k">limit</span> <span class="pl-c1">5</span>;
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------------+--------------------+</span>
| object_schema      | object_name         | index_name         |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------------+--------------------+</span>
| mem30__bean_config | plists              | <span class="pl-k">path</span>               |
| mem30__config      | group_selections    | name               |
| mem30__config      | notification_groups | name               |
| mem30__config      | user_form_defaults  | FKC1AEF1F9E7EE2CFB |
| mem30__enterprise  | whats_new_entries   | entryId            |
<span class="pl-k">+</span><span class="pl-c">--------------------+---------------------+--------------------+</span></pre></div>

<h4>
<a id="session--xsession" class="anchor" href="#session--xsession" aria-hidden="true"><span class="octicon octicon-link"></span></a>session / x$session</h4>

<h5>
<a id="description-33" class="anchor" href="#description-33" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>A detailed non-blocking processlist view to replace [INFORMATION_SCHEMA. | SHOW FULL] PROCESSLIST.</p>

<p>Performs less locking than the legacy sources, whilst giving extra information.</p>

<p>The output of this view is restricted to threads from user sessions.  See also processlist / x$processlist which contains both user and background threads.</p>

<h5>
<a id="structures-57-2" class="anchor" href="#structures-57-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures (5.7)</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> session;
<span class="pl-k">+</span><span class="pl-c">------------------------+------------------------------------------+------+-----+---------+-------+</span>
| Field                  | Type                                     | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">------------------------+------------------------------------------+------+-----+---------+-------+</span>
| thd_id                 | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | NO   |     | <span class="pl-k">NULL</span>    |       |
| conn_id                | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| user                   | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)                             | YES  |     | <span class="pl-k">NULL</span>    |       |
| db                     | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| command                | <span class="pl-k">varchar</span>(<span class="pl-c1">16</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| state                  | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| <span class="pl-k">time</span>                   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)                               | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_statement      | longtext                                 | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement_latency      | <span class="pl-k">text</span>                                     | YES  |     | <span class="pl-k">NULL</span>    |       |
| progress               | <span class="pl-k">decimal</span>(<span class="pl-c1">26</span>,<span class="pl-c1">2</span>)                            | YES  |     | <span class="pl-k">NULL</span>    |       |
| lock_latency           | <span class="pl-k">text</span>                                     | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_examined          | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_sent              | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_affected          | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| tmp_tables             | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| tmp_disk_tables        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| full_scan              | <span class="pl-k">varchar</span>(<span class="pl-c1">3</span>)                               | NO   |     |         |       |
| last_statement         | longtext                                 | YES  |     | <span class="pl-k">NULL</span>    |       |
| last_statement_latency | <span class="pl-k">text</span>                                     | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_memory         | <span class="pl-k">text</span>                                     | YES  |     | <span class="pl-k">NULL</span>    |       |
| last_wait              | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)                             | YES  |     | <span class="pl-k">NULL</span>    |       |
| last_wait_latency      | <span class="pl-k">text</span>                                     | YES  |     | <span class="pl-k">NULL</span>    |       |
| source                 | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| trx_latency            | <span class="pl-k">text</span>                                     | YES  |     | <span class="pl-k">NULL</span>    |       |
| trx_state              | enum(<span class="pl-s"><span class="pl-pds">'</span>ACTIVE<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>COMMITTED<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>ROLLED BACK<span class="pl-pds">'</span></span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| trx_autocommit         | enum(<span class="pl-s"><span class="pl-pds">'</span>YES<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>NO<span class="pl-pds">'</span></span>)                         | YES  |     | <span class="pl-k">NULL</span>    |       |
| pid                    | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)                            | YES  |     | <span class="pl-k">NULL</span>    |       |
| program_name           | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)                            | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">------------------------+------------------------------------------+------+-----+---------+-------+</span>
<span class="pl-c1">28</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$session;
<span class="pl-k">+</span><span class="pl-c">------------------------+------------------------------------------+------+-----+---------+-------+</span>
| Field                  | Type                                     | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">------------------------+------------------------------------------+------+-----+---------+-------+</span>
| thd_id                 | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | NO   |     | <span class="pl-k">NULL</span>    |       |
| conn_id                | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| user                   | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)                             | YES  |     | <span class="pl-k">NULL</span>    |       |
| db                     | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| command                | <span class="pl-k">varchar</span>(<span class="pl-c1">16</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| state                  | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| <span class="pl-k">time</span>                   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>)                               | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_statement      | longtext                                 | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement_latency      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| progress               | <span class="pl-k">decimal</span>(<span class="pl-c1">26</span>,<span class="pl-c1">2</span>)                            | YES  |     | <span class="pl-k">NULL</span>    |       |
| lock_latency           | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_examined          | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_sent              | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_affected          | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| tmp_tables             | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| tmp_disk_tables        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| full_scan              | <span class="pl-k">varchar</span>(<span class="pl-c1">3</span>)                               | NO   |     |         |       |
| last_statement         | longtext                                 | YES  |     | <span class="pl-k">NULL</span>    |       |
| last_statement_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_memory         | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>)                            | YES  |     | <span class="pl-k">NULL</span>    |       |
| last_wait              | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)                             | YES  |     | <span class="pl-k">NULL</span>    |       |
| last_wait_latency      | <span class="pl-k">varchar</span>(<span class="pl-c1">20</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| source                 | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)                              | YES  |     | <span class="pl-k">NULL</span>    |       |
| trx_latency            | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned                      | YES  |     | <span class="pl-k">NULL</span>    |       |
| trx_state              | enum(<span class="pl-s"><span class="pl-pds">'</span>ACTIVE<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>COMMITTED<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>ROLLED BACK<span class="pl-pds">'</span></span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| trx_autocommit         | enum(<span class="pl-s"><span class="pl-pds">'</span>YES<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>NO<span class="pl-pds">'</span></span>)                         | YES  |     | <span class="pl-k">NULL</span>    |       |
| pid                    | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)                            | YES  |     | <span class="pl-k">NULL</span>    |       |
| program_name           | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)                            | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">------------------------+------------------------------------------+------+-----+---------+-------+</span>
<span class="pl-c1">28</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h5>
<a id="example-32" class="anchor" href="#example-32" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> <span class="pl-c1">sys</span>.<span class="pl-c1">session</span>\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
                thd_id: <span class="pl-c1">24</span>
               conn_id: <span class="pl-c1">2</span>
                  user: root@localhost
                    db: sys
               command: Query
                 state: Sending data
                  <span class="pl-k">time</span>: <span class="pl-c1">0</span>
     current_statement: <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> <span class="pl-c1">sys</span>.<span class="pl-c1">session</span>
     statement_latency: <span class="pl-c1">137</span>.<span class="pl-c1">22</span> ms
              progress: <span class="pl-k">NULL</span>
          lock_latency: <span class="pl-c1">33</span>.<span class="pl-c1">75</span> ms
         rows_examined: <span class="pl-c1">0</span>
             rows_sent: <span class="pl-c1">0</span>
         rows_affected: <span class="pl-c1">0</span>
            tmp_tables: <span class="pl-c1">4</span>
       tmp_disk_tables: <span class="pl-c1">1</span>
             full_scan: YES
        last_statement: <span class="pl-k">NULL</span>
last_statement_latency: <span class="pl-k">NULL</span>
        current_memory: <span class="pl-c1">3</span>.<span class="pl-c1">26</span> MiB
             last_wait: wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>mutex<span class="pl-k">/</span>innodb<span class="pl-k">/</span>file_format_max_mutex
     last_wait_latency: <span class="pl-c1">64</span>.<span class="pl-c1">09</span> ns
                source: <span class="pl-c1">trx0sys</span>.<span class="pl-c1">cc</span>:<span class="pl-c1">778</span>
           trx_latency: <span class="pl-c1">7</span>.<span class="pl-c1">88</span> s
             trx_state: ACTIVE
        trx_autocommit: NO
                   pid: <span class="pl-c1">4212</span>
          program_name: mysql</pre></div>

<h4>
<a id="session_ssl_status" class="anchor" href="#session_ssl_status" aria-hidden="true"><span class="octicon octicon-link"></span></a>session_ssl_status</h4>

<h5>
<a id="description-34" class="anchor" href="#description-34" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows SSL version, cipher and the count of re-used SSL sessions per connection</p>

<h5>
<a id="structures-27" class="anchor" href="#structures-27" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> <span class="pl-c1">sys</span>.<span class="pl-c1">session_ssl_status</span>;
<span class="pl-k">+</span><span class="pl-c">---------------------+---------------------+------+-----+---------+-------+</span>
| Field               | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------------+---------------------+------+-----+---------+-------+</span>
| thread_id           | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| ssl_version         | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| ssl_cipher          | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| ssl_sessions_reused | <span class="pl-k">varchar</span>(<span class="pl-c1">1024</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">4</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h5>
<a id="example-33" class="anchor" href="#example-33" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> session_ssl_status;
<span class="pl-k">+</span><span class="pl-c">-----------+-------------+--------------------+---------------------+</span>
| thread_id | ssl_version | ssl_cipher         | ssl_sessions_reused |
<span class="pl-k">+</span><span class="pl-c">-----------+-------------+--------------------+---------------------+</span>
|        <span class="pl-c1">26</span> | TLSv1       | DHE<span class="pl-k">-</span>RSA<span class="pl-k">-</span>AES256<span class="pl-k">-</span>SHA | <span class="pl-c1">0</span>                   |
|        <span class="pl-c1">27</span> | TLSv1       | DHE<span class="pl-k">-</span>RSA<span class="pl-k">-</span>AES256<span class="pl-k">-</span>SHA | <span class="pl-c1">0</span>                   |
|        <span class="pl-c1">28</span> | TLSv1       | DHE<span class="pl-k">-</span>RSA<span class="pl-k">-</span>AES256<span class="pl-k">-</span>SHA | <span class="pl-c1">0</span>                   |
<span class="pl-k">+</span><span class="pl-c">-----------+-------------+--------------------+---------------------+</span>
<span class="pl-c1">3</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="statement_analysis--xstatement_analysis" class="anchor" href="#statement_analysis--xstatement_analysis" aria-hidden="true"><span class="octicon octicon-link"></span></a>statement_analysis / x$statement_analysis</h4>

<h5>
<a id="description-35" class="anchor" href="#description-35" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Lists a normalized statement view with aggregated statistics, mimics the MySQL Enterprise Monitor Query Analysis view, ordered by the total execution time per normalized statement</p>

<h5>
<a id="structures-28" class="anchor" href="#structures-28" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> statement_analysis;
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
| Field             | Type                | <span class="pl-k">Null</span> | Key | Default             | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
| query             | longtext            | YES  |     | <span class="pl-k">NULL</span>                |       |
| db                | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
| full_scan         | <span class="pl-k">varchar</span>(<span class="pl-c1">1</span>)          | NO   |     |                     |       |
| exec_count        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| err_count         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| warn_count        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| total_latency     | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>                |       |
| max_latency       | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>                |       |
| avg_latency       | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>                |       |
| lock_latency      | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>                |       |
| rows_sent         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_sent_avg     | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| rows_examined     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_examined_avg | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| rows_affected     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_affected_avg | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| tmp_tables        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| tmp_disk_tables   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_sorted       | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| sort_merge_passes | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| digest            | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
| first_seen        | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| last_seen         | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
<span class="pl-c1">23</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">26</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$statement_analysis;
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
| Field             | Type                | <span class="pl-k">Null</span> | Key | Default             | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
| query             | longtext            | YES  |     | <span class="pl-k">NULL</span>                |       |
| db                | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
| full_scan         | <span class="pl-k">varchar</span>(<span class="pl-c1">1</span>)          | NO   |     |                     |       |
| exec_count        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| err_count         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| warn_count        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| total_latency     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| max_latency       | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| avg_latency       | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| lock_latency      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_sent         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_sent_avg     | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| rows_examined     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_examined_avg | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| rows_affected     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_affected_avg | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| tmp_tables        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| tmp_disk_tables   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_sorted       | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| sort_merge_passes | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| digest            | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
| first_seen        | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| last_seen         | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
<span class="pl-c1">23</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">27</span> sec)</pre></div>

<h5>
<a id="example-34" class="anchor" href="#example-34" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> statement_analysis <span class="pl-k">limit</span> <span class="pl-c1">1</span>\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
            query: <span class="pl-k">SELECT</span> <span class="pl-k">*</span> <span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">`</span>schema_object_o ... MA<span class="pl-pds">`</span></span> , <span class="pl-s"><span class="pl-pds">`</span>information_schema<span class="pl-pds">`</span></span> ...
               db: sys
        full_scan: <span class="pl-k">*</span>
       exec_count: <span class="pl-c1">2</span>
        err_count: <span class="pl-c1">0</span>
       warn_count: <span class="pl-c1">0</span>
    total_latency: <span class="pl-c1">16</span>.<span class="pl-c1">75</span> s
      max_latency: <span class="pl-c1">16</span>.<span class="pl-c1">57</span> s
      avg_latency: <span class="pl-c1">8</span>.<span class="pl-c1">38</span> s
     lock_latency: <span class="pl-c1">16</span>.<span class="pl-c1">69</span> s
        rows_sent: <span class="pl-c1">84</span>
    rows_sent_avg: <span class="pl-c1">42</span>
    rows_examined: <span class="pl-c1">20012</span>
rows_examined_avg: <span class="pl-c1">10006</span>
    rows_affected: <span class="pl-c1">0</span>
rows_affected_avg: <span class="pl-c1">0</span>
       tmp_tables: <span class="pl-c1">378</span>
  tmp_disk_tables: <span class="pl-c1">66</span>
      rows_sorted: <span class="pl-c1">168</span>
sort_merge_passes: <span class="pl-c1">0</span>
           digest: 54f9bd520f0bbf15db0c2ed93386bec9
       first_seen: <span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">03</span><span class="pl-k">-</span><span class="pl-c1">07</span> <span class="pl-c1">13</span>:<span class="pl-c1">13</span>:<span class="pl-c1">41</span>
        last_seen: <span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">03</span><span class="pl-k">-</span><span class="pl-c1">07</span> <span class="pl-c1">13</span>:<span class="pl-c1">13</span>:<span class="pl-c1">48</span></pre></div>

<h4>
<a id="statements_with_errors_or_warnings--xstatements_with_errors_or_warnings" class="anchor" href="#statements_with_errors_or_warnings--xstatements_with_errors_or_warnings" aria-hidden="true"><span class="octicon octicon-link"></span></a>statements_with_errors_or_warnings / x$statements_with_errors_or_warnings</h4>

<h5>
<a id="description-36" class="anchor" href="#description-36" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Lists all normalized statements that have raised errors or warnings.</p>

<h5>
<a id="structures-29" class="anchor" href="#structures-29" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> statements_with_errors_or_warnings;
<span class="pl-k">+</span><span class="pl-c">-------------+---------------------+------+-----+---------------------+-------+</span>
| Field       | Type                | <span class="pl-k">Null</span> | Key | Default             | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------+---------------------+------+-----+---------------------+-------+</span>
| query       | longtext            | YES  |     | <span class="pl-k">NULL</span>                |       |
| db          | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
| exec_count  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| errors      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| error_pct   | <span class="pl-k">decimal</span>(<span class="pl-c1">27</span>,<span class="pl-c1">4</span>)       | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>              |       |
| warnings    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| warning_pct | <span class="pl-k">decimal</span>(<span class="pl-c1">27</span>,<span class="pl-c1">4</span>)       | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>              |       |
| first_seen  | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| last_seen   | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| digest      | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
<span class="pl-k">+</span><span class="pl-c">-------------+---------------------+------+-----+---------------------+-------+</span>
<span class="pl-c1">10</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">55</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$statements_with_errors_or_warnings;
<span class="pl-k">+</span><span class="pl-c">-------------+---------------------+------+-----+---------------------+-------+</span>
| Field       | Type                | <span class="pl-k">Null</span> | Key | Default             | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------+---------------------+------+-----+---------------------+-------+</span>
| query       | longtext            | YES  |     | <span class="pl-k">NULL</span>                |       |
| db          | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
| exec_count  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| errors      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| error_pct   | <span class="pl-k">decimal</span>(<span class="pl-c1">27</span>,<span class="pl-c1">4</span>)       | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>              |       |
| warnings    | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| warning_pct | <span class="pl-k">decimal</span>(<span class="pl-c1">27</span>,<span class="pl-c1">4</span>)       | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>              |       |
| first_seen  | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| last_seen   | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| digest      | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
<span class="pl-k">+</span><span class="pl-c">-------------+---------------------+------+-----+---------------------+-------+</span>
<span class="pl-c1">10</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">25</span> sec)</pre></div>

<h5>
<a id="example-35" class="anchor" href="#example-35" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> statements_with_errors_or_warnings <span class="pl-k">LIMIT</span> <span class="pl-c1">1</span>\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
      query: CREATE <span class="pl-k">OR</span> REPLACE ALGORITHM <span class="pl-k">=</span>  ... _delete<span class="pl-s"><span class="pl-pds">`</span> AS <span class="pl-pds">`</span></span>rows_deleted<span class="pl-s"><span class="pl-pds">`</span> ...</span>
<span class="pl-s">         db: sys</span>
<span class="pl-s"> exec_count: 2</span>
<span class="pl-s">     errors: 1</span>
<span class="pl-s">  error_pct: 50.0000</span>
<span class="pl-s">   warnings: 0</span>
<span class="pl-s">warning_pct: 0.0000</span>
<span class="pl-s"> first_seen: 2014-03-07 12:56:54</span>
<span class="pl-s">  last_seen: 2014-03-07 13:01:01</span>
<span class="pl-s">     digest: 943a788859e623d5f7798ba0ae0fd8a9</span></pre></div>

<h4>
<a id="statements_with_full_table_scans--xstatements_with_full_table_scans" class="anchor" href="#statements_with_full_table_scans--xstatements_with_full_table_scans" aria-hidden="true"><span class="octicon octicon-link"></span></a>statements_with_full_table_scans / x$statements_with_full_table_scans</h4>

<h5>
<a id="description-37" class="anchor" href="#description-37" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Lists all normalized statements that use have done a full table scan ordered by number the percentage of times a full scan was done, then by the statement latency.</p>

<p>This view ignores SHOW statements, as these always cause a full table scan, and there is nothing that can be done about this.</p>

<h5>
<a id="structures-30" class="anchor" href="#structures-30" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> statements_with_full_table_scans;
<span class="pl-k">+</span><span class="pl-c">--------------------------+------------------------+------+-----+---------------------+-------+</span>
| Field                    | Type                   | <span class="pl-k">Null</span> | Key | Default             | Extra |
<span class="pl-k">+</span><span class="pl-c">--------------------------+------------------------+------+-----+---------------------+-------+</span>
| query                    | longtext               | YES  |     | <span class="pl-k">NULL</span>                |       |
| db                       | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)            | YES  |     | <span class="pl-k">NULL</span>                |       |
| exec_count               | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned    | NO   |     | <span class="pl-k">NULL</span>                |       |
| total_latency            | <span class="pl-k">text</span>                   | YES  |     | <span class="pl-k">NULL</span>                |       |
| no_index_used_count      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned    | NO   |     | <span class="pl-k">NULL</span>                |       |
| no_good_index_used_count | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned    | NO   |     | <span class="pl-k">NULL</span>                |       |
| no_index_used_pct        | <span class="pl-k">decimal</span>(<span class="pl-c1">24</span>,<span class="pl-c1">0</span>)          | NO   |     | <span class="pl-c1">0</span>                   |       |
| rows_sent                | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned    | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_examined            | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned    | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_sent_avg            | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>                |       |
| rows_examined_avg        | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>                |       |
| first_seen               | <span class="pl-k">timestamp</span>              | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| last_seen                | <span class="pl-k">timestamp</span>              | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| digest                   | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)            | YES  |     | <span class="pl-k">NULL</span>                |       |
<span class="pl-k">+</span><span class="pl-c">--------------------------+------------------------+------+-----+---------------------+-------+</span>
<span class="pl-c1">14</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">04</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$statements_with_full_table_scans;
<span class="pl-k">+</span><span class="pl-c">--------------------------+------------------------+------+-----+---------------------+-------+</span>
| Field                    | Type                   | <span class="pl-k">Null</span> | Key | Default             | Extra |
<span class="pl-k">+</span><span class="pl-c">--------------------------+------------------------+------+-----+---------------------+-------+</span>
| query                    | longtext               | YES  |     | <span class="pl-k">NULL</span>                |       |
| db                       | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)            | YES  |     | <span class="pl-k">NULL</span>                |       |
| exec_count               | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned    | NO   |     | <span class="pl-k">NULL</span>                |       |
| total_latency            | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned    | NO   |     | <span class="pl-k">NULL</span>                |       |
| no_index_used_count      | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned    | NO   |     | <span class="pl-k">NULL</span>                |       |
| no_good_index_used_count | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned    | NO   |     | <span class="pl-k">NULL</span>                |       |
| no_index_used_pct        | <span class="pl-k">decimal</span>(<span class="pl-c1">24</span>,<span class="pl-c1">0</span>)          | NO   |     | <span class="pl-c1">0</span>                   |       |
| rows_sent                | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned    | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_examined            | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned    | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_sent_avg            | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>                |       |
| rows_examined_avg        | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>                |       |
| first_seen               | <span class="pl-k">timestamp</span>              | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| last_seen                | <span class="pl-k">timestamp</span>              | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| digest                   | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)            | YES  |     | <span class="pl-k">NULL</span>                |       |
<span class="pl-k">+</span><span class="pl-c">--------------------------+------------------------+------+-----+---------------------+-------+</span>
<span class="pl-c1">14</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">14</span> sec)</pre></div>

<h5>
<a id="example-36" class="anchor" href="#example-36" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> statements_with_full_table_scans <span class="pl-k">limit</span> <span class="pl-c1">1</span>\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
                   query: <span class="pl-k">SELECT</span> <span class="pl-k">*</span> <span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">`</span>schema_tables_w ... ex_usage<span class="pl-pds">`</span></span> . <span class="pl-s"><span class="pl-pds">`</span>COUNT_READ<span class="pl-pds">`</span></span> <span class="pl-k">DESC</span>
                      db: sys
              exec_count: <span class="pl-c1">1</span>
           total_latency: <span class="pl-c1">88</span>.<span class="pl-c1">20</span> ms
     no_index_used_count: <span class="pl-c1">1</span>
no_good_index_used_count: <span class="pl-c1">0</span>
       no_index_used_pct: <span class="pl-c1">100</span>
               rows_sent: <span class="pl-c1">0</span>
           rows_examined: <span class="pl-c1">1501</span>
           rows_sent_avg: <span class="pl-c1">0</span>
       rows_examined_avg: <span class="pl-c1">1501</span>
              first_seen: <span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">03</span><span class="pl-k">-</span><span class="pl-c1">07</span> <span class="pl-c1">13</span>:<span class="pl-c1">58</span>:<span class="pl-c1">20</span>
               last_seen: <span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">03</span><span class="pl-k">-</span><span class="pl-c1">07</span> <span class="pl-c1">13</span>:<span class="pl-c1">58</span>:<span class="pl-c1">20</span>
                  digest: 64baecd5c1e1e1651a6b92e55442a288</pre></div>

<h4>
<a id="statements_with_runtimes_in_95th_percentile--xstatements_with_runtimes_in_95th_percentile" class="anchor" href="#statements_with_runtimes_in_95th_percentile--xstatements_with_runtimes_in_95th_percentile" aria-hidden="true"><span class="octicon octicon-link"></span></a>statements_with_runtimes_in_95th_percentile / x$statements_with_runtimes_in_95th_percentile</h4>

<h5>
<a id="description-38" class="anchor" href="#description-38" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Lists all statements whose average runtime, in microseconds, is in the top 95th percentile.</p>

<p>Also includes two helper views:</p>

<ul>
<li>x$ps_digest_avg_latency_distribution</li>
<li>x$ps_digest_95th_percentile_by_avg_us</li>
</ul>

<h5>
<a id="structures-31" class="anchor" href="#structures-31" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> statements_with_runtimes_in_95th_percentile;
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
| Field             | Type                | <span class="pl-k">Null</span> | Key | Default             | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
| query             | longtext            | YES  |     | <span class="pl-k">NULL</span>                |       |
| db                | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
| full_scan         | <span class="pl-k">varchar</span>(<span class="pl-c1">1</span>)          | NO   |     |                     |       |
| exec_count        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| err_count         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| warn_count        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| total_latency     | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>                |       |
| max_latency       | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>                |       |
| avg_latency       | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>                |       |
| rows_sent         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_sent_avg     | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| rows_examined     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_examined_avg | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| first_seen        | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| last_seen         | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| digest            | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
<span class="pl-c1">16</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">11</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$statements_with_runtimes_in_95th_percentile;
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
| Field             | Type                | <span class="pl-k">Null</span> | Key | Default             | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
| query             | longtext            | YES  |     | <span class="pl-k">NULL</span>                |       |
| db                | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
| full_scan         | <span class="pl-k">varchar</span>(<span class="pl-c1">1</span>)          | NO   |     |                     |       |
| exec_count        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| err_count         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| warn_count        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| total_latency     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| max_latency       | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| avg_latency       | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_sent         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_sent_avg     | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| rows_examined     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_examined_avg | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| first_seen        | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| last_seen         | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| digest            | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
<span class="pl-c1">16</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$ps_digest_avg_latency_distribution;
<span class="pl-k">+</span><span class="pl-c">--------+---------------+------+-----+---------+-------+</span>
| Field  | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">--------+---------------+------+-----+---------+-------+</span>
| cnt    | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| avg_us | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">--------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">2</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">10</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$ps_digest_95th_percentile_by_avg_us;
<span class="pl-k">+</span><span class="pl-c">------------+---------------+------+-----+---------+-------+</span>
| Field      | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">------------+---------------+------+-----+---------+-------+</span>
| avg_us     | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| percentile | <span class="pl-k">decimal</span>(<span class="pl-c1">46</span>,<span class="pl-c1">4</span>) | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>  |       |
<span class="pl-k">+</span><span class="pl-c">------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">2</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">15</span> sec)</pre></div>

<h5>
<a id="example-37" class="anchor" href="#example-37" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> statements_with_runtimes_in_95th_percentile\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
            query: <span class="pl-k">SELECT</span> <span class="pl-k">*</span> <span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">`</span>schema_object_o ... MA<span class="pl-pds">`</span></span> , <span class="pl-s"><span class="pl-pds">`</span>information_schema<span class="pl-pds">`</span></span> ...
               db: sys
        full_scan: <span class="pl-k">*</span>
       exec_count: <span class="pl-c1">2</span>
        err_count: <span class="pl-c1">0</span>
       warn_count: <span class="pl-c1">0</span>
    total_latency: <span class="pl-c1">16</span>.<span class="pl-c1">75</span> s
      max_latency: <span class="pl-c1">16</span>.<span class="pl-c1">57</span> s
      avg_latency: <span class="pl-c1">8</span>.<span class="pl-c1">38</span> s
        rows_sent: <span class="pl-c1">84</span>
    rows_sent_avg: <span class="pl-c1">42</span>
    rows_examined: <span class="pl-c1">20012</span>
rows_examined_avg: <span class="pl-c1">10006</span>
       first_seen: <span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">03</span><span class="pl-k">-</span><span class="pl-c1">07</span> <span class="pl-c1">13</span>:<span class="pl-c1">13</span>:<span class="pl-c1">41</span>
        last_seen: <span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">03</span><span class="pl-k">-</span><span class="pl-c1">07</span> <span class="pl-c1">13</span>:<span class="pl-c1">13</span>:<span class="pl-c1">48</span>
           digest: 54f9bd520f0bbf15db0c2ed93386bec9</pre></div>

<h4>
<a id="statements_with_sorting--xstatements_with_sorting" class="anchor" href="#statements_with_sorting--xstatements_with_sorting" aria-hidden="true"><span class="octicon octicon-link"></span></a>statements_with_sorting / x$statements_with_sorting</h4>

<h5>
<a id="description-39" class="anchor" href="#description-39" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Lists all normalized statements that have done sorts, ordered by total_latency descending.</p>

<h5>
<a id="structures-32" class="anchor" href="#structures-32" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> statements_with_sorting;
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
| Field             | Type                | <span class="pl-k">Null</span> | Key | Default             | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
| query             | longtext            | YES  |     | <span class="pl-k">NULL</span>                |       |
| db                | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
| exec_count        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| total_latency     | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>                |       |
| sort_merge_passes | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| avg_sort_merges   | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| sorts_using_scans | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| sort_using_range  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_sorted       | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| avg_rows_sorted   | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| first_seen        | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| last_seen         | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| digest            | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
<span class="pl-c1">13</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$statements_with_sorting;
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
| Field             | Type                | <span class="pl-k">Null</span> | Key | Default             | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
| query             | longtext            | YES  |     | <span class="pl-k">NULL</span>                |       |
| db                | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
| exec_count        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| total_latency     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| sort_merge_passes | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| avg_sort_merges   | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| sorts_using_scans | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| sort_using_range  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| rows_sorted       | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| avg_rows_sorted   | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| first_seen        | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| last_seen         | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| digest            | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
<span class="pl-k">+</span><span class="pl-c">-------------------+---------------------+------+-----+---------------------+-------+</span>
<span class="pl-c1">13</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">04</span> sec)</pre></div>

<h5>
<a id="example-38" class="anchor" href="#example-38" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> statements_with_sorting <span class="pl-k">limit</span> <span class="pl-c1">1</span>\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
            query: <span class="pl-k">SELECT</span> <span class="pl-k">*</span> <span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">`</span>schema_object_o ... MA<span class="pl-pds">`</span></span> , <span class="pl-s"><span class="pl-pds">`</span>information_schema<span class="pl-pds">`</span></span> ...
               db: sys
       exec_count: <span class="pl-c1">2</span>
    total_latency: <span class="pl-c1">16</span>.<span class="pl-c1">75</span> s
sort_merge_passes: <span class="pl-c1">0</span>
  avg_sort_merges: <span class="pl-c1">0</span>
sorts_using_scans: <span class="pl-c1">12</span>
 sort_using_range: <span class="pl-c1">0</span>
      rows_sorted: <span class="pl-c1">168</span>
  avg_rows_sorted: <span class="pl-c1">84</span>
       first_seen: <span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">03</span><span class="pl-k">-</span><span class="pl-c1">07</span> <span class="pl-c1">13</span>:<span class="pl-c1">13</span>:<span class="pl-c1">41</span>
        last_seen: <span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">03</span><span class="pl-k">-</span><span class="pl-c1">07</span> <span class="pl-c1">13</span>:<span class="pl-c1">13</span>:<span class="pl-c1">48</span>
           digest: 54f9bd520f0bbf15db0c2ed93386bec9</pre></div>

<h4>
<a id="statements_with_temp_tables--xstatements_with_temp_tables" class="anchor" href="#statements_with_temp_tables--xstatements_with_temp_tables" aria-hidden="true"><span class="octicon octicon-link"></span></a>statements_with_temp_tables / x$statements_with_temp_tables</h4>

<h5>
<a id="description-40" class="anchor" href="#description-40" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Lists all normalized statements that use temporary tables ordered by number of on disk temporary tables descending first, then by the number of memory tables.</p>

<h5>
<a id="structures-33" class="anchor" href="#structures-33" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> statements_with_temp_tables;
<span class="pl-k">+</span><span class="pl-c">--------------------------+---------------------+------+-----+---------------------+-------+</span>
| Field                    | Type                | <span class="pl-k">Null</span> | Key | Default             | Extra |
<span class="pl-k">+</span><span class="pl-c">--------------------------+---------------------+------+-----+---------------------+-------+</span>
| query                    | longtext            | YES  |     | <span class="pl-k">NULL</span>                |       |
| db                       | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
| exec_count               | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| total_latency            | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>                |       |
| memory_tmp_tables        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| disk_tmp_tables          | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| avg_tmp_tables_per_query | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| tmp_tables_to_disk_pct   | <span class="pl-k">decimal</span>(<span class="pl-c1">24</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| first_seen               | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| last_seen                | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| digest                   | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
<span class="pl-k">+</span><span class="pl-c">--------------------------+---------------------+------+-----+---------------------+-------+</span>
<span class="pl-c1">11</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">30</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$statements_with_temp_tables;
<span class="pl-k">+</span><span class="pl-c">--------------------------+---------------------+------+-----+---------------------+-------+</span>
| Field                    | Type                | <span class="pl-k">Null</span> | Key | Default             | Extra |
<span class="pl-k">+</span><span class="pl-c">--------------------------+---------------------+------+-----+---------------------+-------+</span>
| query                    | longtext            | YES  |     | <span class="pl-k">NULL</span>                |       |
| db                       | <span class="pl-k">varchar</span>(<span class="pl-c1">64</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
| exec_count               | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| total_latency            | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| memory_tmp_tables        | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| disk_tmp_tables          | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>                |       |
| avg_tmp_tables_per_query | <span class="pl-k">decimal</span>(<span class="pl-c1">21</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| tmp_tables_to_disk_pct   | <span class="pl-k">decimal</span>(<span class="pl-c1">24</span>,<span class="pl-c1">0</span>)       | NO   |     | <span class="pl-c1">0</span>                   |       |
| first_seen               | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| last_seen                | <span class="pl-k">timestamp</span>           | NO   |     | <span class="pl-c1">0000</span><span class="pl-k">-</span><span class="pl-c1">00</span><span class="pl-k">-</span><span class="pl-c1">00</span> <span class="pl-c1">00</span>:<span class="pl-c1">00</span>:<span class="pl-c1">00</span> |       |
| digest                   | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>                |       |
<span class="pl-k">+</span><span class="pl-c">--------------------------+---------------------+------+-----+---------------------+-------+</span>
<span class="pl-c1">11</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">05</span> sec)</pre></div>

<h5>
<a id="example-39" class="anchor" href="#example-39" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> statements_with_temp_tables <span class="pl-k">limit</span> <span class="pl-c1">1</span>\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
                   query: <span class="pl-k">SELECT</span> <span class="pl-k">*</span> <span class="pl-k">FROM</span> <span class="pl-s"><span class="pl-pds">`</span>schema_object_o ... MA<span class="pl-pds">`</span></span> , <span class="pl-s"><span class="pl-pds">`</span>information_schema<span class="pl-pds">`</span></span> ...
                      db: sys
              exec_count: <span class="pl-c1">2</span>
           total_latency: <span class="pl-c1">16</span>.<span class="pl-c1">75</span> s
       memory_tmp_tables: <span class="pl-c1">378</span>
         disk_tmp_tables: <span class="pl-c1">66</span>
avg_tmp_tables_per_query: <span class="pl-c1">189</span>
  tmp_tables_to_disk_pct: <span class="pl-c1">17</span>
              first_seen: <span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">03</span><span class="pl-k">-</span><span class="pl-c1">07</span> <span class="pl-c1">13</span>:<span class="pl-c1">13</span>:<span class="pl-c1">41</span>
               last_seen: <span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">03</span><span class="pl-k">-</span><span class="pl-c1">07</span> <span class="pl-c1">13</span>:<span class="pl-c1">13</span>:<span class="pl-c1">48</span>
                  digest: 54f9bd520f0bbf15db0c2ed93386bec9</pre></div>

<h4>
<a id="user_summary--xuser_summary" class="anchor" href="#user_summary--xuser_summary" aria-hidden="true"><span class="octicon octicon-link"></span></a>user_summary / x$user_summary</h4>

<h5>
<a id="description-41" class="anchor" href="#description-41" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes statement activity, file IO and connections by user.</p>

<p>When the user found is NULL, it is assumed to be a "background" thread.</p>

<h5>
<a id="structures-57-3" class="anchor" href="#structures-57-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures (5.7)</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> user_summary;
<span class="pl-k">+</span><span class="pl-c">------------------------+---------------+------+-----+---------+-------+</span>
| Field                  | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">------------------------+---------------+------+-----+---------+-------+</span>
| user                   | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| statements             | <span class="pl-k">decimal</span>(<span class="pl-c1">64</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement_latency      | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement_avg_latency  | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| table_scans            | <span class="pl-k">decimal</span>(<span class="pl-c1">65</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| file_ios               | <span class="pl-k">decimal</span>(<span class="pl-c1">64</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| file_io_latency        | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_connections    | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_connections      | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| unique_hosts           | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| current_memory         | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_memory_allocated | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">------------------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">12</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$user_summary;
<span class="pl-k">+</span><span class="pl-c">------------------------+---------------+------+-----+---------+-------+</span>
| Field                  | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">------------------------+---------------+------+-----+---------+-------+</span>
| user                   | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| statements             | <span class="pl-k">decimal</span>(<span class="pl-c1">64</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement_latency      | <span class="pl-k">decimal</span>(<span class="pl-c1">64</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement_avg_latency  | <span class="pl-k">decimal</span>(<span class="pl-c1">65</span>,<span class="pl-c1">4</span>) | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>  |       |
| table_scans            | <span class="pl-k">decimal</span>(<span class="pl-c1">65</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| file_ios               | <span class="pl-k">decimal</span>(<span class="pl-c1">64</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| file_io_latency        | <span class="pl-k">decimal</span>(<span class="pl-c1">64</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| current_connections    | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_connections      | <span class="pl-k">decimal</span>(<span class="pl-c1">41</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| unique_hosts           | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>)    | NO   |     | <span class="pl-c1">0</span>       |       |
| current_memory         | <span class="pl-k">decimal</span>(<span class="pl-c1">63</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_memory_allocated | <span class="pl-k">decimal</span>(<span class="pl-c1">64</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">------------------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">12</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)</pre></div>

<h5>
<a id="example-40" class="anchor" href="#example-40" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> user_summary\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
                  user: root
            statements: <span class="pl-c1">4981</span>
     statement_latency: <span class="pl-c1">26</span>.<span class="pl-c1">54</span> s
 statement_avg_latency: <span class="pl-c1">5</span>.<span class="pl-c1">33</span> ms
           table_scans: <span class="pl-c1">74</span>
              file_ios: <span class="pl-c1">7792</span>
       file_io_latency: <span class="pl-c1">40</span>.<span class="pl-c1">08</span> s
   current_connections: <span class="pl-c1">1</span>
     total_connections: <span class="pl-c1">2</span>
          unique_hosts: <span class="pl-c1">1</span>
        current_memory: <span class="pl-c1">3</span>.<span class="pl-c1">57</span> MiB
total_memory_allocated: <span class="pl-c1">83</span>.<span class="pl-c1">37</span> MiB
<span class="pl-k">***************************</span> <span class="pl-c1">2</span>. row <span class="pl-k">***************************</span>
                  user: background
            statements: <span class="pl-c1">0</span>
     statement_latency: <span class="pl-c1">0</span> ps
 statement_avg_latency: <span class="pl-c1">0</span> ps
           table_scans: <span class="pl-c1">0</span>
              file_ios: <span class="pl-c1">1618</span>
       file_io_latency: <span class="pl-c1">4</span>.<span class="pl-c1">78</span> s
   current_connections: <span class="pl-c1">21</span>
     total_connections: <span class="pl-c1">23</span>
          unique_hosts: <span class="pl-c1">0</span>
        current_memory: <span class="pl-c1">165</span>.<span class="pl-c1">94</span> MiB
total_memory_allocated: <span class="pl-c1">197</span>.<span class="pl-c1">29</span> MiB</pre></div>

<h4>
<a id="user_summary_by_file_io--xuser_summary_by_file_io" class="anchor" href="#user_summary_by_file_io--xuser_summary_by_file_io" aria-hidden="true"><span class="octicon octicon-link"></span></a>user_summary_by_file_io / x$user_summary_by_file_io</h4>

<h5>
<a id="description-42" class="anchor" href="#description-42" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes file IO totals per user.</p>

<p>When the user found is NULL, it is assumed to be a "background" thread.</p>

<h5>
<a id="structures-34" class="anchor" href="#structures-34" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> user_summary_by_file_io;
<span class="pl-k">+</span><span class="pl-c">------------+---------------+------+-----+---------+-------+</span>
| Field      | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">------------+---------------+------+-----+---------+-------+</span>
| user       | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| ios        | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_latency | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">3</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">20</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$user_summary_by_file_io;
<span class="pl-k">+</span><span class="pl-c">------------+---------------+------+-----+---------+-------+</span>
| Field      | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">------------+---------------+------+-----+---------+-------+</span>
| user       | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| ios        | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| io_latency | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">3</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">02</span> sec)</pre></div>

<h5>
<a id="example-41" class="anchor" href="#example-41" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> user_summary_by_file_io;
<span class="pl-k">+</span><span class="pl-c">------------+-------+------------+</span>
| user       | ios   | io_latency |
<span class="pl-k">+</span><span class="pl-c">------------+-------+------------+</span>
| root       | <span class="pl-c1">26457</span> | <span class="pl-c1">21</span>.<span class="pl-c1">58</span> s    |
| background |  <span class="pl-c1">1189</span> | <span class="pl-c1">394</span>.<span class="pl-c1">21</span> ms  |
<span class="pl-k">+</span><span class="pl-c">------------+-------+------------+</span></pre></div>

<h4>
<a id="user_summary_by_file_io_type--xuser_summary_by_file_io_type" class="anchor" href="#user_summary_by_file_io_type--xuser_summary_by_file_io_type" aria-hidden="true"><span class="octicon octicon-link"></span></a>user_summary_by_file_io_type / x$user_summary_by_file_io_type</h4>

<h5>
<a id="description-43" class="anchor" href="#description-43" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes file IO by event type per user.</p>

<p>When the user found is NULL, it is assumed to be a "background" thread.</p>

<h5>
<a id="structures-35" class="anchor" href="#structures-35" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> user_summary_by_file_io_type;
<span class="pl-k">+</span><span class="pl-c">-------------+---------------------+------+-----+---------+-------+</span>
| Field       | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------+---------------------+------+-----+---------+-------+</span>
| user        | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| event_name  | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| total       | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| latency     | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">-------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">5</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">02</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$user_summary_by_file_io_type;
<span class="pl-k">+</span><span class="pl-c">-------------+---------------------+------+-----+---------+-------+</span>
| Field       | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">-------------+---------------------+------+-----+---------+-------+</span>
| user        | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| event_name  | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| total       | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| latency     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| max_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">-------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">5</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h5>
<a id="example-42" class="anchor" href="#example-42" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> user_summary_by_file_io_type;
<span class="pl-k">+</span><span class="pl-c">------------+--------------------------------------+-------+-----------+-------------+</span>
| user       | event_name                           | total | latency   | max_latency |
<span class="pl-k">+</span><span class="pl-c">------------+--------------------------------------+-------+-----------+-------------+</span>
| background | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>innodb<span class="pl-k">/</span>innodb_data_file |  <span class="pl-c1">1434</span> | <span class="pl-c1">3</span>.<span class="pl-c1">29</span> s    | <span class="pl-c1">147</span>.<span class="pl-c1">56</span> ms   |
| background | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>FRM                 |   <span class="pl-c1">910</span> | <span class="pl-c1">286</span>.<span class="pl-c1">61</span> ms | <span class="pl-c1">32</span>.<span class="pl-c1">92</span> ms    |
| background | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>relaylog            |     <span class="pl-c1">9</span> | <span class="pl-c1">252</span>.<span class="pl-c1">28</span> ms | <span class="pl-c1">144</span>.<span class="pl-c1">17</span> ms   |
| background | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>binlog              |    <span class="pl-c1">56</span> | <span class="pl-c1">193</span>.<span class="pl-c1">73</span> ms | <span class="pl-c1">153</span>.<span class="pl-c1">72</span> ms   |
| background | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>binlog_index        |    <span class="pl-c1">22</span> | <span class="pl-c1">183</span>.<span class="pl-c1">02</span> ms | <span class="pl-c1">81</span>.<span class="pl-c1">83</span> ms    |
| background | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>innodb<span class="pl-k">/</span>innodb_log_file  |    <span class="pl-c1">20</span> | <span class="pl-c1">117</span>.<span class="pl-c1">17</span> ms | <span class="pl-c1">36</span>.<span class="pl-c1">53</span> ms    |
| background | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>relaylog_index      |     <span class="pl-c1">9</span> | <span class="pl-c1">50</span>.<span class="pl-c1">15</span> ms  | <span class="pl-c1">48</span>.<span class="pl-c1">04</span> ms    |
| background | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>ERRMSG              |     <span class="pl-c1">5</span> | <span class="pl-c1">35</span>.<span class="pl-c1">41</span> ms  | <span class="pl-c1">31</span>.<span class="pl-c1">78</span> ms    |
| background | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>myisam<span class="pl-k">/</span>kfile            |    <span class="pl-c1">67</span> | <span class="pl-c1">18</span>.<span class="pl-c1">14</span> ms  | <span class="pl-c1">9</span>.<span class="pl-c1">00</span> ms     |
| background | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>mysys<span class="pl-k">/</span>charset           |     <span class="pl-c1">3</span> | <span class="pl-c1">7</span>.<span class="pl-c1">46</span> ms   | <span class="pl-c1">4</span>.<span class="pl-c1">13</span> ms     |
| background | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>casetest            |     <span class="pl-c1">5</span> | <span class="pl-c1">6</span>.<span class="pl-c1">01</span> ms   | <span class="pl-c1">5</span>.<span class="pl-c1">86</span> ms     |
| background | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>pid                 |     <span class="pl-c1">3</span> | <span class="pl-c1">5</span>.<span class="pl-c1">96</span> ms   | <span class="pl-c1">3</span>.<span class="pl-c1">06</span> ms     |
| background | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>myisam<span class="pl-k">/</span>dfile            |    <span class="pl-c1">43</span> | <span class="pl-c1">980</span>.<span class="pl-c1">38</span> us | <span class="pl-c1">152</span>.<span class="pl-c1">46</span> us   |
| background | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>mysys<span class="pl-k">/</span>cnf               |     <span class="pl-c1">5</span> | <span class="pl-c1">154</span>.<span class="pl-c1">97</span> us | <span class="pl-c1">58</span>.<span class="pl-c1">87</span> us    |
| background | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>global_ddl_log      |     <span class="pl-c1">2</span> | <span class="pl-c1">18</span>.<span class="pl-c1">64</span> us  | <span class="pl-c1">16</span>.<span class="pl-c1">40</span> us    |
| root       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>file_parser         | <span class="pl-c1">11048</span> | <span class="pl-c1">48</span>.<span class="pl-c1">79</span> s   | <span class="pl-c1">201</span>.<span class="pl-c1">11</span> ms   |
| root       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>innodb<span class="pl-k">/</span>innodb_data_file |  <span class="pl-c1">4699</span> | <span class="pl-c1">3</span>.<span class="pl-c1">02</span> s    | <span class="pl-c1">46</span>.<span class="pl-c1">93</span> ms    |
| root       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>FRM                 | <span class="pl-c1">10403</span> | <span class="pl-c1">2</span>.<span class="pl-c1">38</span> s    | <span class="pl-c1">61</span>.<span class="pl-c1">72</span> ms    |
| root       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>myisam<span class="pl-k">/</span>dfile            | <span class="pl-c1">22143</span> | <span class="pl-c1">726</span>.<span class="pl-c1">77</span> ms | <span class="pl-c1">308</span>.<span class="pl-c1">79</span> ms   |
| root       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>myisam<span class="pl-k">/</span>kfile            |  <span class="pl-c1">6213</span> | <span class="pl-c1">435</span>.<span class="pl-c1">35</span> ms | <span class="pl-c1">88</span>.<span class="pl-c1">76</span> ms    |
| root       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>dbopt               |   <span class="pl-c1">159</span> | <span class="pl-c1">130</span>.<span class="pl-c1">86</span> ms | <span class="pl-c1">15</span>.<span class="pl-c1">46</span> ms    |
| root       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>csv<span class="pl-k">/</span>metadata            |     <span class="pl-c1">8</span> | <span class="pl-c1">86</span>.<span class="pl-c1">60</span> ms  | <span class="pl-c1">50</span>.<span class="pl-c1">32</span> ms    |
| root       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>binlog              |    <span class="pl-c1">15</span> | <span class="pl-c1">38</span>.<span class="pl-c1">79</span> ms  | <span class="pl-c1">9</span>.<span class="pl-c1">40</span> ms     |
| root       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>misc                |    <span class="pl-c1">21</span> | <span class="pl-c1">22</span>.<span class="pl-c1">33</span> ms  | <span class="pl-c1">15</span>.<span class="pl-c1">30</span> ms    |
| root       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>csv<span class="pl-k">/</span>data                |     <span class="pl-c1">4</span> | <span class="pl-c1">297</span>.<span class="pl-c1">46</span> us | <span class="pl-c1">111</span>.<span class="pl-c1">93</span> us   |
| root       | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>archive<span class="pl-k">/</span>data            |     <span class="pl-c1">3</span> | <span class="pl-c1">54</span>.<span class="pl-c1">10</span> us  | <span class="pl-c1">40</span>.<span class="pl-c1">74</span> us    |
<span class="pl-k">+</span><span class="pl-c">------------+--------------------------------------+-------+-----------+-------------+</span></pre></div>

<h4>
<a id="user_summary_by_stages--xuser_summary_by_stages" class="anchor" href="#user_summary_by_stages--xuser_summary_by_stages" aria-hidden="true"><span class="octicon octicon-link"></span></a>user_summary_by_stages / x$user_summary_by_stages</h4>

<h5>
<a id="description-44" class="anchor" href="#description-44" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes stages by user, ordered by user and total latency per stage.</p>

<p>When the user found is NULL, it is assumed to be a "background" thread.</p>

<h5>
<a id="structures-36" class="anchor" href="#structures-36" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> user_summary_by_stages;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| user          | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| event_name    | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">5</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$user_summary_by_stages;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| user          | <span class="pl-k">varchar</span>(<span class="pl-c1">16</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| event_name    | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">5</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">05</span> sec)</pre></div>

<h5>
<a id="example-43" class="anchor" href="#example-43" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> user_summary_by_stages;
<span class="pl-k">+</span><span class="pl-c">------+--------------------------------+-------+---------------+-------------+</span>
| user | event_name                     | total | total_latency | avg_latency |
<span class="pl-k">+</span><span class="pl-c">------+--------------------------------+-------+---------------+-------------+</span>
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>Opening tables       |   <span class="pl-c1">889</span> | <span class="pl-c1">1</span>.<span class="pl-c1">97</span> ms       | <span class="pl-c1">2</span>.<span class="pl-c1">22</span> us     |
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>Creating sort index  |     <span class="pl-c1">4</span> | <span class="pl-c1">1</span>.<span class="pl-c1">79</span> ms       | <span class="pl-c1">446</span>.<span class="pl-c1">30</span> us   |
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>init                 |    <span class="pl-c1">10</span> | <span class="pl-c1">312</span>.<span class="pl-c1">27</span> us     | <span class="pl-c1">31</span>.<span class="pl-c1">23</span> us    |
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>checking permissions |    <span class="pl-c1">10</span> | <span class="pl-c1">300</span>.<span class="pl-c1">62</span> us     | <span class="pl-c1">30</span>.<span class="pl-c1">06</span> us    |
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>freeing items        |     <span class="pl-c1">5</span> | <span class="pl-c1">85</span>.<span class="pl-c1">89</span> us      | <span class="pl-c1">17</span>.<span class="pl-c1">18</span> us    |
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>statistics           |     <span class="pl-c1">5</span> | <span class="pl-c1">79</span>.<span class="pl-c1">15</span> us      | <span class="pl-c1">15</span>.<span class="pl-c1">83</span> us    |
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>preparing            |     <span class="pl-c1">5</span> | <span class="pl-c1">69</span>.<span class="pl-c1">12</span> us      | <span class="pl-c1">13</span>.<span class="pl-c1">82</span> us    |
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>optimizing           |     <span class="pl-c1">5</span> | <span class="pl-c1">53</span>.<span class="pl-c1">11</span> us      | <span class="pl-c1">10</span>.<span class="pl-c1">62</span> us    |
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>Sending data         |     <span class="pl-c1">5</span> | <span class="pl-c1">44</span>.<span class="pl-c1">66</span> us      | <span class="pl-c1">8</span>.<span class="pl-c1">93</span> us     |
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>closing tables       |     <span class="pl-c1">5</span> | <span class="pl-c1">37</span>.<span class="pl-c1">54</span> us      | <span class="pl-c1">7</span>.<span class="pl-c1">51</span> us     |
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>System lock          |     <span class="pl-c1">5</span> | <span class="pl-c1">34</span>.<span class="pl-c1">28</span> us      | <span class="pl-c1">6</span>.<span class="pl-c1">86</span> us     |
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>query end            |     <span class="pl-c1">5</span> | <span class="pl-c1">24</span>.<span class="pl-c1">37</span> us      | <span class="pl-c1">4</span>.<span class="pl-c1">87</span> us     |
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>end                  |     <span class="pl-c1">5</span> | <span class="pl-c1">8</span>.<span class="pl-c1">60</span> us       | <span class="pl-c1">1</span>.<span class="pl-c1">72</span> us     |
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>Sorting result       |     <span class="pl-c1">5</span> | <span class="pl-c1">8</span>.<span class="pl-c1">33</span> us       | <span class="pl-c1">1</span>.<span class="pl-c1">67</span> us     |
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>executing            |     <span class="pl-c1">5</span> | <span class="pl-c1">5</span>.<span class="pl-c1">37</span> us       | <span class="pl-c1">1</span>.<span class="pl-c1">07</span> us     |
| root | stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>cleaning up          |     <span class="pl-c1">5</span> | <span class="pl-c1">4</span>.<span class="pl-c1">60</span> us       | <span class="pl-c1">919</span>.<span class="pl-c1">00</span> ns   |
<span class="pl-k">+</span><span class="pl-c">------+--------------------------------+-------+---------------+-------------+</span></pre></div>

<h4>
<a id="user_summary_by_statement_latency--xuser_summary_by_statement_latency" class="anchor" href="#user_summary_by_statement_latency--xuser_summary_by_statement_latency" aria-hidden="true"><span class="octicon octicon-link"></span></a>user_summary_by_statement_latency / x$user_summary_by_statement_latency</h4>

<h5>
<a id="description-45" class="anchor" href="#description-45" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes overall statement statistics by user.</p>

<p>When the user found is NULL, it is assumed to be a "background" thread.</p>

<h5>
<a id="structures-37" class="anchor" href="#structures-37" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> user_summary_by_statement_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| Field         | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| user          | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| lock_latency  | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_sent     | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_examined | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_affected | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| full_scans    | <span class="pl-k">decimal</span>(<span class="pl-c1">43</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">9</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$user_summary_by_statement_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| Field         | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| user          | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)   | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| lock_latency  | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_sent     | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_examined | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_affected | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| full_scans    | <span class="pl-k">decimal</span>(<span class="pl-c1">43</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">9</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">28</span> sec)</pre></div>

<h5>
<a id="example-44" class="anchor" href="#example-44" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> user_summary_by_statement_latency;
<span class="pl-k">+</span><span class="pl-c">------+-------+---------------+-------------+--------------+-----------+---------------+---------------+------------+</span>
| user | total | total_latency | max_latency | lock_latency | rows_sent | rows_examined | rows_affected | full_scans |
<span class="pl-k">+</span><span class="pl-c">------+-------+---------------+-------------+--------------+-----------+---------------+---------------+------------+</span>
| root |  <span class="pl-c1">3381</span> | <span class="pl-c1">00</span>:<span class="pl-c1">02</span>:<span class="pl-c1">09</span>.<span class="pl-c1">13</span>   | <span class="pl-c1">1</span>.<span class="pl-c1">48</span> s      | <span class="pl-c1">1</span>.<span class="pl-c1">07</span> s       |      <span class="pl-c1">1151</span> |         <span class="pl-c1">93947</span> |           <span class="pl-c1">150</span> |         <span class="pl-c1">91</span> |
<span class="pl-k">+</span><span class="pl-c">------+-------+---------------+-------------+--------------+-----------+---------------+---------------+------------+</span></pre></div>

<h4>
<a id="user_summary_by_statement_type--xuser_summary_by_statement_type" class="anchor" href="#user_summary_by_statement_type--xuser_summary_by_statement_type" aria-hidden="true"><span class="octicon octicon-link"></span></a>user_summary_by_statement_type / x$user_summary_by_statement_type</h4>

<h5>
<a id="description-46" class="anchor" href="#description-46" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Summarizes the types of statements executed by each user.</p>

<p>When the user found is NULL, it is assumed to be a "background" thread.</p>

<h5>
<a id="structures-38" class="anchor" href="#structures-38" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> user_summary_by_statement_type;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| user          | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement     | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| lock_latency  | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| rows_sent     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_examined | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_affected | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| full_scans    | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>       |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">10</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">21</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$user_summary_by_statement_type;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| user          | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| statement     | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| lock_latency  | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_sent     | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_examined | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| rows_affected | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| full_scans    | <span class="pl-k">bigint</span>(<span class="pl-c1">21</span>) unsigned | NO   |     | <span class="pl-c1">0</span>       |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">10</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">37</span> sec)</pre></div>

<h5>
<a id="example-45" class="anchor" href="#example-45" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> user_summary_by_statement_type;
<span class="pl-k">+</span><span class="pl-c">------+------------------+-------+---------------+-------------+--------------+-----------+---------------+---------------+------------+</span>
| user | statement        | total | total_latency | max_latency | lock_latency | rows_sent | rows_examined | rows_affected | full_scans |
<span class="pl-k">+</span><span class="pl-c">------+------------------+-------+---------------+-------------+--------------+-----------+---------------+---------------+------------+</span>
| root | create_view      |  <span class="pl-c1">1332</span> | <span class="pl-c1">00</span>:<span class="pl-c1">03</span>:<span class="pl-c1">39</span>.<span class="pl-c1">08</span>   | <span class="pl-c1">677</span>.<span class="pl-c1">76</span> ms   | <span class="pl-c1">494</span>.<span class="pl-c1">56</span> ms    |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |          <span class="pl-c1">0</span> |
| root | <span class="pl-k">select</span>           |    <span class="pl-c1">88</span> | <span class="pl-c1">20</span>.<span class="pl-c1">13</span> s       | <span class="pl-c1">16</span>.<span class="pl-c1">57</span> s     | <span class="pl-c1">17</span>.<span class="pl-c1">40</span> s      |      <span class="pl-c1">1804</span> |         <span class="pl-c1">77285</span> |             <span class="pl-c1">0</span> |         <span class="pl-c1">48</span> |
| root | drop_db          |    <span class="pl-c1">16</span> | <span class="pl-c1">6</span>.<span class="pl-c1">83</span> s        | <span class="pl-c1">1</span>.<span class="pl-c1">14</span> s      | <span class="pl-c1">5</span>.<span class="pl-c1">73</span> s       |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |           <span class="pl-c1">953</span> |          <span class="pl-c1">0</span> |
| root | drop_view        |   <span class="pl-c1">392</span> | <span class="pl-c1">1</span>.<span class="pl-c1">70</span> s        | <span class="pl-c1">739</span>.<span class="pl-c1">49</span> ms   | <span class="pl-c1">0</span> ps         |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |          <span class="pl-c1">0</span> |
| root | show_databases   |    <span class="pl-c1">16</span> | <span class="pl-c1">1</span>.<span class="pl-c1">37</span> s        | <span class="pl-c1">587</span>.<span class="pl-c1">44</span> ms   | <span class="pl-c1">1</span>.<span class="pl-c1">31</span> ms      |       <span class="pl-c1">400</span> |           <span class="pl-c1">400</span> |             <span class="pl-c1">0</span> |         <span class="pl-c1">16</span> |
| root | show_tables      |    <span class="pl-c1">34</span> | <span class="pl-c1">676</span>.<span class="pl-c1">78</span> ms     | <span class="pl-c1">167</span>.<span class="pl-c1">04</span> ms   | <span class="pl-c1">3</span>.<span class="pl-c1">46</span> ms      |      <span class="pl-c1">1087</span> |          <span class="pl-c1">1087</span> |             <span class="pl-c1">0</span> |         <span class="pl-c1">34</span> |
| root | create_db        |    <span class="pl-c1">22</span> | <span class="pl-c1">334</span>.<span class="pl-c1">90</span> ms     | <span class="pl-c1">38</span>.<span class="pl-c1">93</span> ms    | <span class="pl-c1">0</span> ps         |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |            <span class="pl-c1">22</span> |          <span class="pl-c1">0</span> |
| root | create_procedure |   <span class="pl-c1">352</span> | <span class="pl-c1">250</span>.<span class="pl-c1">02</span> ms     | <span class="pl-c1">21</span>.<span class="pl-c1">90</span> ms    | <span class="pl-c1">165</span>.<span class="pl-c1">17</span> ms    |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |          <span class="pl-c1">0</span> |
| root | drop_function    |   <span class="pl-c1">176</span> | <span class="pl-c1">122</span>.<span class="pl-c1">44</span> ms     | <span class="pl-c1">69</span>.<span class="pl-c1">18</span> ms    | <span class="pl-c1">87</span>.<span class="pl-c1">24</span> ms     |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |          <span class="pl-c1">0</span> |
| root | create_function  |   <span class="pl-c1">176</span> | <span class="pl-c1">76</span>.<span class="pl-c1">12</span> ms      | <span class="pl-c1">1</span>.<span class="pl-c1">36</span> ms     | <span class="pl-c1">49</span>.<span class="pl-c1">50</span> ms     |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |          <span class="pl-c1">0</span> |
| root | drop_procedure   |   <span class="pl-c1">352</span> | <span class="pl-c1">67</span>.<span class="pl-c1">41</span> ms      | <span class="pl-c1">1</span>.<span class="pl-c1">57</span> ms     | <span class="pl-c1">36</span>.<span class="pl-c1">22</span> ms     |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |          <span class="pl-c1">0</span> |
| root | <span class="pl-k">update</span>           |     <span class="pl-c1">2</span> | <span class="pl-c1">41</span>.<span class="pl-c1">75</span> ms      | <span class="pl-c1">35</span>.<span class="pl-c1">96</span> ms    | <span class="pl-c1">35</span>.<span class="pl-c1">52</span> ms     |         <span class="pl-c1">0</span> |           <span class="pl-c1">557</span> |           <span class="pl-c1">338</span> |          <span class="pl-c1">0</span> |
| root | error            |     <span class="pl-c1">3</span> | <span class="pl-c1">17</span>.<span class="pl-c1">22</span> ms      | <span class="pl-c1">17</span>.<span class="pl-c1">05</span> ms    | <span class="pl-c1">0</span> ps         |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |          <span class="pl-c1">0</span> |
| root | set_option       |    <span class="pl-c1">88</span> | <span class="pl-c1">8</span>.<span class="pl-c1">02</span> ms       | <span class="pl-c1">1</span>.<span class="pl-c1">63</span> ms     | <span class="pl-c1">0</span> ps         |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |          <span class="pl-c1">0</span> |
| root | call_procedure   |     <span class="pl-c1">2</span> | <span class="pl-c1">2</span>.<span class="pl-c1">98</span> ms       | <span class="pl-c1">2</span>.<span class="pl-c1">29</span> ms     | <span class="pl-c1">95</span>.<span class="pl-c1">00</span> us     |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |          <span class="pl-c1">0</span> |
| root | Init DB          |    <span class="pl-c1">22</span> | <span class="pl-c1">1</span>.<span class="pl-c1">07</span> ms       | <span class="pl-c1">117</span>.<span class="pl-c1">65</span> us   | <span class="pl-c1">0</span> ps         |         <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |             <span class="pl-c1">0</span> |          <span class="pl-c1">0</span> |
| root | show_status      |     <span class="pl-c1">1</span> | <span class="pl-c1">408</span>.<span class="pl-c1">69</span> us     | <span class="pl-c1">408</span>.<span class="pl-c1">69</span> us   | <span class="pl-c1">102</span>.<span class="pl-c1">00</span> us    |        <span class="pl-c1">23</span> |            <span class="pl-c1">23</span> |             <span class="pl-c1">0</span> |          <span class="pl-c1">1</span> |
<span class="pl-k">+</span><span class="pl-c">------+------------------+-------+---------------+-------------+--------------+-----------+---------------+---------------+------------+</span></pre></div>

<h4>
<a id="wait_classes_global_by_avg_latency--xwait_classes_global_by_avg_latency" class="anchor" href="#wait_classes_global_by_avg_latency--xwait_classes_global_by_avg_latency" aria-hidden="true"><span class="octicon octicon-link"></span></a>wait_classes_global_by_avg_latency / x$wait_classes_global_by_avg_latency</h4>

<h5>
<a id="description-47" class="anchor" href="#description-47" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Lists the top wait classes by average latency, ignoring idle (this may be very large).</p>

<h5>
<a id="structures-39" class="anchor" href="#structures-39" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> wait_classes_global_by_avg_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| Field         | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| event_class   | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)  | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| min_latency   | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">6</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">11</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$wait_classes_global_by_avg_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| event_class   | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| min_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">decimal</span>(<span class="pl-c1">46</span>,<span class="pl-c1">4</span>)       | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>  |       |
| max_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">6</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">02</span> sec)</pre></div>

<h5>
<a id="example-46" class="anchor" href="#example-46" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> wait_classes_global_by_avg_latency <span class="pl-k">where</span> event_class <span class="pl-k">!=</span> <span class="pl-s"><span class="pl-pds">'</span>idle<span class="pl-pds">'</span></span>;
<span class="pl-k">+</span><span class="pl-c">-------------------+--------+---------------+-------------+-------------+-------------+</span>
| event_class       | total  | total_latency | min_latency | avg_latency | max_latency |
<span class="pl-k">+</span><span class="pl-c">-------------------+--------+---------------+-------------+-------------+-------------+</span>
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file      | <span class="pl-c1">543123</span> | <span class="pl-c1">44</span>.<span class="pl-c1">60</span> s       | <span class="pl-c1">19</span>.<span class="pl-c1">44</span> ns    | <span class="pl-c1">82</span>.<span class="pl-c1">11</span> us    | <span class="pl-c1">4</span>.<span class="pl-c1">21</span> s      |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>table     |  <span class="pl-c1">22002</span> | <span class="pl-c1">766</span>.<span class="pl-c1">60</span> ms     | <span class="pl-c1">148</span>.<span class="pl-c1">72</span> ns   | <span class="pl-c1">34</span>.<span class="pl-c1">84</span> us    | <span class="pl-c1">44</span>.<span class="pl-c1">97</span> ms    |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>socket    |  <span class="pl-c1">79613</span> | <span class="pl-c1">967</span>.<span class="pl-c1">17</span> ms     | <span class="pl-c1">0</span> ps        | <span class="pl-c1">12</span>.<span class="pl-c1">15</span> us    | <span class="pl-c1">27</span>.<span class="pl-c1">10</span> ms    |
| wait<span class="pl-k">/</span>lock<span class="pl-k">/</span>table   |  <span class="pl-c1">35409</span> | <span class="pl-c1">18</span>.<span class="pl-c1">68</span> ms      | <span class="pl-c1">65</span>.<span class="pl-c1">45</span> ns    | <span class="pl-c1">527</span>.<span class="pl-c1">51</span> ns   | <span class="pl-c1">969</span>.<span class="pl-c1">88</span> us   |
| wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>rwlock |  <span class="pl-c1">37935</span> | <span class="pl-c1">4</span>.<span class="pl-c1">61</span> ms       | <span class="pl-c1">21</span>.<span class="pl-c1">38</span> ns    | <span class="pl-c1">121</span>.<span class="pl-c1">61</span> ns   | <span class="pl-c1">34</span>.<span class="pl-c1">65</span> us    |
| wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>mutex  | <span class="pl-c1">390622</span> | <span class="pl-c1">18</span>.<span class="pl-c1">60</span> ms      | <span class="pl-c1">19</span>.<span class="pl-c1">44</span> ns    | <span class="pl-c1">47</span>.<span class="pl-c1">61</span> ns    | <span class="pl-c1">10</span>.<span class="pl-c1">32</span> us    |
<span class="pl-k">+</span><span class="pl-c">-------------------+--------+---------------+-------------+-------------+-------------+</span></pre></div>

<h4>
<a id="wait_classes_global_by_latency--xwait_classes_global_by_latency" class="anchor" href="#wait_classes_global_by_latency--xwait_classes_global_by_latency" aria-hidden="true"><span class="octicon octicon-link"></span></a>wait_classes_global_by_latency / x$wait_classes_global_by_latency</h4>

<h5>
<a id="description-48" class="anchor" href="#description-48" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Lists the top wait classes by total latency, ignoring idle (this may be very large).</p>

<h5>
<a id="structures-40" class="anchor" href="#structures-40" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> wait_classes_global_by_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| Field         | Type          | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
| event_class   | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)  | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>) | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| min_latency   | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">text</span>          | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------+------+-----+---------+-------+</span>
<span class="pl-c1">6</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$wait_classes_global_by_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| event_class   | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | YES  |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">decimal</span>(<span class="pl-c1">42</span>,<span class="pl-c1">0</span>)       | YES  |     | <span class="pl-k">NULL</span>    |       |
| min_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">decimal</span>(<span class="pl-c1">46</span>,<span class="pl-c1">4</span>)       | NO   |     | <span class="pl-c1">0</span>.<span class="pl-c1">0000</span>  |       |
| max_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">6</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">02</span> sec)</pre></div>

<h5>
<a id="example-47" class="anchor" href="#example-47" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> wait_classes_global_by_latency;
<span class="pl-k">+</span><span class="pl-c">-------------------+--------+---------------+-------------+-------------+-------------+</span>
| event_class       | total  | total_latency | min_latency | avg_latency | max_latency |
<span class="pl-k">+</span><span class="pl-c">-------------------+--------+---------------+-------------+-------------+-------------+</span>
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file      | <span class="pl-c1">550470</span> | <span class="pl-c1">46</span>.<span class="pl-c1">01</span> s       | <span class="pl-c1">19</span>.<span class="pl-c1">44</span> ns    | <span class="pl-c1">83</span>.<span class="pl-c1">58</span> us    | <span class="pl-c1">4</span>.<span class="pl-c1">21</span> s      |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>socket    | <span class="pl-c1">228833</span> | <span class="pl-c1">2</span>.<span class="pl-c1">71</span> s        | <span class="pl-c1">0</span> ps        | <span class="pl-c1">11</span>.<span class="pl-c1">86</span> us    | <span class="pl-c1">29</span>.<span class="pl-c1">93</span> ms    |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>table     |  <span class="pl-c1">64063</span> | <span class="pl-c1">1</span>.<span class="pl-c1">89</span> s        | <span class="pl-c1">99</span>.<span class="pl-c1">79</span> ns    | <span class="pl-c1">29</span>.<span class="pl-c1">43</span> us    | <span class="pl-c1">68</span>.<span class="pl-c1">07</span> ms    |
| wait<span class="pl-k">/</span>lock<span class="pl-k">/</span>table   |  <span class="pl-c1">76029</span> | <span class="pl-c1">47</span>.<span class="pl-c1">19</span> ms      | <span class="pl-c1">65</span>.<span class="pl-c1">45</span> ns    | <span class="pl-c1">620</span>.<span class="pl-c1">74</span> ns   | <span class="pl-c1">969</span>.<span class="pl-c1">88</span> us   |
| wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>mutex  | <span class="pl-c1">635925</span> | <span class="pl-c1">34</span>.<span class="pl-c1">93</span> ms      | <span class="pl-c1">19</span>.<span class="pl-c1">44</span> ns    | <span class="pl-c1">54</span>.<span class="pl-c1">93</span> ns    | <span class="pl-c1">107</span>.<span class="pl-c1">70</span> us   |
| wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>rwlock |  <span class="pl-c1">61287</span> | <span class="pl-c1">7</span>.<span class="pl-c1">62</span> ms       | <span class="pl-c1">21</span>.<span class="pl-c1">38</span> ns    | <span class="pl-c1">124</span>.<span class="pl-c1">37</span> ns   | <span class="pl-c1">34</span>.<span class="pl-c1">65</span> us    |
<span class="pl-k">+</span><span class="pl-c">-------------------+--------+---------------+-------------+-------------+-------------+</span></pre></div>

<h4>
<a id="waits_by_user_by_latency--xwaits_by_user_by_latency" class="anchor" href="#waits_by_user_by_latency--xwaits_by_user_by_latency" aria-hidden="true"><span class="octicon octicon-link"></span></a>waits_by_user_by_latency / x$waits_by_user_by_latency</h4>

<h5>
<a id="description-49" class="anchor" href="#description-49" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Lists the top wait events per user by their total latency, ignoring idle (this may be very large) per user.</p>

<h5>
<a id="structures-41" class="anchor" href="#structures-41" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> waits_by_user_by_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| user          | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| event         | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">6</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$waits_by_user_by_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| user          | <span class="pl-k">varchar</span>(<span class="pl-c1">32</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| event         | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">6</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">30</span> sec)</pre></div>

<h5>
<a id="example-48" class="anchor" href="#example-48" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> waits_by_user_by_latency;
<span class="pl-k">+</span><span class="pl-c">------+-----------------------------------------------------+--------+---------------+-------------+-------------+</span>
| user | event                                               | total  | total_latency | avg_latency | max_latency |
<span class="pl-k">+</span><span class="pl-c">------+-----------------------------------------------------+--------+---------------+-------------+-------------+</span>
| root | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>file_parser                        |  <span class="pl-c1">13743</span> | <span class="pl-c1">00</span>:<span class="pl-c1">01</span>:<span class="pl-c1">00</span>.<span class="pl-c1">46</span>   | <span class="pl-c1">4</span>.<span class="pl-c1">40</span> ms     | <span class="pl-c1">231</span>.<span class="pl-c1">88</span> ms   |
| root | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>innodb<span class="pl-k">/</span>innodb_data_file                |   <span class="pl-c1">4699</span> | <span class="pl-c1">3</span>.<span class="pl-c1">02</span> s        | <span class="pl-c1">643</span>.<span class="pl-c1">38</span> us   | <span class="pl-c1">46</span>.<span class="pl-c1">93</span> ms    |
| root | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>FRM                                |  <span class="pl-c1">11462</span> | <span class="pl-c1">2</span>.<span class="pl-c1">60</span> s        | <span class="pl-c1">226</span>.<span class="pl-c1">83</span> us   | <span class="pl-c1">61</span>.<span class="pl-c1">72</span> ms    |
| root | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>myisam<span class="pl-k">/</span>dfile                           |  <span class="pl-c1">26776</span> | <span class="pl-c1">746</span>.<span class="pl-c1">70</span> ms     | <span class="pl-c1">27</span>.<span class="pl-c1">89</span> us    | <span class="pl-c1">308</span>.<span class="pl-c1">79</span> ms   |
| root | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>myisam<span class="pl-k">/</span>kfile                           |   <span class="pl-c1">7126</span> | <span class="pl-c1">462</span>.<span class="pl-c1">66</span> ms     | <span class="pl-c1">64</span>.<span class="pl-c1">93</span> us    | <span class="pl-c1">88</span>.<span class="pl-c1">76</span> ms    |
| root | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>dbopt                              |    <span class="pl-c1">179</span> | <span class="pl-c1">137</span>.<span class="pl-c1">58</span> ms     | <span class="pl-c1">768</span>.<span class="pl-c1">59</span> us   | <span class="pl-c1">15</span>.<span class="pl-c1">46</span> ms    |
| root | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>csv<span class="pl-k">/</span>metadata                           |      <span class="pl-c1">8</span> | <span class="pl-c1">86</span>.<span class="pl-c1">60</span> ms      | <span class="pl-c1">10</span>.<span class="pl-c1">82</span> ms    | <span class="pl-c1">50</span>.<span class="pl-c1">32</span> ms    |
| root | wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>mutex<span class="pl-k">/</span>mysys<span class="pl-k">/</span>IO_CACHE::append_buffer_lock | <span class="pl-c1">798080</span> | <span class="pl-c1">66</span>.<span class="pl-c1">46</span> ms      | <span class="pl-c1">82</span>.<span class="pl-c1">94</span> ns    | <span class="pl-c1">161</span>.<span class="pl-c1">03</span> us   |
| root | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>binlog                             |     <span class="pl-c1">19</span> | <span class="pl-c1">49</span>.<span class="pl-c1">11</span> ms      | <span class="pl-c1">2</span>.<span class="pl-c1">58</span> ms     | <span class="pl-c1">9</span>.<span class="pl-c1">40</span> ms     |
| root | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>misc                               |     <span class="pl-c1">26</span> | <span class="pl-c1">22</span>.<span class="pl-c1">38</span> ms      | <span class="pl-c1">860</span>.<span class="pl-c1">80</span> us   | <span class="pl-c1">15</span>.<span class="pl-c1">30</span> ms    |
| root | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>csv<span class="pl-k">/</span>data                               |      <span class="pl-c1">4</span> | <span class="pl-c1">297</span>.<span class="pl-c1">46</span> us     | <span class="pl-c1">74</span>.<span class="pl-c1">37</span> us    | <span class="pl-c1">111</span>.<span class="pl-c1">93</span> us   |
| root | wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>rwlock<span class="pl-k">/</span>sql<span class="pl-k">/</span>MDL_lock::rwlock              |    <span class="pl-c1">944</span> | <span class="pl-c1">287</span>.<span class="pl-c1">86</span> us     | <span class="pl-c1">304</span>.<span class="pl-c1">62</span> ns   | <span class="pl-c1">874</span>.<span class="pl-c1">64</span> ns   |
| root | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>archive<span class="pl-k">/</span>data                           |      <span class="pl-c1">4</span> | <span class="pl-c1">82</span>.<span class="pl-c1">71</span> us      | <span class="pl-c1">20</span>.<span class="pl-c1">68</span> us    | <span class="pl-c1">40</span>.<span class="pl-c1">74</span> us    |
| root | wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>mutex<span class="pl-k">/</span>myisam<span class="pl-k">/</span>MYISAM_SHARE::intern_lock   |     <span class="pl-c1">60</span> | <span class="pl-c1">12</span>.<span class="pl-c1">21</span> us      | <span class="pl-c1">203</span>.<span class="pl-c1">20</span> ns   | <span class="pl-c1">512</span>.<span class="pl-c1">72</span> ns   |
| root | wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>mutex<span class="pl-k">/</span>innodb<span class="pl-k">/</span>trx_mutex                   |     <span class="pl-c1">81</span> | <span class="pl-c1">5</span>.<span class="pl-c1">93</span> us       | <span class="pl-c1">73</span>.<span class="pl-c1">14</span> ns    | <span class="pl-c1">252</span>.<span class="pl-c1">59</span> ns   |
<span class="pl-k">+</span><span class="pl-c">------+-----------------------------------------------------+--------+---------------+-------------+-------------+</span></pre></div>

<h4>
<a id="waits_by_host_by_latency--xwaits_by_host_by_latency" class="anchor" href="#waits_by_host_by_latency--xwaits_by_host_by_latency" aria-hidden="true"><span class="octicon octicon-link"></span></a>waits_by_host_by_latency / x$waits_by_host_by_latency</h4>

<h5>
<a id="description-50" class="anchor" href="#description-50" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Lists the top wait events per host by their total latency, ignoring idle (this may be very large) per host.</p>

<h5>
<a id="structures-42" class="anchor" href="#structures-42" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> waits_by_host_by_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| host          | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| event         | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">6</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">36</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$waits_by_host_by_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| host          | <span class="pl-k">varchar</span>(<span class="pl-c1">60</span>)         | YES  |     | <span class="pl-k">NULL</span>    |       |
| event         | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">6</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">25</span> sec)</pre></div>

<h5>
<a id="example-49" class="anchor" href="#example-49" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre> mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> waits_by_host_by_latency;
  <span class="pl-k">+</span><span class="pl-c">------+-----------------------------------------------------+--------+---------------+-------------+-------------+</span>
  | host | event                                               | total  | total_latency | avg_latency | max_latency |
  <span class="pl-k">+</span><span class="pl-c">------+-----------------------------------------------------+--------+---------------+-------------+-------------+</span>
  | hal1 | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>file_parser                        |  <span class="pl-c1">13743</span> | <span class="pl-c1">00</span>:<span class="pl-c1">01</span>:<span class="pl-c1">00</span>.<span class="pl-c1">46</span>   | <span class="pl-c1">4</span>.<span class="pl-c1">40</span> ms     | <span class="pl-c1">231</span>.<span class="pl-c1">88</span> ms   |
  | hal1 | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>innodb<span class="pl-k">/</span>innodb_data_file                |   <span class="pl-c1">4699</span> | <span class="pl-c1">3</span>.<span class="pl-c1">02</span> s        | <span class="pl-c1">643</span>.<span class="pl-c1">38</span> us   | <span class="pl-c1">46</span>.<span class="pl-c1">93</span> ms    |
  | hal1 | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>FRM                                |  <span class="pl-c1">11462</span> | <span class="pl-c1">2</span>.<span class="pl-c1">60</span> s        | <span class="pl-c1">226</span>.<span class="pl-c1">83</span> us   | <span class="pl-c1">61</span>.<span class="pl-c1">72</span> ms    |
  | hal1 | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>myisam<span class="pl-k">/</span>dfile                           |  <span class="pl-c1">26776</span> | <span class="pl-c1">746</span>.<span class="pl-c1">70</span> ms     | <span class="pl-c1">27</span>.<span class="pl-c1">89</span> us    | <span class="pl-c1">308</span>.<span class="pl-c1">79</span> ms   |
  | hal1 | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>myisam<span class="pl-k">/</span>kfile                           |   <span class="pl-c1">7126</span> | <span class="pl-c1">462</span>.<span class="pl-c1">66</span> ms     | <span class="pl-c1">64</span>.<span class="pl-c1">93</span> us    | <span class="pl-c1">88</span>.<span class="pl-c1">76</span> ms    |
  | hal1 | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>dbopt                              |    <span class="pl-c1">179</span> | <span class="pl-c1">137</span>.<span class="pl-c1">58</span> ms     | <span class="pl-c1">768</span>.<span class="pl-c1">59</span> us   | <span class="pl-c1">15</span>.<span class="pl-c1">46</span> ms    |
  | hal1 | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>csv<span class="pl-k">/</span>metadata                           |      <span class="pl-c1">8</span> | <span class="pl-c1">86</span>.<span class="pl-c1">60</span> ms      | <span class="pl-c1">10</span>.<span class="pl-c1">82</span> ms    | <span class="pl-c1">50</span>.<span class="pl-c1">32</span> ms    |
  | hal1 | wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>mutex<span class="pl-k">/</span>mysys<span class="pl-k">/</span>IO_CACHE::append_buffer_lock | <span class="pl-c1">798080</span> | <span class="pl-c1">66</span>.<span class="pl-c1">46</span> ms      | <span class="pl-c1">82</span>.<span class="pl-c1">94</span> ns    | <span class="pl-c1">161</span>.<span class="pl-c1">03</span> us   |
  | hal1 | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>binlog                             |     <span class="pl-c1">19</span> | <span class="pl-c1">49</span>.<span class="pl-c1">11</span> ms      | <span class="pl-c1">2</span>.<span class="pl-c1">58</span> ms     | <span class="pl-c1">9</span>.<span class="pl-c1">40</span> ms     |
  | hal1 | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>misc                               |     <span class="pl-c1">26</span> | <span class="pl-c1">22</span>.<span class="pl-c1">38</span> ms      | <span class="pl-c1">860</span>.<span class="pl-c1">80</span> us   | <span class="pl-c1">15</span>.<span class="pl-c1">30</span> ms    |
  | hal1 | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>csv<span class="pl-k">/</span>data                               |      <span class="pl-c1">4</span> | <span class="pl-c1">297</span>.<span class="pl-c1">46</span> us     | <span class="pl-c1">74</span>.<span class="pl-c1">37</span> us    | <span class="pl-c1">111</span>.<span class="pl-c1">93</span> us   |
  | hal1 | wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>rwlock<span class="pl-k">/</span>sql<span class="pl-k">/</span>MDL_lock::rwlock              |    <span class="pl-c1">944</span> | <span class="pl-c1">287</span>.<span class="pl-c1">86</span> us     | <span class="pl-c1">304</span>.<span class="pl-c1">62</span> ns   | <span class="pl-c1">874</span>.<span class="pl-c1">64</span> ns   |
  | hal1 | wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>archive<span class="pl-k">/</span>data                           |      <span class="pl-c1">4</span> | <span class="pl-c1">82</span>.<span class="pl-c1">71</span> us      | <span class="pl-c1">20</span>.<span class="pl-c1">68</span> us    | <span class="pl-c1">40</span>.<span class="pl-c1">74</span> us    |
  | hal1 | wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>mutex<span class="pl-k">/</span>myisam<span class="pl-k">/</span>MYISAM_SHARE::intern_lock   |     <span class="pl-c1">60</span> | <span class="pl-c1">12</span>.<span class="pl-c1">21</span> us      | <span class="pl-c1">203</span>.<span class="pl-c1">20</span> ns   | <span class="pl-c1">512</span>.<span class="pl-c1">72</span> ns   |
  | hal1 | wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>mutex<span class="pl-k">/</span>innodb<span class="pl-k">/</span>trx_mutex                   |     <span class="pl-c1">81</span> | <span class="pl-c1">5</span>.<span class="pl-c1">93</span> us       | <span class="pl-c1">73</span>.<span class="pl-c1">14</span> ns    | <span class="pl-c1">252</span>.<span class="pl-c1">59</span> ns   |
  <span class="pl-k">+</span><span class="pl-c">------+-----------------------------------------------------+--------+---------------+-------------+-------------+</span></pre></div>

<h4>
<a id="waits_global_by_latency--xwaits_global_by_latency" class="anchor" href="#waits_global_by_latency--xwaits_global_by_latency" aria-hidden="true"><span class="octicon octicon-link"></span></a>waits_global_by_latency / x$waits_global_by_latency</h4>

<h5>
<a id="description-51" class="anchor" href="#description-51" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Lists the top wait events by their total latency, ignoring idle (this may be very large).</p>

<h5>
<a id="structures-43" class="anchor" href="#structures-43" aria-hidden="true"><span class="octicon octicon-link"></span></a>Structures</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> waits_global_by_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| events        | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">text</span>                | YES  |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">5</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">desc</span> x$waits_global_by_latency;
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| Field         | Type                | <span class="pl-k">Null</span> | Key | Default | Extra |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
| events        | <span class="pl-k">varchar</span>(<span class="pl-c1">128</span>)        | NO   |     | <span class="pl-k">NULL</span>    |       |
| total         | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| total_latency | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| avg_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
| max_latency   | <span class="pl-k">bigint</span>(<span class="pl-c1">20</span>) unsigned | NO   |     | <span class="pl-k">NULL</span>    |       |
<span class="pl-k">+</span><span class="pl-c">---------------+---------------------+------+-----+---------+-------+</span>
<span class="pl-c1">5</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">03</span> sec)</pre></div>

<h5>
<a id="example-50" class="anchor" href="#example-50" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> <span class="pl-k">*</span> <span class="pl-k">from</span> waits_global_by_latency;
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------+---------+---------------+-------------+-------------+</span>
| events                                              | total   | total_latency | avg_latency | max_latency |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------+---------+---------------+-------------+-------------+</span>
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>file_parser                        | <span class="pl-c1">14936</span>   | <span class="pl-c1">00</span>:<span class="pl-c1">01</span>:<span class="pl-c1">06</span>.<span class="pl-c1">64</span>   | <span class="pl-c1">4</span>.<span class="pl-c1">46</span> ms     | <span class="pl-c1">231</span>.<span class="pl-c1">88</span> ms   |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>innodb<span class="pl-k">/</span>innodb_data_file                |    <span class="pl-c1">6133</span> | <span class="pl-c1">6</span>.<span class="pl-c1">31</span> s        | <span class="pl-c1">1</span>.<span class="pl-c1">03</span> ms     | <span class="pl-c1">147</span>.<span class="pl-c1">56</span> ms   |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>FRM                                |   <span class="pl-c1">12677</span> | <span class="pl-c1">2</span>.<span class="pl-c1">83</span> s        | <span class="pl-c1">223</span>.<span class="pl-c1">37</span> us   | <span class="pl-c1">40</span>.<span class="pl-c1">86</span> ms    |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>myisam<span class="pl-k">/</span>dfile                           |   <span class="pl-c1">28446</span> | <span class="pl-c1">754</span>.<span class="pl-c1">40</span> ms     | <span class="pl-c1">26</span>.<span class="pl-c1">52</span> us    | <span class="pl-c1">308</span>.<span class="pl-c1">79</span> ms   |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>myisam<span class="pl-k">/</span>kfile                           |    <span class="pl-c1">7572</span> | <span class="pl-c1">491</span>.<span class="pl-c1">17</span> ms     | <span class="pl-c1">64</span>.<span class="pl-c1">87</span> us    | <span class="pl-c1">88</span>.<span class="pl-c1">76</span> ms    |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>relaylog                           |       <span class="pl-c1">9</span> | <span class="pl-c1">252</span>.<span class="pl-c1">28</span> ms     | <span class="pl-c1">28</span>.<span class="pl-c1">03</span> ms    | <span class="pl-c1">144</span>.<span class="pl-c1">17</span> ms   |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>binlog                             |      <span class="pl-c1">76</span> | <span class="pl-c1">242</span>.<span class="pl-c1">87</span> ms     | <span class="pl-c1">3</span>.<span class="pl-c1">20</span> ms     | <span class="pl-c1">153</span>.<span class="pl-c1">72</span> ms   |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>binlog_index                       |      <span class="pl-c1">21</span> | <span class="pl-c1">173</span>.<span class="pl-c1">07</span> ms     | <span class="pl-c1">8</span>.<span class="pl-c1">24</span> ms     | <span class="pl-c1">81</span>.<span class="pl-c1">83</span> ms    |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>dbopt                              |     <span class="pl-c1">184</span> | <span class="pl-c1">149</span>.<span class="pl-c1">52</span> ms     | <span class="pl-c1">812</span>.<span class="pl-c1">62</span> us   | <span class="pl-c1">15</span>.<span class="pl-c1">46</span> ms    |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>innodb<span class="pl-k">/</span>innodb_log_file                 |      <span class="pl-c1">20</span> | <span class="pl-c1">117</span>.<span class="pl-c1">17</span> ms     | <span class="pl-c1">5</span>.<span class="pl-c1">86</span> ms     | <span class="pl-c1">36</span>.<span class="pl-c1">53</span> ms    |
| wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>mutex<span class="pl-k">/</span>mysys<span class="pl-k">/</span>IO_CACHE::append_buffer_lock | <span class="pl-c1">1197128</span> | <span class="pl-c1">99</span>.<span class="pl-c1">27</span> ms      | <span class="pl-c1">82</span>.<span class="pl-c1">56</span> ns    | <span class="pl-c1">161</span>.<span class="pl-c1">03</span> us   |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>csv<span class="pl-k">/</span>metadata                           |       <span class="pl-c1">8</span> | <span class="pl-c1">86</span>.<span class="pl-c1">60</span> ms      | <span class="pl-c1">10</span>.<span class="pl-c1">82</span> ms    | <span class="pl-c1">50</span>.<span class="pl-c1">32</span> ms    |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>relaylog_index                     |      <span class="pl-c1">10</span> | <span class="pl-c1">60</span>.<span class="pl-c1">10</span> ms      | <span class="pl-c1">6</span>.<span class="pl-c1">01</span> ms     | <span class="pl-c1">48</span>.<span class="pl-c1">04</span> ms    |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>ERRMSG                             |       <span class="pl-c1">5</span> | <span class="pl-c1">35</span>.<span class="pl-c1">41</span> ms      | <span class="pl-c1">7</span>.<span class="pl-c1">08</span> ms     | <span class="pl-c1">31</span>.<span class="pl-c1">78</span> ms    |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>misc                               |      <span class="pl-c1">28</span> | <span class="pl-c1">22</span>.<span class="pl-c1">40</span> ms      | <span class="pl-c1">800</span>.<span class="pl-c1">06</span> us   | <span class="pl-c1">15</span>.<span class="pl-c1">30</span> ms    |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>mysys<span class="pl-k">/</span>charset                          |       <span class="pl-c1">3</span> | <span class="pl-c1">7</span>.<span class="pl-c1">46</span> ms       | <span class="pl-c1">2</span>.<span class="pl-c1">49</span> ms     | <span class="pl-c1">4</span>.<span class="pl-c1">13</span> ms     |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>casetest                           |       <span class="pl-c1">5</span> | <span class="pl-c1">6</span>.<span class="pl-c1">01</span> ms       | <span class="pl-c1">1</span>.<span class="pl-c1">20</span> ms     | <span class="pl-c1">5</span>.<span class="pl-c1">86</span> ms     |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>pid                                |       <span class="pl-c1">3</span> | <span class="pl-c1">5</span>.<span class="pl-c1">96</span> ms       | <span class="pl-c1">1</span>.<span class="pl-c1">99</span> ms     | <span class="pl-c1">3</span>.<span class="pl-c1">06</span> ms     |
| wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>rwlock<span class="pl-k">/</span>sql<span class="pl-k">/</span>MDL_lock::rwlock              |    <span class="pl-c1">1396</span> | <span class="pl-c1">420</span>.<span class="pl-c1">58</span> us     | <span class="pl-c1">301</span>.<span class="pl-c1">22</span> ns   | <span class="pl-c1">874</span>.<span class="pl-c1">64</span> ns   |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>csv<span class="pl-k">/</span>data                               |       <span class="pl-c1">4</span> | <span class="pl-c1">297</span>.<span class="pl-c1">46</span> us     | <span class="pl-c1">74</span>.<span class="pl-c1">37</span> us    | <span class="pl-c1">111</span>.<span class="pl-c1">93</span> us   |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>mysys<span class="pl-k">/</span>cnf                              |       <span class="pl-c1">5</span> | <span class="pl-c1">154</span>.<span class="pl-c1">97</span> us     | <span class="pl-c1">30</span>.<span class="pl-c1">99</span> us    | <span class="pl-c1">58</span>.<span class="pl-c1">87</span> us    |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>archive<span class="pl-k">/</span>data                           |       <span class="pl-c1">4</span> | <span class="pl-c1">82</span>.<span class="pl-c1">71</span> us      | <span class="pl-c1">20</span>.<span class="pl-c1">68</span> us    | <span class="pl-c1">40</span>.<span class="pl-c1">74</span> us    |
| wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>mutex<span class="pl-k">/</span>myisam<span class="pl-k">/</span>MYISAM_SHARE::intern_lock   |      <span class="pl-c1">90</span> | <span class="pl-c1">19</span>.<span class="pl-c1">23</span> us      | <span class="pl-c1">213</span>.<span class="pl-c1">38</span> ns   | <span class="pl-c1">576</span>.<span class="pl-c1">81</span> ns   |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>global_ddl_log                     |       <span class="pl-c1">2</span> | <span class="pl-c1">18</span>.<span class="pl-c1">64</span> us      | <span class="pl-c1">9</span>.<span class="pl-c1">32</span> us     | <span class="pl-c1">16</span>.<span class="pl-c1">40</span> us    |
| wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>mutex<span class="pl-k">/</span>innodb<span class="pl-k">/</span>trx_mutex                   |     <span class="pl-c1">108</span> | <span class="pl-c1">8</span>.<span class="pl-c1">23</span> us       | <span class="pl-c1">76</span>.<span class="pl-c1">15</span> ns    | <span class="pl-c1">365</span>.<span class="pl-c1">69</span> ns   |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------+---------+---------------+-------------+-------------+</span></pre></div>

<h3>
<a id="functions" class="anchor" href="#functions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Functions</h3>

<h4>
<a id="extract_schema_from_file_name" class="anchor" href="#extract_schema_from_file_name" aria-hidden="true"><span class="octicon octicon-link"></span></a>extract_schema_from_file_name</h4>

<h5>
<a id="description-52" class="anchor" href="#description-52" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Takes a raw file path, and attempts to extract the schema name from it.</p>

<p>Useful for when interacting with Performance Schema data concerning IO statistics, for example.</p>

<p>Currently relies on the fact that a table data file will be within a specified database directory (will not work with partitions or tables that specify an individual DATA_DIRECTORY).</p>

<h5>
<a id="parameters" class="anchor" href="#parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>path (VARCHAR(512)): The full file path to a data file to extract the schema name from.</li>
</ul>

<h5>
<a id="returns" class="anchor" href="#returns" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>VARCHAR(64)</p>

<h5>
<a id="example-51" class="anchor" href="#example-51" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">extract_schema_from_file_name</span>(<span class="pl-s"><span class="pl-pds">'</span>/var/lib/mysql/employees/employee.ibd<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">----------------------------------------------------------------------------+</span>
| <span class="pl-c1">sys</span>.<span class="pl-c1">extract_schema_from_file_name</span>(<span class="pl-s"><span class="pl-pds">'</span>/var/lib/mysql/employees/employee.ibd<span class="pl-pds">'</span></span>) |
<span class="pl-k">+</span><span class="pl-c">----------------------------------------------------------------------------+</span>
| employees                                                                  |
<span class="pl-k">+</span><span class="pl-c">----------------------------------------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="extract_table_from_file_name" class="anchor" href="#extract_table_from_file_name" aria-hidden="true"><span class="octicon octicon-link"></span></a>extract_table_from_file_name</h4>

<h5>
<a id="description-53" class="anchor" href="#description-53" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Takes a raw file path, and extracts the table name from it.</p>

<p>Useful for when interacting with Performance Schema data concerning IO statistics, for example.</p>

<h5>
<a id="parameters-1" class="anchor" href="#parameters-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>path (VARCHAR(512)): The full file path to a data file to extract the table name from.</li>
</ul>

<h5>
<a id="returns-1" class="anchor" href="#returns-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>VARCHAR(64)</p>

<h5>
<a id="example-52" class="anchor" href="#example-52" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">extract_table_from_file_name</span>(<span class="pl-s"><span class="pl-pds">'</span>/var/lib/mysql/employees/employee.ibd<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">---------------------------------------------------------------------------+</span>
| <span class="pl-c1">sys</span>.<span class="pl-c1">extract_table_from_file_name</span>(<span class="pl-s"><span class="pl-pds">'</span>/var/lib/mysql/employees/employee.ibd<span class="pl-pds">'</span></span>) |
<span class="pl-k">+</span><span class="pl-c">---------------------------------------------------------------------------+</span>
| employee                                                                  |
<span class="pl-k">+</span><span class="pl-c">---------------------------------------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">02</span> sec)</pre></div>

<h4>
<a id="format_bytes" class="anchor" href="#format_bytes" aria-hidden="true"><span class="octicon octicon-link"></span></a> format_bytes</h4>

<h5>
<a id="description-54" class="anchor" href="#description-54" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Takes a raw bytes value, and converts it to a human readable format.</p>

<h5>
<a id="parameters-2" class="anchor" href="#parameters-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>bytes (TEXT): A raw bytes value.</li>
</ul>

<h5>
<a id="returns-2" class="anchor" href="#returns-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>TEXT</p>

<h5>
<a id="example-53" class="anchor" href="#example-53" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">format_bytes</span>(<span class="pl-c1">2348723492723746</span>) <span class="pl-k">AS</span> size;
<span class="pl-k">+</span><span class="pl-c">----------+</span>
| size     |
<span class="pl-k">+</span><span class="pl-c">----------+</span>
| <span class="pl-c1">2</span>.<span class="pl-c1">09</span> PiB |
<span class="pl-k">+</span><span class="pl-c">----------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">format_bytes</span>(<span class="pl-c1">2348723492723</span>) <span class="pl-k">AS</span> size;
<span class="pl-k">+</span><span class="pl-c">----------+</span>
| size     |
<span class="pl-k">+</span><span class="pl-c">----------+</span>
| <span class="pl-c1">2</span>.<span class="pl-c1">14</span> TiB |
<span class="pl-k">+</span><span class="pl-c">----------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">format_bytes</span>(<span class="pl-c1">23487234</span>) <span class="pl-k">AS</span> size;
<span class="pl-k">+</span><span class="pl-c">-----------+</span>
| size      |
<span class="pl-k">+</span><span class="pl-c">-----------+</span>
| <span class="pl-c1">22</span>.<span class="pl-c1">40</span> MiB |
<span class="pl-k">+</span><span class="pl-c">-----------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="format_path" class="anchor" href="#format_path" aria-hidden="true"><span class="octicon octicon-link"></span></a>format_path</h4>

<h5>
<a id="description-55" class="anchor" href="#description-55" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Takes a raw path value, and strips out the datadir or tmpdir replacing with @<a href="https://github.com/datadir" class="user-mention">@datadir</a> and @@tmpdir respectively. </p>

<p>Also normalizes the paths across operating systems, so backslashes on Windows are converted to forward slashes.</p>

<h5>
<a id="parameters-3" class="anchor" href="#parameters-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>path (VARCHAR(512)): The raw file path value to format.</li>
</ul>

<h5>
<a id="returns-3" class="anchor" href="#returns-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>VARCHAR(512) CHARSET UTF8</p>

<h5>
<a id="example-54" class="anchor" href="#example-54" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> @@datadir;
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------+</span>
| @@datadir                                     |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------+</span>
| <span class="pl-k">/</span>Users<span class="pl-k">/</span>mark<span class="pl-k">/</span>sandboxes<span class="pl-k">/</span>SmallTree<span class="pl-k">/</span>AMaster<span class="pl-k">/</span>data<span class="pl-k">/</span> |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">06</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> format_path(<span class="pl-s"><span class="pl-pds">'</span>/Users/mark/sandboxes/SmallTree/AMaster/data/mysql/proc.MYD<span class="pl-pds">'</span></span>) <span class="pl-k">AS</span> <span class="pl-k">path</span>;
<span class="pl-k">+</span><span class="pl-c">--------------------------+</span>
| <span class="pl-k">path</span>                     |
<span class="pl-k">+</span><span class="pl-c">--------------------------+</span>
| @@datadir<span class="pl-k">/</span>mysql<span class="pl-k">/</span><span class="pl-c1">proc</span>.<span class="pl-c1">MYD</span> |
<span class="pl-k">+</span><span class="pl-c">--------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">03</span> sec)</pre></div>

<h4>
<a id="format_statement" class="anchor" href="#format_statement" aria-hidden="true"><span class="octicon octicon-link"></span></a>format_statement</h4>

<h5>
<a id="description-56" class="anchor" href="#description-56" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Formats a normalized statement, truncating it if it is &gt; 64 characters long by default.</p>

<p>To configure the length to truncate the statement to by default, update the <code>statement_truncate_len</code> variable with <code>sys_config</code> table to a different value. Alternatively, to change it just for just your particular session, use <code>SET @sys.statement_truncate_len := &lt;some new value&gt;</code>.</p>

<p>Useful for printing statement related data from Performance Schema from the command line.</p>

<h5>
<a id="parameters-4" class="anchor" href="#parameters-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>statement (LONGTEXT): The statement to format.</li>
</ul>

<h5>
<a id="returns-4" class="anchor" href="#returns-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>VARCHAR(65)</p>

<h5>
<a id="example-55" class="anchor" href="#example-55" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">format_statement</span>(digest_text)
    <span class="pl-k">-</span><span class="pl-k">&gt;</span>   <span class="pl-k">FROM</span> <span class="pl-c1">performance_schema</span>.<span class="pl-c1">events_statements_summary_by_digest</span>
    <span class="pl-k">-</span><span class="pl-k">&gt;</span>  <span class="pl-k">ORDER by</span> sum_timer_wait <span class="pl-k">DESC</span> <span class="pl-k">limit</span> <span class="pl-c1">5</span>;
<span class="pl-k">+</span><span class="pl-c">-------------------------------------------------------------------+</span>
| <span class="pl-c1">sys</span>.<span class="pl-c1">format_statement</span>(digest_text)                                 |
<span class="pl-k">+</span><span class="pl-c">-------------------------------------------------------------------+</span>
| CREATE SQL SECURITY INVOKER VI ... KE ? <span class="pl-k">AND</span> <span class="pl-s"><span class="pl-pds">`</span>variable_value<span class="pl-pds">`</span></span> <span class="pl-k">&gt;</span> ?  |
| CREATE SQL SECURITY INVOKER VI ... ait<span class="pl-s"><span class="pl-pds">`</span> IS NOT NULL , <span class="pl-pds">`</span></span>esc<span class="pl-s"><span class="pl-pds">`</span> . ... |</span>
<span class="pl-s">| CREATE SQL SECURITY INVOKER VI ... ait<span class="pl-pds">`</span></span> <span class="pl-k">IS NOT NULL</span> , <span class="pl-s"><span class="pl-pds">`</span>sys<span class="pl-pds">`</span></span> . ... |
| CREATE SQL SECURITY INVOKER VI ...  , <span class="pl-s"><span class="pl-pds">`</span>compressed_size<span class="pl-pds">`</span></span> ) ) <span class="pl-k">DESC</span>  |
| CREATE SQL SECURITY INVOKER VI ... <span class="pl-k">LIKE</span> ? <span class="pl-k">ORDER BY</span> <span class="pl-s"><span class="pl-pds">`</span>timer_start<span class="pl-pds">`</span></span>  |
<span class="pl-k">+</span><span class="pl-c">-------------------------------------------------------------------+</span>
<span class="pl-c1">5</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="format_time" class="anchor" href="#format_time" aria-hidden="true"><span class="octicon octicon-link"></span></a>format_time</h4>

<h5>
<a id="description-57" class="anchor" href="#description-57" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Takes a raw picoseconds value, and converts it to a human readable form.</p>

<p>Picoseconds are the precision that all latency values are printed in within Performance Schema, however are not user friendly when wanting to scan output from the command line.</p>

<h5>
<a id="parameters-5" class="anchor" href="#parameters-5" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>picoseconds (TEXT): The raw picoseconds value to convert.</li>
</ul>

<h5>
<a id="returns-5" class="anchor" href="#returns-5" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>TEXT</p>

<h5>
<a id="example-56" class="anchor" href="#example-56" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> format_time(<span class="pl-c1">342342342342345</span>);
<span class="pl-k">+</span><span class="pl-c">------------------------------+</span>
| format_time(<span class="pl-c1">342342342342345</span>) |
<span class="pl-k">+</span><span class="pl-c">------------------------------+</span>
| <span class="pl-c1">00</span>:<span class="pl-c1">05</span>:<span class="pl-c1">42</span>                     |
<span class="pl-k">+</span><span class="pl-c">------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> format_time(<span class="pl-c1">342342342</span>);
<span class="pl-k">+</span><span class="pl-c">------------------------+</span>
| format_time(<span class="pl-c1">342342342</span>) |
<span class="pl-k">+</span><span class="pl-c">------------------------+</span>
| <span class="pl-c1">342</span>.<span class="pl-c1">34</span> us              |
<span class="pl-k">+</span><span class="pl-c">------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> format_time(<span class="pl-c1">34234</span>);
 <span class="pl-k">+</span><span class="pl-c">--------------------+</span>
| format_time(<span class="pl-c1">34234</span>) |
<span class="pl-k">+</span><span class="pl-c">--------------------+</span>
| <span class="pl-c1">34</span>.<span class="pl-c1">23</span> ns           |
<span class="pl-k">+</span><span class="pl-c">--------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="list_add" class="anchor" href="#list_add" aria-hidden="true"><span class="octicon octicon-link"></span></a>list_add</h4>

<h5>
<a id="description-58" class="anchor" href="#description-58" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Takes a list, and a value to add to the list, and returns the resulting list.</p>

<p>Useful for altering certain session variables, like sql_mode or optimizer_switch for instance.</p>

<h5>
<a id="parameters-6" class="anchor" href="#parameters-6" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<p>in_list (TEXT): The comma separated list to add a value to</p>

<p>in_add_value (TEXT): The value to add to the input list</p>

<h5>
<a id="returns-6" class="anchor" href="#returns-6" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>TEXT</p>

<h5>
<a id="example-57" class="anchor" href="#example-57" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> @@sql_mode;
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------------------------------+</span>
| @@sql_mode                                                                        |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------------------------------+</span>
| ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">set</span> sql_mode <span class="pl-k">=</span> <span class="pl-c1">sys</span>.<span class="pl-c1">list_add</span>(@@sql_mode, <span class="pl-s"><span class="pl-pds">'</span>ANSI_QUOTES<span class="pl-pds">'</span></span>);
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">06</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> @@sql_mode;
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------------------------------------------+</span>
| @@sql_mode                                                                                    |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------------------------------------------+</span>
| ANSI_QUOTES,ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="list_drop" class="anchor" href="#list_drop" aria-hidden="true"><span class="octicon octicon-link"></span></a>list_drop</h4>

<h5>
<a id="description-59" class="anchor" href="#description-59" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Takes a list, and a value to attempt to remove from the list, and returns the resulting list.</p>

<p>Useful for altering certain session variables, like sql_mode or optimizer_switch for instance.</p>

<h5>
<a id="parameters-7" class="anchor" href="#parameters-7" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<p>in_list (TEXT): The comma separated list to drop a value from</p>

<p>in_drop_value (TEXT): The value to drop from the input list</p>

<h5>
<a id="returns-7" class="anchor" href="#returns-7" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>TEXT</p>

<h5>
<a id="example-58" class="anchor" href="#example-58" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> @@sql_mode;
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------------------------------------------+</span>
| @@sql_mode                                                                                    |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------------------------------------------+</span>
| ANSI_QUOTES,ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">set</span> sql_mode <span class="pl-k">=</span> <span class="pl-c1">sys</span>.<span class="pl-c1">list_drop</span>(@@sql_mode, <span class="pl-s"><span class="pl-pds">'</span>ONLY_FULL_GROUP_BY<span class="pl-pds">'</span></span>);
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">03</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">select</span> @@sql_mode;
<span class="pl-k">+</span><span class="pl-c">----------------------------------------------------------------------------+</span>
| @@sql_mode                                                                 |
<span class="pl-k">+</span><span class="pl-c">----------------------------------------------------------------------------+</span>
| ANSI_QUOTES,STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION |
<span class="pl-k">+</span><span class="pl-c">----------------------------------------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="ps_is_account_enabled" class="anchor" href="#ps_is_account_enabled" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_is_account_enabled</h4>

<h5>
<a id="description-60" class="anchor" href="#description-60" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Determines whether instrumentation of an account is enabled within Performance Schema.</p>

<h5>
<a id="parameters-8" class="anchor" href="#parameters-8" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_host VARCHAR(60): The hostname of the account to check.</li>
<li>in_user VARCHAR(32): The username of the account to check.</li>
</ul>

<h5>
<a id="returns-8" class="anchor" href="#returns-8" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>ENUM('YES', 'NO')</p>

<h5>
<a id="example-59" class="anchor" href="#example-59" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">ps_is_account_enabled</span>(<span class="pl-s"><span class="pl-pds">'</span>localhost<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>root<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">------------------------------------------------+</span>
| <span class="pl-c1">sys</span>.<span class="pl-c1">ps_is_account_enabled</span>(<span class="pl-s"><span class="pl-pds">'</span>localhost<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>root<span class="pl-pds">'</span></span>) |
<span class="pl-k">+</span><span class="pl-c">------------------------------------------------+</span>
| YES                                            |
<span class="pl-k">+</span><span class="pl-c">------------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)</pre></div>

<h4>
<a id="ps_is_consumer_enabled" class="anchor" href="#ps_is_consumer_enabled" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_is_consumer_enabled</h4>

<h5>
<a id="description-61" class="anchor" href="#description-61" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Determines whether a consumer is enabled (taking the consumer hierarchy into consideration) within the Performance Schema.</p>

<h5>
<a id="parameters-9" class="anchor" href="#parameters-9" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_consumer VARCHAR(64): The name of the consumer to check.</li>
</ul>

<h5>
<a id="returns-9" class="anchor" href="#returns-9" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>ENUM('YES', 'NO')</p>

<h5>
<a id="example-60" class="anchor" href="#example-60" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">ps_is_consumer_enabled</span>(<span class="pl-s"><span class="pl-pds">'</span>events_stages_history<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------+</span>
| <span class="pl-c1">sys</span>.<span class="pl-c1">ps_is_consumer_enabled</span>(<span class="pl-s"><span class="pl-pds">'</span>events_stages_history<span class="pl-pds">'</span></span>) |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------+</span>
| NO                                                  |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="ps_is_instrument_default_enabled" class="anchor" href="#ps_is_instrument_default_enabled" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_is_instrument_default_enabled</h4>

<h5>
<a id="description-62" class="anchor" href="#description-62" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Returns whether an instrument is enabled by default in this version of MySQL.</p>

<h5>
<a id="parameters-10" class="anchor" href="#parameters-10" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_instrument VARCHAR(128): The instrument to check.</li>
</ul>

<h5>
<a id="returns-10" class="anchor" href="#returns-10" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>ENUM('YES', 'NO')</p>

<h5>
<a id="example-61" class="anchor" href="#example-61" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">ps_is_instrument_default_enabled</span>(<span class="pl-s"><span class="pl-pds">'</span>statement/sql/select<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">--------------------------------------------------------------+</span>
| <span class="pl-c1">sys</span>.<span class="pl-c1">ps_is_instrument_default_enabled</span>(<span class="pl-s"><span class="pl-pds">'</span>statement/sql/select<span class="pl-pds">'</span></span>) |
<span class="pl-k">+</span><span class="pl-c">--------------------------------------------------------------+</span>
| YES                                                          |
<span class="pl-k">+</span><span class="pl-c">--------------------------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="ps_is_instrument_default_timed" class="anchor" href="#ps_is_instrument_default_timed" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_is_instrument_default_timed</h4>

<h5>
<a id="description-63" class="anchor" href="#description-63" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Returns whether an instrument is timed by default in this version of MySQL.</p>

<h5>
<a id="parameters-11" class="anchor" href="#parameters-11" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_instrument VARCHAR(128): The instrument to check.</li>
</ul>

<h5>
<a id="returns-11" class="anchor" href="#returns-11" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>ENUM('YES', 'NO')</p>

<h5>
<a id="example-62" class="anchor" href="#example-62" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">ps_is_instrument_default_timed</span>(<span class="pl-s"><span class="pl-pds">'</span>statement/sql/select<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">------------------------------------------------------------+</span>
| <span class="pl-c1">sys</span>.<span class="pl-c1">ps_is_instrument_default_timed</span>(<span class="pl-s"><span class="pl-pds">'</span>statement/sql/select<span class="pl-pds">'</span></span>) |
<span class="pl-k">+</span><span class="pl-c">------------------------------------------------------------+</span>
| YES                                                        |
<span class="pl-k">+</span><span class="pl-c">------------------------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="ps_is_thread_instrumented" class="anchor" href="#ps_is_thread_instrumented" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_is_thread_instrumented</h4>

<h5>
<a id="description-64" class="anchor" href="#description-64" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Checks whether the provided connection id is instrumented within Performance Schema.</p>

<h5>
<a id="parameters-12" class="anchor" href="#parameters-12" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_connection_id (BIGINT UNSIGNED): the id of the connection to check.</li>
</ul>

<h5>
<a id="returns-12" class="anchor" href="#returns-12" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>ENUM('YES', 'NO', 'UNKNOWN')</p>

<h5>
<a id="example-63" class="anchor" href="#example-63" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">ps_is_thread_instrumented</span>(CONNECTION_ID());
<span class="pl-k">+</span><span class="pl-c">------------------------------------------------+</span>
| <span class="pl-c1">sys</span>.<span class="pl-c1">ps_is_thread_instrumented</span>(CONNECTION_ID()) |
<span class="pl-k">+</span><span class="pl-c">------------------------------------------------+</span>
| YES                                            |
<span class="pl-k">+</span><span class="pl-c">------------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">10</span> sec)</pre></div>

<h4>
<a id="ps_thread_id" class="anchor" href="#ps_thread_id" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_thread_id</h4>

<h5>
<a id="description-65" class="anchor" href="#description-65" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Return the Performance Schema THREAD_ID for the specified connection ID.</p>

<h5>
<a id="parameters-13" class="anchor" href="#parameters-13" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_connection_id (BIGINT UNSIGNED): The id of the connection to return the thread id for. If NULL, the current connection thread id is returned.</li>
</ul>

<h5>
<a id="returns-13" class="anchor" href="#returns-13" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>BIGINT UNSIGNED</p>

<h5>
<a id="example-64" class="anchor" href="#example-64" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">ps_thread_id</span>(<span class="pl-c1">79</span>);
<span class="pl-k">+</span><span class="pl-c">----------------------+</span>
| <span class="pl-c1">sys</span>.<span class="pl-c1">ps_thread_id</span>(<span class="pl-c1">79</span>) |
<span class="pl-k">+</span><span class="pl-c">----------------------+</span>
|                   <span class="pl-c1">98</span> |
<span class="pl-k">+</span><span class="pl-c">----------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">ps_thread_id</span>(CONNECTION_ID());
<span class="pl-k">+</span><span class="pl-c">-----------------------------------+</span>
| <span class="pl-c1">sys</span>.<span class="pl-c1">ps_thread_id</span>(CONNECTION_ID()) |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------+</span>
|                                <span class="pl-c1">98</span> |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="ps_thread_stack" class="anchor" href="#ps_thread_stack" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_thread_stack</h4>

<h5>
<a id="description-66" class="anchor" href="#description-66" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Outputs a JSON formatted stack of all statements, stages and events within Performance Schema for the specified thread.</p>

<h5>
<a id="parameters-14" class="anchor" href="#parameters-14" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>thd_id (BIGINT): The id of the thread to trace. This should match the thread_id column from the performance_schema.threads table.</li>
</ul>

<h5>
<a id="example-65" class="anchor" href="#example-65" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<p>(line separation added for output)</p>

<div class="highlight highlight-source-sql"><pre> mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">ps_thread_stack</span>(<span class="pl-c1">37</span>, FALSE) <span class="pl-k">AS</span> thread_stack\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
thread_stack: {<span class="pl-s"><span class="pl-pds">"</span>rankdir<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>LR<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>nodesep<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>0.10<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>stack_created<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2014-02-19 13:39:03<span class="pl-pds">"</span></span>,
<span class="pl-s"><span class="pl-pds">"</span>mysql_version<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>5.7.3-m13<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>mysql_user<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>root@localhost<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>events<span class="pl-pds">"</span></span>: 
[{<span class="pl-s"><span class="pl-pds">"</span>nesting_event_id<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>event_id<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>10<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>timer_wait<span class="pl-pds">"</span></span>: <span class="pl-c1">256</span>.<span class="pl-c1">35</span>, <span class="pl-s"><span class="pl-pds">"</span>event_info<span class="pl-pds">"</span></span>: 
<span class="pl-s"><span class="pl-pds">"</span>sql/select<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>wait_info<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>select @@version_comment limit 1\nerrors: 0\nwarnings: 0\nlock time:</span>
<span class="pl-s">...</span></pre></div>

<h4>
<a id="ps_thread_trx_info" class="anchor" href="#ps_thread_trx_info" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_thread_trx_info</h4>

<h5>
<a id="description-67" class="anchor" href="#description-67" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Returns a JSON object with info on the given thread's current transaction, and the statements it has already executed, derived from the <code>performance_schema.events_transactions_current</code> and <code>performance_schema.events_statements_history</code> tables (so the consumers for these also have to be enabled within Performance Schema to get full data in the object).</p>

<p>When the output exceeds the default truncation length (65535), a JSON error object is returned, such as:</p>

<p><code>{ "error": "Trx info truncated: Row 6 was cut by GROUP_CONCAT()" }</code></p>

<p>Similar error objects are returned for other warnings/and exceptions raised when calling the function.</p>

<p>The max length of the output of this function can be controlled with the <code>ps_thread_trx_info.max_length</code> variable set via <code>sys_config</code>, or the <code>@sys.ps_thread_trx_info.max_length</code> user variable, as appropriate.</p>

<h5>
<a id="parameters-15" class="anchor" href="#parameters-15" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_thread_id (BIGINT UNSIGNED): The id of the thread to return the transaction info for.</li>
</ul>

<h5>
<a id="example-66" class="anchor" href="#example-66" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre><span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">ps_thread_trx_info</span>(<span class="pl-c1">48</span>)\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
<span class="pl-c1">sys</span>.<span class="pl-c1">ps_thread_trx_info</span>(<span class="pl-c1">48</span>): [
  {
    <span class="pl-s"><span class="pl-pds">"</span>time<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>790.70 us<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>state<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>COMMITTED<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>mode<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>READ WRITE<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>autocommitted<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>NO<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>gtid<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>AUTOMATIC<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>isolation<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>REPEATABLE READ<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>statements_executed<span class="pl-pds">"</span></span>: [
      {
        <span class="pl-s"><span class="pl-pds">"</span>sql_text<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>INSERT INTO info VALUES (1, \'foo\')<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>time<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>471.02 us<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>schema<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>trx<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>rows_examined<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>rows_affected<span class="pl-pds">"</span></span>: <span class="pl-c1">1</span>,
        <span class="pl-s"><span class="pl-pds">"</span>rows_sent<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>tmp_tables<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>tmp_disk_tables<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>sort_rows<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>sort_merge_passes<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>
      },
      {
        <span class="pl-s"><span class="pl-pds">"</span>sql_text<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>COMMIT<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>time<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>254.42 us<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>schema<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>trx<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>rows_examined<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>rows_affected<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>rows_sent<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>tmp_tables<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>tmp_disk_tables<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>sort_rows<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>sort_merge_passes<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>
      }
    ]
  },
  {
    <span class="pl-s"><span class="pl-pds">"</span>time<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>426.20 us<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>state<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>COMMITTED<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>mode<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>READ WRITE<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>autocommitted<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>NO<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>gtid<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>AUTOMATIC<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>isolation<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>REPEATABLE READ<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>statements_executed<span class="pl-pds">"</span></span>: [
      {
        <span class="pl-s"><span class="pl-pds">"</span>sql_text<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>INSERT INTO info VALUES (2, \'bar\')<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>time<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>107.33 us<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>schema<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>trx<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>rows_examined<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>rows_affected<span class="pl-pds">"</span></span>: <span class="pl-c1">1</span>,
        <span class="pl-s"><span class="pl-pds">"</span>rows_sent<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>tmp_tables<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>tmp_disk_tables<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>sort_rows<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>sort_merge_passes<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>
      },
      {
        <span class="pl-s"><span class="pl-pds">"</span>sql_text<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>COMMIT<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>time<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>213.23 us<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>schema<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>trx<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>rows_examined<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>rows_affected<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>rows_sent<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>tmp_tables<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>tmp_disk_tables<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>sort_rows<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>,
        <span class="pl-s"><span class="pl-pds">"</span>sort_merge_passes<span class="pl-pds">"</span></span>: <span class="pl-c1">0</span>
      }
    ]
  }
]
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">03</span> sec)</pre></div>

<h4>
<a id="sys_get_config" class="anchor" href="#sys_get_config" aria-hidden="true"><span class="octicon octicon-link"></span></a>sys_get_config</h4>

<h5>
<a id="description-68" class="anchor" href="#description-68" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Returns the value for the requested variable using the following logic:</p>

<ol>
<li>If the option exists in sys.sys_config return the value from there.</li>
<li>Else fall back on the provided default value.</li>
</ol>

<p>Notes for using sys_get_config():</p>

<ul>
<li>If the default value argument to sys_get_config() is NULL and case 2. is reached, NULL is returned.
It is then expected that the caller is able to handle NULL for the given configuration option.</li>
<li>The convention is to name the user variables <a href="https://github.com/sys" class="user-mention">@sys</a>.. It is  that
is stored in the sys_config table and is what is expected as the argument to sys_get_config().</li>
<li>If you want to check whether the configuration option has already been set and if not assign with
the return value of sys_get_config() you can use IFNULL(...) (see example below). However this should
not be done inside a loop (e.g. for each row in a result set) as for repeated calls where assignment
is only needed in the first iteration using IFNULL(...) is expected to be significantly slower than
using an IF (...) THEN ... END IF; block (see example below).</li>
</ul>

<h5>
<a id="parameters-16" class="anchor" href="#parameters-16" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_variable_name (VARCHAR(128)): The name of the config option to return the value for.</li>
<li>in_default_value (VARCHAR(128)): The default value to return if neither a use variable exists nor the variable exists in sys.sys_config.</li>
</ul>

<h5>
<a id="returns-14" class="anchor" href="#returns-14" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>VARCHAR(128)</p>

<h5>
<a id="example-67" class="anchor" href="#example-67" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre><span class="pl-c">-- Get the configuration value from sys.sys_config falling back on 128 if the option is not present in the table.</span>
mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">sys_get_config</span>(<span class="pl-s"><span class="pl-pds">'</span>statement_truncate_len<span class="pl-pds">'</span></span>, <span class="pl-c1">128</span>) <span class="pl-k">AS</span> Value;
<span class="pl-k">+</span><span class="pl-c">-------+</span>
| Value |
<span class="pl-k">+</span><span class="pl-c">-------+</span>
| <span class="pl-c1">64</span>    |
<span class="pl-k">+</span><span class="pl-c">-------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

<span class="pl-c">-- Check whether the option is already set, if not assign - IFNULL(...) one liner example.</span>
mysql<span class="pl-k">&gt;</span> <span class="pl-k">SET</span> @<span class="pl-c1">sys</span>.<span class="pl-c1">statement_truncate_len</span> <span class="pl-k">=</span> IFNULL(@<span class="pl-c1">sys</span>.<span class="pl-c1">statement_truncate_len</span>, <span class="pl-c1">sys</span>.<span class="pl-c1">sys_get_config</span>(<span class="pl-s"><span class="pl-pds">'</span>statement_truncate_len<span class="pl-pds">'</span></span>, <span class="pl-c1">64</span>));
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

<span class="pl-c">-- Check whether the option is already set, if not assign - IF ... THEN ... END IF example.</span>
IF (@<span class="pl-c1">sys</span>.<span class="pl-c1">statement_truncate_len</span> IS <span class="pl-k">NULL</span>) THEN
    <span class="pl-k">SET</span> @<span class="pl-c1">sys</span>.<span class="pl-c1">statement_truncate_len</span> <span class="pl-k">=</span> <span class="pl-c1">sys</span>.<span class="pl-c1">sys_get_config</span>(<span class="pl-s"><span class="pl-pds">'</span>statement_truncate_len<span class="pl-pds">'</span></span>, <span class="pl-c1">64</span>);
END IF;</pre></div>

<h4>
<a id="version_major" class="anchor" href="#version_major" aria-hidden="true"><span class="octicon octicon-link"></span></a>version_major</h4>

<h5>
<a id="description-69" class="anchor" href="#description-69" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Returns the major version of MySQL Server.</p>

<h5>
<a id="returns-15" class="anchor" href="#returns-15" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>TINYINT UNSIGNED</p>

<h5>
<a id="example-68" class="anchor" href="#example-68" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> VERSION(), <span class="pl-c1">sys</span>.<span class="pl-c1">version_major</span>();
<span class="pl-k">+</span><span class="pl-c">--------------------------------------+---------------------+</span>
| VERSION()                            | <span class="pl-c1">sys</span>.<span class="pl-c1">version_major</span>() |
<span class="pl-k">+</span><span class="pl-c">--------------------------------------+---------------------+</span>
| <span class="pl-c1">5</span>.<span class="pl-c1">7</span>.<span class="pl-c1">9</span><span class="pl-k">-</span>enterprise<span class="pl-k">-</span>commercial<span class="pl-k">-</span>advanced | <span class="pl-c1">5</span>                   |
<span class="pl-k">+</span><span class="pl-c">--------------------------------------+---------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="version_minor" class="anchor" href="#version_minor" aria-hidden="true"><span class="octicon octicon-link"></span></a>version_minor</h4>

<h5>
<a id="description-70" class="anchor" href="#description-70" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Returns the minor (release series) version of MySQL Server.</p>

<h5>
<a id="returns-16" class="anchor" href="#returns-16" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>TINYINT UNSIGNED</p>

<h5>
<a id="example-69" class="anchor" href="#example-69" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> VERSION(), <span class="pl-c1">sys</span>.<span class="pl-c1">server_minor</span>();
<span class="pl-k">+</span><span class="pl-c">--------------------------------------+---------------------+</span>
| VERSION()                            | <span class="pl-c1">sys</span>.<span class="pl-c1">version_minor</span>() |
<span class="pl-k">+</span><span class="pl-c">--------------------------------------+---------------------+</span>
| <span class="pl-c1">5</span>.<span class="pl-c1">7</span>.<span class="pl-c1">9</span><span class="pl-k">-</span>enterprise<span class="pl-k">-</span>commercial<span class="pl-k">-</span>advanced | <span class="pl-c1">7</span>                   |
<span class="pl-k">+</span><span class="pl-c">--------------------------------------+---------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="version_patch" class="anchor" href="#version_patch" aria-hidden="true"><span class="octicon octicon-link"></span></a>version_patch</h4>

<h5>
<a id="description-71" class="anchor" href="#description-71" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Returns the patch release version of MySQL Server.</p>

<h5>
<a id="returns-17" class="anchor" href="#returns-17" aria-hidden="true"><span class="octicon octicon-link"></span></a>Returns</h5>

<p>TINYINT UNSIGNED</p>

<h5>
<a id="example-70" class="anchor" href="#example-70" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> VERSION(), <span class="pl-c1">sys</span>.<span class="pl-c1">version_patch</span>();
<span class="pl-k">+</span><span class="pl-c">--------------------------------------+---------------------+</span>
| VERSION()                            | <span class="pl-c1">sys</span>.<span class="pl-c1">version_patch</span>() |
<span class="pl-k">+</span><span class="pl-c">--------------------------------------+---------------------+</span>
| <span class="pl-c1">5</span>.<span class="pl-c1">7</span>.<span class="pl-c1">9</span><span class="pl-k">-</span>enterprise<span class="pl-k">-</span>commercial<span class="pl-k">-</span>advanced | <span class="pl-c1">9</span>                   |
<span class="pl-k">+</span><span class="pl-c">--------------------------------------+---------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h3>
<a id="procedures" class="anchor" href="#procedures" aria-hidden="true"><span class="octicon octicon-link"></span></a>Procedures</h3>

<h4>
<a id="create_synonym_db" class="anchor" href="#create_synonym_db" aria-hidden="true"><span class="octicon octicon-link"></span></a>create_synonym_db</h4>

<h5>
<a id="description-72" class="anchor" href="#description-72" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Takes a source database name and synonym name, and then creates the synonym database with views that point to all of the tables within the source database.</p>

<p>Useful for creating a "ps" synonym for "performance_schema", or "is" instead of "information_schema", for example.</p>

<h5>
<a id="parameters-17" class="anchor" href="#parameters-17" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_db_name (VARCHAR(64)):
** The database name that you would like to create a synonym for.</li>
<li>in_synonym (VARCHAR(64)):
** The database synonym name.</li>
</ul>

<h5>
<a id="example-71" class="anchor" href="#example-71" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> SHOW DATABASES;
<span class="pl-k">+</span><span class="pl-c">--------------------+</span>
| Database           |
<span class="pl-k">+</span><span class="pl-c">--------------------+</span>
| information_schema |
| mysql              |
| performance_schema |
| sys                |
| test               |
<span class="pl-k">+</span><span class="pl-c">--------------------+</span>
<span class="pl-c1">5</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">create_synonym_db</span>(<span class="pl-s"><span class="pl-pds">'</span>performance_schema<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>ps<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">-------------------------------------+</span>
| summary                             |
<span class="pl-k">+</span><span class="pl-c">-------------------------------------+</span>
| Created <span class="pl-c1">74</span> views <span class="pl-k">in</span> the ps database |
<span class="pl-k">+</span><span class="pl-c">-------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">8</span>.<span class="pl-c1">57</span> sec)

Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">8</span>.<span class="pl-c1">57</span> sec)

mysql<span class="pl-k">&gt;</span> SHOW DATABASES;
<span class="pl-k">+</span><span class="pl-c">--------------------+</span>
| Database           |
<span class="pl-k">+</span><span class="pl-c">--------------------+</span>
| information_schema |
| mysql              |
| performance_schema |
| ps                 |
| sys                |
| test               |
<span class="pl-k">+</span><span class="pl-c">--------------------+</span>
<span class="pl-c1">6</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> SHOW FULL TABLES <span class="pl-k">FROM</span> ps;
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------+------------+</span>
| Tables_in_ps                            | Table_type |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------+------------+</span>
| accounts                                | VIEW       |
| cond_instances                          | VIEW       |
| events_stages_current                   | VIEW       |
| events_stages_history                   | VIEW       |
...</pre></div>

<h4>
<a id="execute_prepared_stmt" class="anchor" href="#execute_prepared_stmt" aria-hidden="true"><span class="octicon octicon-link"></span></a>execute_prepared_stmt</h4>

<h5>
<a id="description-73" class="anchor" href="#description-73" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Takes the query in the argument and executes it using a prepared statement. The prepared statement is deallocated,
so the procedure is mainly useful for executing one off dynamically created queries.</p>

<p>The sys_execute_prepared_stmt prepared statement name is used for the query and is required not to exist.</p>

<h5>
<a id="parameters-18" class="anchor" href="#parameters-18" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_query (longtext CHARACTER SET UTF8):
** The query to execute.</li>
</ul>

<p>The following configuration option is supported:</p>

<ul>
<li>sys.debug
 Whether to provide debugging output.
 Default is 'OFF'. Set to 'ON' to include.</li>
</ul>

<h5>
<a id="example-72" class="anchor" href="#example-72" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">execute_prepared_stmt</span>(<span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span><span class="pl-k">SELECT</span> <span class="pl-k">*</span> <span class="pl-k">FROM</span> <span class="pl-c1">sys</span>.<span class="pl-c1">sys_config</span><span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">------------------------+-------+---------------------+--------+</span>
| variable               | value | set_time            | set_by |
<span class="pl-k">+</span><span class="pl-c">------------------------+-------+---------------------+--------+</span>
| statement_truncate_len | <span class="pl-c1">64</span>    | <span class="pl-c1">2015</span><span class="pl-k">-</span><span class="pl-c1">06</span><span class="pl-k">-</span><span class="pl-c1">30</span> <span class="pl-c1">13</span>:<span class="pl-c1">06</span>:<span class="pl-c1">00</span> | <span class="pl-k">NULL</span>   |
<span class="pl-k">+</span><span class="pl-c">------------------------+-------+---------------------+--------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="diagnostics" class="anchor" href="#diagnostics" aria-hidden="true"><span class="octicon octicon-link"></span></a>diagnostics</h4>

<h5>
<a id="description-74" class="anchor" href="#description-74" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Create a report of the current status of the server for diagnostics purposes. Data collected includes (some items depends on versions and settings):</p>

<ul>
<li>The GLOBAL VARIABLES</li>
<li>Several sys schema views including metrics or equivalent (depending on version and settings)</li>
<li>Queries in the 95th percentile</li>
<li>Several ndbinfo views for MySQL Cluster</li>
<li>Replication (both master and slave) information.</li>
</ul>

<p>Some of the sys schema views are calculated as initial (optional), overall, delta:</p>

<ul>
<li>The initial view is the content of the view at the start of this procedure.
This output will be the same as the the start values used for the delta view.
The initial view is included if @sys.diagnostics.include_raw = 'ON'.</li>
<li>The overall view is the content of the view at the end of this procedure.
This output is the same as the end values used for the delta view.
The overall view is always included.</li>
<li>The delta view is the difference from the beginning to the end. Note that for min and max values
they are simply the min or max value from the end view respectively, so does not necessarily reflect
the minimum/maximum value in the monitored period.
Note: except for the metrics view the delta is only calculation between the first and last outputs.</li>
</ul>

<p>Requires the SUPER privilege for "SET sql_log_bin = 0;".</p>

<p>Versions supported:</p>

<ul>
<li>MySQL 5.6: 5.6.10 and later</li>
<li>MySQL 5.7: 5.7.9 and later</li>
</ul>

<p>Some configuration options are supported:</p>

<ul>
<li><p>sys.diagnostics.allow_i_s_tables
Specifies whether it is allowed to do table scan queries on information_schema.TABLES. This can be expensive if there
are many tables. Set to 'ON' to allow, 'OFF' to not allow.
Default is 'OFF'.</p></li>
<li><p>sys.diagnostics.include_raw
Set to 'ON' to include the raw data (e.g. the original output of "SELECT * FROM sys.metrics").
Use this to get the initial values of the various views.
Default is 'OFF'.</p></li>
<li><p>sys.statement_truncate_len
How much of queries in the process list output to include.
Default is 64.</p></li>
<li><p>sys.debug
Whether to provide debugging output.
Default is 'OFF'. Set to 'ON' to include.</p></li>
</ul>

<h5>
<a id="parameters-19" class="anchor" href="#parameters-19" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_max_runtime (INT UNSIGNED):
The maximum time to keep collecting data.
Use NULL to get the default which is 60 seconds, otherwise enter a value greater than 0.</li>
<li>in_interval (INT UNSIGNED):
How long to sleep between data collections.
Use NULL to get the default which is 30 seconds, otherwise enter a value greater than 0.</li>
<li>in_auto_config (ENUM('current', 'medium', 'full'))
Automatically enable Performance Schema instruments and consumers.
NOTE: The more that are enabled, the more impact on the performance.
If another setting the 'current' is chosen, the current settings
are restored at the end of the procedure.
Supported values are:
** current - use the current settings.
** medium - enable some settings. This requires the SUPER privilege.
** full - enables all settings. This will have a big impact on the
performance - be careful using this option. This requires the SUPER privilege.</li>
</ul>

<h5>
<a id="example-73" class="anchor" href="#example-73" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> TEE <span class="pl-c1">diag</span>.<span class="pl-c1">out</span>;
mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">diagnostics</span>(<span class="pl-c1">120</span>, <span class="pl-c1">30</span>, <span class="pl-s"><span class="pl-pds">'</span>current<span class="pl-pds">'</span></span>);
...
mysql<span class="pl-k">&gt;</span> NOTEE;</pre></div>

<h4>
<a id="ps_setup_disable_background_threads" class="anchor" href="#ps_setup_disable_background_threads" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_disable_background_threads</h4>

<h5>
<a id="description-75" class="anchor" href="#description-75" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Disable all background thread instrumentation within Performance Schema.</p>

<h5>
<a id="parameters-20" class="anchor" href="#parameters-20" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<p>None.</p>

<h5>
<a id="example-74" class="anchor" href="#example-74" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_disable_background_threads</span>();
<span class="pl-k">+</span><span class="pl-c">--------------------------------+</span>
| summary                        |
<span class="pl-k">+</span><span class="pl-c">--------------------------------+</span>
| Disabled <span class="pl-c1">18</span> background threads |
<span class="pl-k">+</span><span class="pl-c">--------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="ps_setup_disable_instrument" class="anchor" href="#ps_setup_disable_instrument" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_disable_instrument</h4>

<h5>
<a id="description-76" class="anchor" href="#description-76" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Disables instruments within Performance Schema  matching the input pattern.</p>

<h5>
<a id="parameters-21" class="anchor" href="#parameters-21" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_pattern (VARCHAR(128)): A LIKE pattern match (using "%in_pattern%") of events to disable</li>
</ul>

<h5>
<a id="example-75" class="anchor" href="#example-75" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<p>To disable all mutex instruments:</p>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_disable_instrument</span>(<span class="pl-s"><span class="pl-pds">'</span>wait/synch/mutex<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">--------------------------+</span>
| summary                  |
<span class="pl-k">+</span><span class="pl-c">--------------------------+</span>
| Disabled <span class="pl-c1">155</span> instruments |
<span class="pl-k">+</span><span class="pl-c">--------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">02</span> sec)</pre></div>

<p>To disable just a the scpecific TCP/IP based network IO instrument:</p>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_disable_instrument</span>(<span class="pl-s"><span class="pl-pds">'</span>wait/io/socket/sql/server_tcpip_socket<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">------------------------+</span>
| summary                |
<span class="pl-k">+</span><span class="pl-c">------------------------+</span>
| Disabled <span class="pl-c1">1</span> instruments |
<span class="pl-k">+</span><span class="pl-c">------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<p>To enable all instruments:</p>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_disable_instrument</span>(<span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">--------------------------+</span>
| summary                  |
<span class="pl-k">+</span><span class="pl-c">--------------------------+</span>
| Disabled <span class="pl-c1">547</span> instruments |
<span class="pl-k">+</span><span class="pl-c">--------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)</pre></div>

<h4>
<a id="ps_setup_disable_consumer" class="anchor" href="#ps_setup_disable_consumer" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_disable_consumer</h4>

<h5>
<a id="description-77" class="anchor" href="#description-77" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Disables consumers within Performance Schema matching the input pattern.</p>

<h5>
<a id="parameters-22" class="anchor" href="#parameters-22" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>consumer (VARCHAR(128)): A LIKE pattern match (using "%consumer%") of consumers to disable</li>
</ul>

<h5>
<a id="example-76" class="anchor" href="#example-76" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<p>To disable all consumers:</p>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_disable_consumer</span>(<span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">--------------------------+</span>
| summary                  |
<span class="pl-k">+</span><span class="pl-c">--------------------------+</span>
| Disabled <span class="pl-c1">15</span> consumers    |
<span class="pl-k">+</span><span class="pl-c">--------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">02</span> sec)</pre></div>

<p>To disable just the event_stage consumers:</p>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_disable_consumer</span>(<span class="pl-s"><span class="pl-pds">'</span>stage<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">------------------------+</span>
| summary                |
<span class="pl-k">+</span><span class="pl-c">------------------------+</span>
| Disabled <span class="pl-c1">3</span> consumers   |
<span class="pl-k">+</span><span class="pl-c">------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="ps_setup_disable_thread" class="anchor" href="#ps_setup_disable_thread" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_disable_thread</h4>

<h5>
<a id="description-78" class="anchor" href="#description-78" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Disable the given connection/thread in Performance Schema.</p>

<h5>
<a id="parameters-23" class="anchor" href="#parameters-23" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_connection_id (BIGINT): The connection ID (PROCESSLIST_ID from performance_schema.threads or the ID shown within SHOW PROCESSLIST)</li>
</ul>

<h5>
<a id="example-77" class="anchor" href="#example-77" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_disable_thread</span>(<span class="pl-c1">3</span>);
<span class="pl-k">+</span><span class="pl-c">-------------------+</span>
| summary           |
<span class="pl-k">+</span><span class="pl-c">-------------------+</span>
| Disabled <span class="pl-c1">1</span> thread |
<span class="pl-k">+</span><span class="pl-c">-------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)</pre></div>

<p>To disable the current connection:</p>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_disable_thread</span>(CONNECTION_ID());
<span class="pl-k">+</span><span class="pl-c">-------------------+</span>
| summary           |
<span class="pl-k">+</span><span class="pl-c">-------------------+</span>
| Disabled <span class="pl-c1">1</span> thread |
<span class="pl-k">+</span><span class="pl-c">-------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="ps_setup_enable_background_threads" class="anchor" href="#ps_setup_enable_background_threads" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_enable_background_threads</h4>

<h5>
<a id="description-79" class="anchor" href="#description-79" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Enable all background thread instrumentation within Performance Schema.</p>

<h5>
<a id="parameters-24" class="anchor" href="#parameters-24" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<p>None.</p>

<h5>
<a id="example-78" class="anchor" href="#example-78" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_enable_background_threads</span>();
<span class="pl-k">+</span><span class="pl-c">-------------------------------+</span>
| summary                       |
<span class="pl-k">+</span><span class="pl-c">-------------------------------+</span>
| Enabled <span class="pl-c1">18</span> background threads |
<span class="pl-k">+</span><span class="pl-c">-------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="ps_setup_enable_consumer" class="anchor" href="#ps_setup_enable_consumer" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_enable_consumer</h4>

<h5>
<a id="description-80" class="anchor" href="#description-80" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Enables consumers within Performance Schema matching the input pattern.</p>

<h5>
<a id="parameters-25" class="anchor" href="#parameters-25" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>consumer (VARCHAR(128)): A LIKE pattern match (using "%consumer%") of consumers to enable</li>
</ul>

<h5>
<a id="example-79" class="anchor" href="#example-79" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<p>To enable all consumers:</p>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_enable_consumer</span>(<span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">-------------------------+</span>
| summary                 |
<span class="pl-k">+</span><span class="pl-c">-------------------------+</span>
| Enabled <span class="pl-c1">10</span> consumers    |
<span class="pl-k">+</span><span class="pl-c">-------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">02</span> sec)</pre></div>

<p>To enable just "waits" consumers:</p>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_enable_consumer</span>(<span class="pl-s"><span class="pl-pds">'</span>waits<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">-----------------------+</span>
| summary               |
<span class="pl-k">+</span><span class="pl-c">-----------------------+</span>
| Enabled <span class="pl-c1">3</span> consumers   |
<span class="pl-k">+</span><span class="pl-c">-----------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="ps_setup_enable_instrument" class="anchor" href="#ps_setup_enable_instrument" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_enable_instrument</h4>

<h5>
<a id="description-81" class="anchor" href="#description-81" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Enables instruments within Performance Schema matching the input pattern.</p>

<h5>
<a id="parameters-26" class="anchor" href="#parameters-26" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_pattern (VARCHAR(128)): A LIKE pattern match (using "%in_pattern%") of events to enable</li>
</ul>

<h5>
<a id="example-80" class="anchor" href="#example-80" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<p>To enable all mutex instruments:</p>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_enable_instrument</span>(<span class="pl-s"><span class="pl-pds">'</span>wait/synch/mutex<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">-------------------------+</span>
| summary                 |
<span class="pl-k">+</span><span class="pl-c">-------------------------+</span>
| Enabled <span class="pl-c1">155</span> instruments |
<span class="pl-k">+</span><span class="pl-c">-------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">02</span> sec)</pre></div>

<p>To enable just a the scpecific TCP/IP based network IO instrument:</p>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_enable_instrument</span>(<span class="pl-s"><span class="pl-pds">'</span>wait/io/socket/sql/server_tcpip_socket<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">-----------------------+</span>
| summary               |
<span class="pl-k">+</span><span class="pl-c">-----------------------+</span>
| Enabled <span class="pl-c1">1</span> instruments |
<span class="pl-k">+</span><span class="pl-c">-----------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<p>To enable all instruments:</p>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_enable_instrument</span>(<span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">-------------------------+</span>
| summary                 |
<span class="pl-k">+</span><span class="pl-c">-------------------------+</span>
| Enabled <span class="pl-c1">547</span> instruments |
<span class="pl-k">+</span><span class="pl-c">-------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)</pre></div>

<h4>
<a id="ps_setup_enable_thread" class="anchor" href="#ps_setup_enable_thread" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_enable_thread</h4>

<h5>
<a id="description-82" class="anchor" href="#description-82" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Enable the given connection/thread in Performance Schema.</p>

<h5>
<a id="parameters-27" class="anchor" href="#parameters-27" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_connection_id (BIGINT): The connection ID (PROCESSLIST_ID from performance_schema.threads or the ID shown within SHOW PROCESSLIST)</li>
</ul>

<h5>
<a id="example-81" class="anchor" href="#example-81" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_enable_thread</span>(<span class="pl-c1">3</span>);
<span class="pl-k">+</span><span class="pl-c">------------------+</span>
| summary          |
<span class="pl-k">+</span><span class="pl-c">------------------+</span>
| Enabled <span class="pl-c1">1</span> thread |
<span class="pl-k">+</span><span class="pl-c">------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)</pre></div>

<p>To enable the current connection:</p>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_enable_thread</span>(CONNECTION_ID());
<span class="pl-k">+</span><span class="pl-c">------------------+</span>
| summary          |
<span class="pl-k">+</span><span class="pl-c">------------------+</span>
| Enabled <span class="pl-c1">1</span> thread |
<span class="pl-k">+</span><span class="pl-c">------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="ps_setup_reload_saved" class="anchor" href="#ps_setup_reload_saved" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_reload_saved</h4>

<h5>
<a id="description-83" class="anchor" href="#description-83" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Reloads a saved Performance Schema configuration, so that you can alter the setup for debugging purposes, but restore it to a previous state.</p>

<p>Use the companion procedure - ps_setup_save(), to save a configuration.</p>

<p>Requires the SUPER privilege for "SET sql_log_bin = 0;".</p>

<h5>
<a id="parameters-28" class="anchor" href="#parameters-28" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<p>None.</p>

<h5>
<a id="example-82" class="anchor" href="#example-82" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_save</span>();
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">08</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">UPDATE</span> <span class="pl-c1">performance_schema</span>.<span class="pl-c1">setup_instruments</span> <span class="pl-k">SET</span> enabled <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>YES<span class="pl-pds">'</span></span>, timed <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>YES<span class="pl-pds">'</span></span>;
Query OK, <span class="pl-c1">547</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">40</span> sec)
Rows matched: <span class="pl-c1">784</span>  Changed: <span class="pl-c1">547</span>  Warnings: <span class="pl-c1">0</span>

<span class="pl-c">/* Run some tests that need more detailed instrumentation here */</span>

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_reload_saved</span>();
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">32</span> sec)</pre></div>

<h4>
<a id="ps_setup_reset_to_default" class="anchor" href="#ps_setup_reset_to_default" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_reset_to_default</h4>

<h5>
<a id="description-84" class="anchor" href="#description-84" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Resets the Performance Schema setup to the default settings.</p>

<h5>
<a id="parameters-29" class="anchor" href="#parameters-29" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_verbose (BOOLEAN): Whether to print each setup stage (including the SQL) whilst running.</li>
</ul>

<h5>
<a id="example-83" class="anchor" href="#example-83" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_reset_to_default</span>(true)\G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
status: Resetting: setup_actors
<span class="pl-k">DELETE</span>
<span class="pl-k">FROM</span> <span class="pl-c1">performance_schema</span>.<span class="pl-c1">setup_actors</span>
<span class="pl-k">WHERE</span> NOT (HOST <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>%<span class="pl-pds">'</span></span> <span class="pl-k">AND</span> USER <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>%<span class="pl-pds">'</span></span> <span class="pl-k">AND</span> ROLE <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>%<span class="pl-pds">'</span></span>)
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
status: Resetting: setup_actors
<span class="pl-k">INSERT IGNORE INTO</span> <span class="pl-c1">performance_schema</span>.<span class="pl-c1">setup_actors</span>
<span class="pl-k">VALUES</span> (<span class="pl-s"><span class="pl-pds">'</span>%<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>%<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>%<span class="pl-pds">'</span></span>)
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)
...

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_reset_to_default</span>(false)G
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

<h4>
<a id="ps_setup_save" class="anchor" href="#ps_setup_save" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_save</h4>

<h5>
<a id="description-85" class="anchor" href="#description-85" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Saves the current configuration of Performance Schema, so that you can alter the setup for debugging purposes, but restore it to a previous state.</p>

<p>Use the companion procedure - ps_setup_reload_saved(), to restore the saved config.</p>

<p>Requires the SUPER privilege for "SET sql_log_bin = 0;".</p>

<h5>
<a id="parameters-30" class="anchor" href="#parameters-30" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<p>None.</p>

<h5>
<a id="example-84" class="anchor" href="#example-84" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_save</span>();
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">08</span> sec)

mysql<span class="pl-k">&gt;</span> <span class="pl-k">UPDATE</span> <span class="pl-c1">performance_schema</span>.<span class="pl-c1">setup_instruments</span> 
    <span class="pl-k">-</span><span class="pl-k">&gt;</span>    <span class="pl-k">SET</span> enabled <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>YES<span class="pl-pds">'</span></span>, timed <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>YES<span class="pl-pds">'</span></span>;
Query OK, <span class="pl-c1">547</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">40</span> sec)
Rows matched: <span class="pl-c1">784</span>  Changed: <span class="pl-c1">547</span>  Warnings: <span class="pl-c1">0</span>

<span class="pl-c">/* Run some tests that need more detailed instrumentation here */</span>

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_reload_saved</span>();
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">32</span> sec)</pre></div>

<h4>
<a id="ps_setup_show_disabled" class="anchor" href="#ps_setup_show_disabled" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_show_disabled</h4>

<h5>
<a id="description-86" class="anchor" href="#description-86" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows all currently disable Performance Schema configuration.</p>

<h5>
<a id="parameters-31" class="anchor" href="#parameters-31" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_in_show_instruments (BOOLEAN): Whether to print disabled instruments (can print many items)</li>
<li>in_in_show_threads (BOOLEAN): Whether to print disabled threads</li>
</ul>

<h5>
<a id="example-85" class="anchor" href="#example-85" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_show_disabled</span>(TRUE, TRUE);
<span class="pl-k">+</span><span class="pl-c">----------------------------+</span>
| performance_schema_enabled |
<span class="pl-k">+</span><span class="pl-c">----------------------------+</span>
|                          <span class="pl-c1">1</span> |
<span class="pl-k">+</span><span class="pl-c">----------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

<span class="pl-k">+</span><span class="pl-c">--------------------+</span>
| enabled_users      |
<span class="pl-k">+</span><span class="pl-c">--------------------+</span>
| <span class="pl-s"><span class="pl-pds">'</span>mark<span class="pl-pds">'</span></span>@<span class="pl-s"><span class="pl-pds">'</span>localhost<span class="pl-pds">'</span></span> |
<span class="pl-k">+</span><span class="pl-c">--------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

<span class="pl-k">+</span><span class="pl-c">-------------+----------------------+---------+-------+</span>
| object_type | objects              | enabled | timed |
<span class="pl-k">+</span><span class="pl-c">-------------+----------------------+---------+-------+</span>
| EVENT       | mysql.%              | NO      | NO    |
| EVENT       | performance_schema.% | NO      | NO    |
| EVENT       | information_schema.% | NO      | NO    |
| FUNCTION    | mysql.%              | NO      | NO    |
| FUNCTION    | performance_schema.% | NO      | NO    |
| FUNCTION    | information_schema.% | NO      | NO    |
| PROCEDURE   | mysql.%              | NO      | NO    |
| PROCEDURE   | performance_schema.% | NO      | NO    |
| PROCEDURE   | information_schema.% | NO      | NO    |
| TABLE       | mysql.%              | NO      | NO    |
| TABLE       | performance_schema.% | NO      | NO    |
| TABLE       | information_schema.% | NO      | NO    |
| TRIGGER     | mysql.%              | NO      | NO    |
| TRIGGER     | performance_schema.% | NO      | NO    |
| TRIGGER     | information_schema.% | NO      | NO    |
<span class="pl-k">+</span><span class="pl-c">-------------+----------------------+---------+-------+</span>
<span class="pl-c1">15</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

<span class="pl-k">+</span><span class="pl-c">----------------------------------+</span>
| disabled_consumers               |
<span class="pl-k">+</span><span class="pl-c">----------------------------------+</span>
| events_stages_current            |
| events_stages_history            |
| events_stages_history_long       |
| events_statements_history        |
| events_statements_history_long   |
| events_transactions_history      |
| events_transactions_history_long |
| events_waits_current             |
| events_waits_history             |
| events_waits_history_long        |
<span class="pl-k">+</span><span class="pl-c">----------------------------------+</span>
<span class="pl-c1">10</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

Empty <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

<span class="pl-k">+</span><span class="pl-c">---------------------------------------------------------------------------------------+-------+</span>
| disabled_instruments                                                                  | timed |
<span class="pl-k">+</span><span class="pl-c">---------------------------------------------------------------------------------------+-------+</span>
| wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>mutex<span class="pl-k">/</span>sql<span class="pl-k">/</span>TC_LOG_MMAP::LOCK_tc                                             | NO    |
| wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>mutex<span class="pl-k">/</span>sql<span class="pl-k">/</span>LOCK_des_key_file                                                | NO    |
| wait<span class="pl-k">/</span>synch<span class="pl-k">/</span>mutex<span class="pl-k">/</span>sql<span class="pl-k">/</span>MYSQL_BIN_LOG::LOCK_commit                                       | NO    |
...
| memory<span class="pl-k">/</span>sql<span class="pl-k">/</span>servers_cache                                                              | NO    |
| memory<span class="pl-k">/</span>sql<span class="pl-k">/</span>udf_mem                                                                    | NO    |
| wait<span class="pl-k">/</span>lock<span class="pl-k">/</span>metadata<span class="pl-k">/</span>sql<span class="pl-k">/</span>mdl                                                            | NO    |
<span class="pl-k">+</span><span class="pl-c">---------------------------------------------------------------------------------------+-------+</span>
<span class="pl-c1">547</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)</pre></div>

<h4>
<a id="ps_setup_show_disabled_consumers" class="anchor" href="#ps_setup_show_disabled_consumers" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_show_disabled_consumers</h4>

<h5>
<a id="description-87" class="anchor" href="#description-87" aria-hidden="true"><span class="octicon octicon-link"></span></a> Description</h5>

<p>Shows all currently disabled consumers.</p>

<h5>
<a id="parameters-32" class="anchor" href="#parameters-32" aria-hidden="true"><span class="octicon octicon-link"></span></a> Parameters</h5>

<p>None</p>

<h5>
<a id="example-86" class="anchor" href="#example-86" aria-hidden="true"><span class="octicon octicon-link"></span></a> Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_show_disabled_consumers</span>();

<span class="pl-k">+</span><span class="pl-c">---------------------------+</span>
| disabled_consumers        |
<span class="pl-k">+</span><span class="pl-c">---------------------------+</span>
| events_statements_current |
| global_instrumentation    |
| thread_instrumentation    |
| statements_digest         |
<span class="pl-k">+</span><span class="pl-c">---------------------------+</span>
<span class="pl-c1">4</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">05</span> sec)</pre></div>

<h4>
<a id="ps_setup_show_disabled_instruments" class="anchor" href="#ps_setup_show_disabled_instruments" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_show_disabled_instruments</h4>

<h5>
<a id="description-88" class="anchor" href="#description-88" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows all currently disabled instruments.</p>

<h5>
<a id="parameters-33" class="anchor" href="#parameters-33" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<p>None</p>

<h5>
<a id="example-87" class="anchor" href="#example-87" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_show_disabled_instruments</span>();</pre></div>

<h4>
<a id="ps_setup_show_enabled" class="anchor" href="#ps_setup_show_enabled" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_show_enabled</h4>

<h5>
<a id="description-89" class="anchor" href="#description-89" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows all currently enabled Performance Schema configuration.</p>

<h5>
<a id="parameters-34" class="anchor" href="#parameters-34" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_show_instruments (BOOLEAN): Whether to print enabled instruments (can print many items)</li>
<li>in_show_threads (BOOLEAN): Whether to print enabled threads</li>
</ul>

<h5>
<a id="example-88" class="anchor" href="#example-88" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_show_enabled</span>(TRUE, TRUE);
<span class="pl-k">+</span><span class="pl-c">----------------------------+</span>
| performance_schema_enabled |
<span class="pl-k">+</span><span class="pl-c">----------------------------+</span>
|                          <span class="pl-c1">1</span> |
<span class="pl-k">+</span><span class="pl-c">----------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

<span class="pl-k">+</span><span class="pl-c">---------------+</span>
| enabled_users |
<span class="pl-k">+</span><span class="pl-c">---------------+</span>
| <span class="pl-s"><span class="pl-pds">'</span>%<span class="pl-pds">'</span></span>@<span class="pl-s"><span class="pl-pds">'</span>%<span class="pl-pds">'</span></span>       |
<span class="pl-k">+</span><span class="pl-c">---------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)

<span class="pl-k">+</span><span class="pl-c">----------------------+---------+-------+</span>
| objects              | enabled | timed |
<span class="pl-k">+</span><span class="pl-c">----------------------+---------+-------+</span>
| mysql.%              | NO      | NO    |
| performance_schema.% | NO      | NO    |
| information_schema.% | NO      | NO    |
| %.%                  | YES     | YES   |
<span class="pl-k">+</span><span class="pl-c">----------------------+---------+-------+</span>
<span class="pl-c1">4</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)

<span class="pl-k">+</span><span class="pl-c">---------------------------+</span>
| enabled_consumers         |
<span class="pl-k">+</span><span class="pl-c">---------------------------+</span>
| events_statements_current |
| global_instrumentation    |
| thread_instrumentation    |
| statements_digest         |
<span class="pl-k">+</span><span class="pl-c">---------------------------+</span>
<span class="pl-c1">4</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">05</span> sec)

<span class="pl-k">+</span><span class="pl-c">--------------------------+-------------+</span>
| enabled_threads          | thread_type |
<span class="pl-k">+</span><span class="pl-c">--------------------------+-------------+</span>
| innodb<span class="pl-k">/</span>srv_master_thread | BACKGROUND  |
| root@localhost           | FOREGROUND  |
| root@localhost           | FOREGROUND  |
| root@localhost           | FOREGROUND  |
| root@localhost           | FOREGROUND  |
<span class="pl-k">+</span><span class="pl-c">--------------------------+-------------+</span>
<span class="pl-c1">5</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">03</span> sec)

<span class="pl-k">+</span><span class="pl-c">-------------------------------------+-------+</span>
| enabled_instruments                 | timed |
<span class="pl-k">+</span><span class="pl-c">-------------------------------------+-------+</span>
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>map                | YES   |
| wait<span class="pl-k">/</span>io<span class="pl-k">/</span>file<span class="pl-k">/</span>sql<span class="pl-k">/</span>binlog             | YES   |
...
| statement<span class="pl-k">/</span>com<span class="pl-k">/</span>Error                 | YES   |
| statement<span class="pl-k">/</span>com<span class="pl-k">/</span>                      | YES   |
| idle                                | YES   |
<span class="pl-k">+</span><span class="pl-c">-------------------------------------+-------+</span>
<span class="pl-c1">210</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">08</span> sec)

Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">89</span> sec)</pre></div>

<h4>
<a id="ps_setup_show_enabled_consumers" class="anchor" href="#ps_setup_show_enabled_consumers" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_show_enabled_consumers</h4>

<h5>
<a id="description-90" class="anchor" href="#description-90" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows all currently enabled consumers.</p>

<h5>
<a id="parameters-35" class="anchor" href="#parameters-35" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<p>None</p>

<h5>
<a id="example-89" class="anchor" href="#example-89" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_show_enabled_consumers</span>();

<span class="pl-k">+</span><span class="pl-c">---------------------------+</span>
| enabled_consumers         |
<span class="pl-k">+</span><span class="pl-c">---------------------------+</span>
| events_statements_current |
| global_instrumentation    |
| thread_instrumentation    |
| statements_digest         |
<span class="pl-k">+</span><span class="pl-c">---------------------------+</span>
<span class="pl-c1">4</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">05</span> sec)</pre></div>

<h4>
<a id="ps_setup_show_enabled_instruments" class="anchor" href="#ps_setup_show_enabled_instruments" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_setup_show_enabled_instruments</h4>

<h5>
<a id="description-91" class="anchor" href="#description-91" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Shows all currently enabled instruments.</p>

<h5>
<a id="parameters-36" class="anchor" href="#parameters-36" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<p>None</p>

<h5>
<a id="example-90" class="anchor" href="#example-90" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_setup_show_enabled_instruments</span>();</pre></div>

<h4>
<a id="ps_statement_avg_latency_histogram" class="anchor" href="#ps_statement_avg_latency_histogram" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_statement_avg_latency_histogram</h4>

<h5>
<a id="description-92" class="anchor" href="#description-92" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Outputs a textual histogram graph of the average latency values across all normalized queries tracked within the Performance Schema events_statements_summary_by_digest table.</p>

<p>Can be used to show a very high level picture of what kind of latency distribution statements running within this instance have.</p>

<h5>
<a id="parameters-37" class="anchor" href="#parameters-37" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<p>None.</p>

<h5>
<a id="example-91" class="anchor" href="#example-91" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_statement_avg_latency_histogram</span>()G
<span class="pl-k">***************************</span> <span class="pl-c1">1</span>. row <span class="pl-k">***************************</span>
Performance Schema Statement Digest Average Latency Histogram:

  . <span class="pl-k">=</span> <span class="pl-c1">1</span> unit
  <span class="pl-k">*</span> <span class="pl-k">=</span> <span class="pl-c1">2</span> units
  <span class="pl-c"># = 3 units</span>

(<span class="pl-c1">0</span> <span class="pl-k">-</span> 38ms)     <span class="pl-c1">240</span> | <span class="pl-c">################################################################################</span>
(<span class="pl-c1">38</span> <span class="pl-k">-</span> 77ms)    <span class="pl-c1">38</span>  | ......................................
(<span class="pl-c1">77</span> <span class="pl-k">-</span> 115ms)   <span class="pl-c1">3</span>   | ...
(<span class="pl-c1">115</span> <span class="pl-k">-</span> 154ms)  <span class="pl-c1">62</span>  | <span class="pl-k">*******************************</span>
(<span class="pl-c1">154</span> <span class="pl-k">-</span> 192ms)  <span class="pl-c1">3</span>   | ...
(<span class="pl-c1">192</span> <span class="pl-k">-</span> 231ms)  <span class="pl-c1">0</span>   |
(<span class="pl-c1">231</span> <span class="pl-k">-</span> 269ms)  <span class="pl-c1">0</span>   |
(<span class="pl-c1">269</span> <span class="pl-k">-</span> 307ms)  <span class="pl-c1">0</span>   |
(<span class="pl-c1">307</span> <span class="pl-k">-</span> 346ms)  <span class="pl-c1">0</span>   |
(<span class="pl-c1">346</span> <span class="pl-k">-</span> 384ms)  <span class="pl-c1">1</span>   | .
(<span class="pl-c1">384</span> <span class="pl-k">-</span> 423ms)  <span class="pl-c1">1</span>   | .
(<span class="pl-c1">423</span> <span class="pl-k">-</span> 461ms)  <span class="pl-c1">0</span>   |
(<span class="pl-c1">461</span> <span class="pl-k">-</span> 499ms)  <span class="pl-c1">0</span>   |
(<span class="pl-c1">499</span> <span class="pl-k">-</span> 538ms)  <span class="pl-c1">0</span>   |
(<span class="pl-c1">538</span> <span class="pl-k">-</span> 576ms)  <span class="pl-c1">0</span>   |
(<span class="pl-c1">576</span> <span class="pl-k">-</span> 615ms)  <span class="pl-c1">1</span>   | .

  Total Statements: <span class="pl-c1">350</span>; Buckets: <span class="pl-c1">16</span>; Bucket Size: <span class="pl-c1">38</span> ms;</pre></div>

<h4>
<a id="ps_trace_statement_digest" class="anchor" href="#ps_trace_statement_digest" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_trace_statement_digest</h4>

<h5>
<a id="description-93" class="anchor" href="#description-93" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Traces all instrumentation within Performance Schema for a specific Statement Digest. </p>

<p>When finding a statement of interest within the performance_schema.events_statements_summary_by_digest table, feed the DIGEST MD5 value in to this procedure, set how long to poll for, and at what interval to poll, and it will generate a report of all statistics tracked within Performance Schema for that digest for the interval.</p>

<p>It will also attempt to generate an EXPLAIN for the longest running example of the digest during the interval.</p>

<p>Note this may fail, as Performance Schema truncates long SQL_TEXT values (and hence the EXPLAIN will fail due to parse errors).</p>

<p>Requires the SUPER privilege for "SET sql_log_bin = 0;".</p>

<h5>
<a id="parameters-38" class="anchor" href="#parameters-38" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_digest VARCHAR(32): The statement digest identifier you would like to analyze</li>
<li>in_runtime (INT): The number of seconds to run analysis for (defaults to a minute)</li>
<li>in_interval (DECIMAL(2,2)): The interval (in seconds, may be fractional) at which to try and take snapshots (defaults to a second)</li>
<li>in_start_fresh (BOOLEAN): Whether to TRUNCATE the events_statements_history_long and events_stages_history_long tables before starting (default false)</li>
<li>in_auto_enable (BOOLEAN): Whether to automatically turn on required consumers (default false)</li>
</ul>

<h5>
<a id="example-92" class="anchor" href="#example-92" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> call ps_analyze_statement_digest(<span class="pl-s"><span class="pl-pds">'</span>891ec6860f98ba46d89dd20b0c03652c<span class="pl-pds">'</span></span>, <span class="pl-c1">10</span>, <span class="pl-c1">0</span>.<span class="pl-c1">1</span>, true, true);
<span class="pl-k">+</span><span class="pl-c">--------------------+</span>
| SUMMARY STATISTICS |
<span class="pl-k">+</span><span class="pl-c">--------------------+</span>
| SUMMARY STATISTICS |
<span class="pl-k">+</span><span class="pl-c">--------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">9</span>.<span class="pl-c1">11</span> sec)

<span class="pl-k">+</span><span class="pl-c">------------+-----------+-----------+-----------+---------------+------------+------------+</span>
| executions | exec_time | lock_time | rows_sent | rows_examined | tmp_tables | full_scans |
<span class="pl-k">+</span><span class="pl-c">------------+-----------+-----------+-----------+---------------+------------+------------+</span>
|         <span class="pl-c1">21</span> | <span class="pl-c1">4</span>.<span class="pl-c1">11</span> ms   | <span class="pl-c1">2</span>.<span class="pl-c1">00</span> ms   |         <span class="pl-c1">0</span> |            <span class="pl-c1">21</span> |          <span class="pl-c1">0</span> |          <span class="pl-c1">0</span> |
<span class="pl-k">+</span><span class="pl-c">------------+-----------+-----------+-----------+---------------+------------+------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">9</span>.<span class="pl-c1">11</span> sec)

<span class="pl-k">+</span><span class="pl-c">------------------------------------------+-------+-----------+</span>
| event_name                               | count | latency   |
<span class="pl-k">+</span><span class="pl-c">------------------------------------------+-------+-----------+</span>
| stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>checking query cache for query |    <span class="pl-c1">16</span> | <span class="pl-c1">724</span>.<span class="pl-c1">37</span> us |
| stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>statistics                     |    <span class="pl-c1">16</span> | <span class="pl-c1">546</span>.<span class="pl-c1">92</span> us |
| stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>freeing items                  |    <span class="pl-c1">18</span> | <span class="pl-c1">520</span>.<span class="pl-c1">11</span> us |
| stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>init                           |    <span class="pl-c1">51</span> | <span class="pl-c1">466</span>.<span class="pl-c1">80</span> us |
...
| stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>cleaning up                    |    <span class="pl-c1">18</span> | <span class="pl-c1">11</span>.<span class="pl-c1">92</span> us  |
| stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>executing                      |    <span class="pl-c1">16</span> | <span class="pl-c1">6</span>.<span class="pl-c1">95</span> us   |
<span class="pl-k">+</span><span class="pl-c">------------------------------------------+-------+-----------+</span>
<span class="pl-c1">17</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">9</span>.<span class="pl-c1">12</span> sec)

<span class="pl-k">+</span><span class="pl-c">---------------------------+</span>
| LONGEST RUNNING STATEMENT |
<span class="pl-k">+</span><span class="pl-c">---------------------------+</span>
| LONGEST RUNNING STATEMENT |
<span class="pl-k">+</span><span class="pl-c">---------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">9</span>.<span class="pl-c1">16</span> sec)

<span class="pl-k">+</span><span class="pl-c">-----------+-----------+-----------+-----------+---------------+------------+-----------+</span>
| thread_id | exec_time | lock_time | rows_sent | rows_examined | tmp_tables | full_scan |
<span class="pl-k">+</span><span class="pl-c">-----------+-----------+-----------+-----------+---------------+------------+-----------+</span>
|    <span class="pl-c1">166646</span> | <span class="pl-c1">618</span>.<span class="pl-c1">43</span> us | <span class="pl-c1">1</span>.<span class="pl-c1">00</span> ms   |         <span class="pl-c1">0</span> |             <span class="pl-c1">1</span> |          <span class="pl-c1">0</span> |         <span class="pl-c1">0</span> |
<span class="pl-k">+</span><span class="pl-c">-----------+-----------+-----------+-----------+---------------+------------+-----------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">9</span>.<span class="pl-c1">16</span> sec)

<span class="pl-k">//</span> Truncated for clarity...
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------------+</span>
| sql_text                                                        |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------------+</span>
| <span class="pl-k">select</span> <span class="pl-c1">hibeventhe0_</span>.<span class="pl-c1">id</span> <span class="pl-k">as</span> id1382_, <span class="pl-c1">hibeventhe0_</span>.<span class="pl-c1">createdTime</span> ... |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">9</span>.<span class="pl-c1">17</span> sec)

<span class="pl-k">+</span><span class="pl-c">------------------------------------------+-----------+</span>
| event_name                               | latency   |
<span class="pl-k">+</span><span class="pl-c">------------------------------------------+-----------+</span>
| stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>init                           | <span class="pl-c1">8</span>.<span class="pl-c1">61</span> us   |
| stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>Waiting for query cache lock   | <span class="pl-c1">453</span>.<span class="pl-c1">23</span> us |
| stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>init                           | <span class="pl-c1">331</span>.<span class="pl-c1">07</span> ns |
| stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>checking query cache for query | <span class="pl-c1">43</span>.<span class="pl-c1">04</span> us  |
...
| stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>freeing items                  | <span class="pl-c1">30</span>.<span class="pl-c1">46</span> us  |
| stage<span class="pl-k">/</span>sql<span class="pl-k">/</span>cleaning up                    | <span class="pl-c1">662</span>.<span class="pl-c1">13</span> ns |
<span class="pl-k">+</span><span class="pl-c">------------------------------------------+-----------+</span>
             <span class="pl-c1">18</span> rows <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">9</span>.<span class="pl-c1">23</span> sec)

<span class="pl-k">+</span><span class="pl-c">----+-------------+--------------+-------+---------------+-----------+---------+-------------+------+-------+</span>
| id | select_type | table        | type  | possible_keys | key       | key_len | ref         | rows | Extra |
<span class="pl-k">+</span><span class="pl-c">----+-------------+--------------+-------+---------------+-----------+---------+-------------+------+-------+</span>
|  <span class="pl-c1">1</span> | SIMPLE      | hibeventhe0_ | const | fixedTime     | fixedTime | <span class="pl-c1">775</span>     | const,const |    <span class="pl-c1">1</span> | <span class="pl-k">NULL</span>  |
<span class="pl-k">+</span><span class="pl-c">----+-------------+--------------+-------+---------------+-----------+---------+-------------+------+-------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">9</span>.<span class="pl-c1">27</span> sec)

Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">9</span>.<span class="pl-c1">28</span> sec)</pre></div>

<h4>
<a id="ps_trace_thread" class="anchor" href="#ps_trace_thread" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_trace_thread</h4>

<h5>
<a id="description-94" class="anchor" href="#description-94" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Dumps all data within Performance Schema for an instrumented thread, to create a DOT formatted graph file. </p>

<p>Each resultset returned from the procedure should be used for a complete graph</p>

<p>Requires the SUPER privilege for "SET sql_log_bin = 0;".</p>

<h5>
<a id="parameters-39" class="anchor" href="#parameters-39" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_thread_id (INT): The thread that you would like a stack trace for</li>
<li>in_outfile  (VARCHAR(255)): The filename the dot file will be written to</li>
<li>in_max_runtime (DECIMAL(20,2)): The maximum time to keep collecting data. Use NULL to get the default which is 60 seconds.</li>
<li>in_interval (DECIMAL(20,2)): How long to sleep between data collections. Use NULL to get the default which is 1 second.</li>
<li>in_start_fresh (BOOLEAN): Whether to reset all Performance Schema data before tracing.</li>
<li>in_auto_setup (BOOLEAN): Whether to disable all other threads and enable all consumers/instruments. This will also reset the settings at the end of the run.</li>
<li>in_debug (BOOLEAN): Whether you would like to include file:lineno in the graph</li>
</ul>

<h5>
<a id="example-93" class="anchor" href="#example-93" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_trace_thread</span>(<span class="pl-c1">25</span>, CONCAT(<span class="pl-s"><span class="pl-pds">'</span>/tmp/stack-<span class="pl-pds">'</span></span>, REPLACE(NOW(), <span class="pl-s"><span class="pl-pds">'</span> <span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>-<span class="pl-pds">'</span></span>), <span class="pl-s"><span class="pl-pds">'</span>.dot<span class="pl-pds">'</span></span>), <span class="pl-k">NULL</span>, <span class="pl-k">NULL</span>, TRUE, TRUE, TRUE);
<span class="pl-k">+</span><span class="pl-c">-------------------+</span>
| summary           |
<span class="pl-k">+</span><span class="pl-c">-------------------+</span>
| Disabled <span class="pl-c1">1</span> thread |
<span class="pl-k">+</span><span class="pl-c">-------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

<span class="pl-k">+</span><span class="pl-c">---------------------------------------------+</span>
| Info                                        |
<span class="pl-k">+</span><span class="pl-c">---------------------------------------------+</span>
| Data collection starting for THREAD_ID <span class="pl-k">=</span> <span class="pl-c1">25</span> |
<span class="pl-k">+</span><span class="pl-c">---------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">03</span> sec)

<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------+</span>
| Info                                                      |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------+</span>
| Stack trace written to <span class="pl-k">/</span>tmp<span class="pl-k">/</span>stack<span class="pl-k">-</span><span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">02</span><span class="pl-k">-</span><span class="pl-c1">16</span><span class="pl-k">-</span><span class="pl-c1">21</span>:<span class="pl-c1">18</span>:<span class="pl-c1">41</span>.dot |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">60</span>.<span class="pl-c1">07</span> sec)

<span class="pl-k">+</span><span class="pl-c">-------------------------------------------------------------------+</span>
| <span class="pl-c1">Convert</span> to PDF                                                    |
<span class="pl-k">+</span><span class="pl-c">-------------------------------------------------------------------+</span>
| dot <span class="pl-k">-</span>Tpdf <span class="pl-k">-</span>o <span class="pl-k">/</span>tmp<span class="pl-k">/</span><span class="pl-c1">stack_25</span>.<span class="pl-c1">pdf</span> <span class="pl-k">/</span>tmp<span class="pl-k">/</span>stack<span class="pl-k">-</span><span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">02</span><span class="pl-k">-</span><span class="pl-c1">16</span><span class="pl-k">-</span><span class="pl-c1">21</span>:<span class="pl-c1">18</span>:<span class="pl-c1">41</span>.dot |
<span class="pl-k">+</span><span class="pl-c">-------------------------------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">60</span>.<span class="pl-c1">07</span> sec)

<span class="pl-k">+</span><span class="pl-c">-------------------------------------------------------------------+</span>
| <span class="pl-c1">Convert</span> to PNG                                                    |
<span class="pl-k">+</span><span class="pl-c">-------------------------------------------------------------------+</span>
| dot <span class="pl-k">-</span>Tpng <span class="pl-k">-</span>o <span class="pl-k">/</span>tmp<span class="pl-k">/</span><span class="pl-c1">stack_25</span>.<span class="pl-c1">png</span> <span class="pl-k">/</span>tmp<span class="pl-k">/</span>stack<span class="pl-k">-</span><span class="pl-c1">2014</span><span class="pl-k">-</span><span class="pl-c1">02</span><span class="pl-k">-</span><span class="pl-c1">16</span><span class="pl-k">-</span><span class="pl-c1">21</span>:<span class="pl-c1">18</span>:<span class="pl-c1">41</span>.dot |
<span class="pl-k">+</span><span class="pl-c">-------------------------------------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">60</span>.<span class="pl-c1">07</span> sec)

<span class="pl-k">+</span><span class="pl-c">------------------+</span>
| summary          |
<span class="pl-k">+</span><span class="pl-c">------------------+</span>
| Enabled <span class="pl-c1">1</span> thread |
<span class="pl-k">+</span><span class="pl-c">------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">60</span>.<span class="pl-c1">32</span> sec)</pre></div>

<h4>
<a id="ps_truncate_all_tables" class="anchor" href="#ps_truncate_all_tables" aria-hidden="true"><span class="octicon octicon-link"></span></a>ps_truncate_all_tables</h4>

<h5>
<a id="description-95" class="anchor" href="#description-95" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Truncates all summary tables within Performance Schema, resetting all aggregated instrumentation as a snapshot.</p>

<h5>
<a id="parameters-40" class="anchor" href="#parameters-40" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>in_verbose (BOOLEAN): Whether to print each TRUNCATE statement before running</li>
</ul>

<h5>
<a id="example-94" class="anchor" href="#example-94" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">ps_truncate_all_tables</span>(false);
<span class="pl-k">+</span><span class="pl-c">---------------------+</span>
| summary             |
<span class="pl-k">+</span><span class="pl-c">---------------------+</span>
| Truncated <span class="pl-c1">44</span> tables |
<span class="pl-k">+</span><span class="pl-c">---------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">10</span> sec)</pre></div>

<h4>
<a id="statement_performance_analyzer" class="anchor" href="#statement_performance_analyzer" aria-hidden="true"><span class="octicon octicon-link"></span></a>statement_performance_analyzer</h4>

<h5>
<a id="description-96" class="anchor" href="#description-96" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Create a report of the statements running on the server.</p>

<p>The views are calculated based on the overall and/or delta activity.</p>

<p>Requires the SUPER privilege for "SET sql_log_bin = 0;".</p>

<p>The following configuration options are supported:</p>

<ul>
<li><p>sys.statement_performance_analyzer.limit
 The maximum number of rows to include for the views that does not have a built-in limit (e.g. the 95th percentile view).
 If not set the limit is 100.</p></li>
<li><p>sys.statement_performance_analyzer.view
 Used together with the 'custom' view. If the value contains a space, it is considered a query, otherwise it must be
 an existing view querying the performance_schema.events_statements_summary_by_digest table. There cannot be any limit
 clause including in the query or view definition if <a href="https://github.com/sys" class="user-mention">@sys</a>.statement_performance_analyzer.limit &gt; 0.
 If specifying a view, use the same format as for in_table.</p></li>
<li><p>sys.debug
 Whether to provide debugging output.
 Default is 'OFF'. Set to 'ON' to include.</p></li>
</ul>

<h5>
<a id="parameters-41" class="anchor" href="#parameters-41" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li>
<p>in_action (ENUM('snapshot', 'overall', 'delta', 'create_tmp', 'create_table', 'save', 'cleanup')):
The action to take. Supported actions are:</p>

<ul>
<li>snapshot      Store a snapshot. The default is to make a snapshot of the current content of
              performance_schema.events_statements_summary_by_digest, but by setting in_table
              this can be overwritten to copy the content of the specified table.
              The snapshot is stored in the sys.tmp_digests temporary table.</li>
<li>overall       Generate analyzis based on the content specified by in_table. For the overall analyzis,
              in_table can be NOW() to use a fresh snapshot. This will overwrite an existing snapshot.
              Use NULL for in_table to use the existing snapshot. If in_table IS NULL and no snapshot
              exists, a new will be created.
              See also in_views and <a href="https://github.com/sys" class="user-mention">@sys</a>.statement_performance_analyzer.limit.</li>
<li>delta         Generate a delta analysis. The delta will be calculated between the reference table in
              in_table and the snapshot. An existing snapshot must exist.
              The action uses the sys.tmp_digests_delta temporary table.
              See also in_views and <a href="https://github.com/sys" class="user-mention">@sys</a>.statement_performance_analyzer.limit.</li>
<li>create_table  Create a regular table suitable for storing the snapshot for later use, e.g. for
              calculating deltas.</li>
<li>create_tmp    Create a temporary table suitable for storing the snapshot for later use, e.g. for
              calculating deltas.</li>
<li>save          Save the snapshot in the table specified by in_table. The table must exists and have
              the correct structure.
              If no snapshot exists, a new is created.</li>
<li>cleanup       Remove the temporary tables used for the snapshot and delta.</li>
</ul>
</li>
<li>
<p>in_table (VARCHAR(129)):
The table argument used for some actions. Use the format 'db1.t1' or 't1' without using any backticks (`)
for quoting. Periods (.) are not supported in the database and table names.</p>

<p>The meaning of the table for each action supporting the argument is:</p>

<ul>
<li>snapshot      The snapshot is created based on the specified table. Set to NULL or NOW() to use
              the current content of performance_schema.events_statements_summary_by_digest.</li>
<li>overall       The table with the content to create the overall analyzis for. The following values
              can be used:
                - A table name - use the content of that table.
                - NOW()        - create a fresh snapshot and overwrite the existing snapshot.
                - NULL         - use the last stored snapshot.</li>
<li>delta         The table name is mandatory and specified the reference view to compare the currently
              stored snapshot against. If no snapshot exists, a new will be created.</li>
<li>create_table  The name of the regular table to create.</li>
<li>create_tmp    The name of the temporary table to create.</li>
<li>save          The name of the table to save the currently stored snapshot into.</li>
</ul>
</li>
<li>
<p>in_views (SET ('with_runtimes_in_95th_percentile', 'analysis', 'with_errors_or_warnings',
             'with_full_table_scans', 'with_sorting', 'with_temp_tables', 'custom'))
Which views to include:</p>

<ul>
<li>with_runtimes_in_95th_percentile  Based on the sys.statements_with_runtimes_in_95th_percentile view</li>
<li>analysis                          Based on the sys.statement_analysis view</li>
<li>with_errors_or_warnings           Based on the sys.statements_with_errors_or_warnings view</li>
<li>with_full_table_scans             Based on the sys.statements_with_full_table_scans view</li>
<li>with_sorting                      Based on the sys.statements_with_sorting view</li>
<li>with_temp_tables                  Based on the sys.statements_with_temp_tables view</li>
<li>custom                            Use a custom view. This view must be specified in <a href="https://github.com/sys" class="user-mention">@sys</a>.statement_performance_analyzer.view to an existing view or a query</li>
</ul>

<p>Default is to include all except 'custom'.</p>
</li>
</ul>

<h5>
<a id="example-95" class="anchor" href="#example-95" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre><span class="pl-c">-- To create a report with the queries in the 95th percentile since last truncate of performance_schema.events_statements_summary_by_digest and the delta for a 1 minute period:</span>
<span class="pl-c">--</span>
<span class="pl-c">--    1. Create a temporary table to store the initial snapshot.</span>
<span class="pl-c">--    2. Create the initial snapshot.</span>
<span class="pl-c">--    3. Save the initial snapshot in the temporary table.</span>
<span class="pl-c">--    4. Wait one minute.</span>
<span class="pl-c">--    5. Create a new snapshot.</span>
<span class="pl-c">--    6. Perform analyzis based on the new snapshot.</span>
<span class="pl-c">--    7. Perform analyzis based on the delta between the initial and new snapshots.</span>

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">statement_performance_analyzer</span>(<span class="pl-s"><span class="pl-pds">'</span>create_tmp<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>mydb.tmp_digests_ini<span class="pl-pds">'</span></span>, <span class="pl-k">NULL</span>);
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">08</span> sec)

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">statement_performance_analyzer</span>(<span class="pl-s"><span class="pl-pds">'</span>snapshot<span class="pl-pds">'</span></span>, <span class="pl-k">NULL</span>, <span class="pl-k">NULL</span>);
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">02</span> sec)

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">statement_performance_analyzer</span>(<span class="pl-s"><span class="pl-pds">'</span>save<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>mydb.tmp_digests_ini<span class="pl-pds">'</span></span>, <span class="pl-k">NULL</span>);
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> DO SLEEP(<span class="pl-c1">60</span>);
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">1</span> min <span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">statement_performance_analyzer</span>(<span class="pl-s"><span class="pl-pds">'</span>snapshot<span class="pl-pds">'</span></span>, <span class="pl-k">NULL</span>, <span class="pl-k">NULL</span>);
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">02</span> sec)

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">statement_performance_analyzer</span>(<span class="pl-s"><span class="pl-pds">'</span>overall<span class="pl-pds">'</span></span>, <span class="pl-k">NULL</span>, <span class="pl-s"><span class="pl-pds">'</span>with_runtimes_in_95th_percentile<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------+</span>
| Next Output                             |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------+</span>
| Queries with Runtime <span class="pl-k">in</span> 95th Percentile |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">05</span> sec)

...

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">statement_performance_analyzer</span>(<span class="pl-s"><span class="pl-pds">'</span>delta<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>mydb.tmp_digests_ini<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>with_runtimes_in_95th_percentile<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------+</span>
| Next Output                             |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------+</span>
| Queries with Runtime <span class="pl-k">in</span> 95th Percentile |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">03</span> sec)

...


<span class="pl-c">-- To create an overall report of the 95th percentile queries and the top 10 queries with full table scans:</span>

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">statement_performance_analyzer</span>(<span class="pl-s"><span class="pl-pds">'</span>snapshot<span class="pl-pds">'</span></span>, <span class="pl-k">NULL</span>, <span class="pl-k">NULL</span>);
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)                                   

mysql<span class="pl-k">&gt;</span> <span class="pl-k">SET</span> @<span class="pl-c1">sys</span>.<span class="pl-c1">statement_performance_analyzer</span>.<span class="pl-k">limit</span> <span class="pl-k">=</span> <span class="pl-c1">10</span>;
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)          

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">statement_performance_analyzer</span>(<span class="pl-s"><span class="pl-pds">'</span>overall<span class="pl-pds">'</span></span>, <span class="pl-k">NULL</span>, <span class="pl-s"><span class="pl-pds">'</span>with_runtimes_in_95th_percentile,with_full_table_scans<span class="pl-pds">'</span></span>);
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------+</span>
| Next Output                             |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------+</span>
| Queries with Runtime <span class="pl-k">in</span> 95th Percentile |
<span class="pl-k">+</span><span class="pl-c">-----------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)

...

<span class="pl-k">+</span><span class="pl-c">-------------------------------------+</span>
| Next Output                         |
<span class="pl-k">+</span><span class="pl-c">-------------------------------------+</span>
| Top <span class="pl-c1">10</span> Queries with Full Table Scan |
<span class="pl-k">+</span><span class="pl-c">-------------------------------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">09</span> sec)

...


<span class="pl-c">-- Use a custom view showing the top 10 query sorted by total execution time refreshing the view every minute using</span>
<span class="pl-c">-- the watch command in Linux.</span>

mysql<span class="pl-k">&gt;</span> CREATE <span class="pl-k">OR</span> REPLACE VIEW <span class="pl-c1">mydb</span>.<span class="pl-c1">my_statements</span> <span class="pl-k">AS</span>
    <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-k">SELECT</span> <span class="pl-c1">sys</span>.<span class="pl-c1">format_statement</span>(DIGEST_TEXT) <span class="pl-k">AS</span> query,
    <span class="pl-k">-</span><span class="pl-k">&gt;</span>        SCHEMA_NAME <span class="pl-k">AS</span> db,
    <span class="pl-k">-</span><span class="pl-k">&gt;</span>        COUNT_STAR <span class="pl-k">AS</span> exec_count,
    <span class="pl-k">-</span><span class="pl-k">&gt;</span>        <span class="pl-c1">sys</span>.<span class="pl-c1">format_time</span>(SUM_TIMER_WAIT) <span class="pl-k">AS</span> total_latency,
    <span class="pl-k">-</span><span class="pl-k">&gt;</span>        <span class="pl-c1">sys</span>.<span class="pl-c1">format_time</span>(AVG_TIMER_WAIT) <span class="pl-k">AS</span> avg_latency,
    <span class="pl-k">-</span><span class="pl-k">&gt;</span>        ROUND(IFNULL(SUM_ROWS_SENT <span class="pl-k">/</span> NULLIF(COUNT_STAR, <span class="pl-c1">0</span>), <span class="pl-c1">0</span>)) <span class="pl-k">AS</span> rows_sent_avg,
    <span class="pl-k">-</span><span class="pl-k">&gt;</span>        ROUND(IFNULL(SUM_ROWS_EXAMINED <span class="pl-k">/</span> NULLIF(COUNT_STAR, <span class="pl-c1">0</span>), <span class="pl-c1">0</span>)) <span class="pl-k">AS</span> rows_examined_avg,
    <span class="pl-k">-</span><span class="pl-k">&gt;</span>        ROUND(IFNULL(SUM_ROWS_AFFECTED <span class="pl-k">/</span> NULLIF(COUNT_STAR, <span class="pl-c1">0</span>), <span class="pl-c1">0</span>)) <span class="pl-k">AS</span> rows_affected_avg,
    <span class="pl-k">-</span><span class="pl-k">&gt;</span>        DIGEST <span class="pl-k">AS</span> digest
    <span class="pl-k">-</span><span class="pl-k">&gt;</span>   <span class="pl-k">FROM</span> <span class="pl-c1">performance_schema</span>.<span class="pl-c1">events_statements_summary_by_digest</span>
    <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-k">ORDER BY</span> SUM_TIMER_WAIT <span class="pl-k">DESC</span>;
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">statement_performance_analyzer</span>(<span class="pl-s"><span class="pl-pds">'</span>create_table<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>mydb.digests_prev<span class="pl-pds">'</span></span>, <span class="pl-k">NULL</span>);
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">10</span> sec)

shell$ watch <span class="pl-k">-</span>n <span class="pl-c1">60</span> <span class="pl-s"><span class="pl-pds">"</span>mysql sys --table -e \<span class="pl-pds">"</span></span>
<span class="pl-k">&gt;</span> <span class="pl-k">SET</span> @<span class="pl-c1">sys</span>.<span class="pl-c1">statement_performance_analyzer</span>.view <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>mydb.my_statements<span class="pl-pds">'</span></span>;
<span class="pl-k">&gt;</span> <span class="pl-k">SET</span> @<span class="pl-c1">sys</span>.<span class="pl-c1">statement_performance_analyzer</span>.<span class="pl-k">limit</span> <span class="pl-k">=</span> <span class="pl-c1">10</span>;
<span class="pl-k">&gt;</span> CALL statement_performance_analyzer(<span class="pl-s"><span class="pl-pds">'</span>snapshot<span class="pl-pds">'</span></span>, <span class="pl-k">NULL</span>, <span class="pl-k">NULL</span>);
<span class="pl-k">&gt;</span> CALL statement_performance_analyzer(<span class="pl-s"><span class="pl-pds">'</span>delta<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>mydb.digests_prev<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>custom<span class="pl-pds">'</span></span>);
<span class="pl-k">&gt;</span> CALL statement_performance_analyzer(<span class="pl-s"><span class="pl-pds">'</span>save<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>mydb.digests_prev<span class="pl-pds">'</span></span>, <span class="pl-k">NULL</span>);
<span class="pl-k">&gt;</span> \<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>

Every <span class="pl-c1">60</span>.0s: mysql sys <span class="pl-c">--table -e "                                                                                                   ...  Mon Dec 22 10:58:51 2014</span>

<span class="pl-k">+</span><span class="pl-c">----------------------------------+</span>
| Next Output                      |
<span class="pl-k">+</span><span class="pl-c">----------------------------------+</span>
| Top <span class="pl-c1">10</span> Queries Using Custom View |
<span class="pl-k">+</span><span class="pl-c">----------------------------------+</span>
<span class="pl-k">+</span><span class="pl-c">-------------------+-------+------------+---------------+-------------+---------------+-------------------+-------------------+----------------------------------+</span>
| query             | db    | exec_count | total_latency | avg_latency | rows_sent_avg | rows_examined_avg | rows_affected_avg | digest                           |
<span class="pl-k">+</span><span class="pl-c">-------------------+-------+------------+---------------+-------------+---------------+-------------------+-------------------+----------------------------------+</span>
...</pre></div>

<h4>
<a id="table_exists" class="anchor" href="#table_exists" aria-hidden="true"><span class="octicon octicon-link"></span></a>table_exists</h4>

<h5>
<a id="description-97" class="anchor" href="#description-97" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h5>

<p>Tests whether the table specified in in_db and in_table exists either as a regular
table, or as a temporary table. The returned value corresponds to the table that
will be used, so if there's both a temporary and a permanent table with the given
name, then 'TEMPORARY' will be returned.</p>

<h5>
<a id="parameters-42" class="anchor" href="#parameters-42" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h5>

<ul>
<li><p>in_db (VARCHAR(64)): The database name to check for the existance of the table in.</p></li>
<li><p>in_table (VARCHAR(64)): The name of the table to check the existance of.</p></li>
<li>
<p>out_exists ENUM('', 'BASE TABLE', 'VIEW', 'TEMPORARY'):  The return value: whether the table exists. The value is one of:</p>

<ul>
<li>''           - the table does not exist neither as a base table, view, nor temporary table.</li>
<li>'BASE TABLE' - the table name exists as a permanent base table table.</li>
<li>'VIEW'       - the table name exists as a view.</li>
<li>'TEMPORARY'  - the table name exists as a temporary table.</li>
</ul>
</li>
</ul>

<h5>
<a id="example-96" class="anchor" href="#example-96" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h5>

<div class="highlight highlight-source-sql"><pre>mysql<span class="pl-k">&gt;</span> CREATE DATABASE db1;
Query OK, <span class="pl-c1">1</span> row affected (<span class="pl-c1">0</span>.<span class="pl-c1">07</span> sec)

mysql<span class="pl-k">&gt;</span> use db1;
Database changed
mysql<span class="pl-k">&gt;</span> CREATE TABLE t1 (id <span class="pl-k">INT</span> <span class="pl-k">PRIMARY KEY</span>);
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">08</span> sec)

mysql<span class="pl-k">&gt;</span> CREATE TABLE t2 (id <span class="pl-k">INT</span> <span class="pl-k">PRIMARY KEY</span>);
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">08</span> sec)

mysql<span class="pl-k">&gt;</span> CREATE view v_t1 <span class="pl-k">AS</span> <span class="pl-k">SELECT</span> <span class="pl-k">*</span> <span class="pl-k">FROM</span> t1;
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> CREATE TEMPORARY TABLE t1 (id <span class="pl-k">INT</span> <span class="pl-k">PRIMARY KEY</span>);
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">table_exists</span>(<span class="pl-s"><span class="pl-pds">'</span>db1<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>t1<span class="pl-pds">'</span></span>, @exists); <span class="pl-k">SELECT</span> @exists;
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

<span class="pl-k">+</span><span class="pl-c">------------+</span>
| @exists    |
<span class="pl-k">+</span><span class="pl-c">------------+</span>
| TEMPORARY  |
<span class="pl-k">+</span><span class="pl-c">------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">table_exists</span>(<span class="pl-s"><span class="pl-pds">'</span>db1<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>t2<span class="pl-pds">'</span></span>, @exists); <span class="pl-k">SELECT</span> @exists;
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

<span class="pl-k">+</span><span class="pl-c">------------+</span>
| @exists    |
<span class="pl-k">+</span><span class="pl-c">------------+</span>
| BASE TABLE |
<span class="pl-k">+</span><span class="pl-c">------------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">table_exists</span>(<span class="pl-s"><span class="pl-pds">'</span>db1<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>v_t1<span class="pl-pds">'</span></span>, @exists); <span class="pl-k">SELECT</span> @exists;
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

<span class="pl-k">+</span><span class="pl-c">---------+</span>
| @exists |
<span class="pl-k">+</span><span class="pl-c">---------+</span>
| VIEW    |
<span class="pl-k">+</span><span class="pl-c">---------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)

mysql<span class="pl-k">&gt;</span> CALL <span class="pl-c1">sys</span>.<span class="pl-c1">table_exists</span>(<span class="pl-s"><span class="pl-pds">'</span>db1<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>t3<span class="pl-pds">'</span></span>, @exists); <span class="pl-k">SELECT</span> @exists;
Query OK, <span class="pl-c1">0</span> rows affected (<span class="pl-c1">0</span>.<span class="pl-c1">01</span> sec)

<span class="pl-k">+</span><span class="pl-c">---------+</span>
| @exists |
<span class="pl-k">+</span><span class="pl-c">---------+</span>
|         |
<span class="pl-k">+</span><span class="pl-c">---------+</span>
<span class="pl-c1">1</span> row <span class="pl-k">in</span> <span class="pl-k">set</span> (<span class="pl-c1">0</span>.<span class="pl-c1">00</span> sec)</pre></div>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/MarkLeith/mysql-sys">mysql-sys</a> is maintained by <a href="https://github.com/MarkLeith">MarkLeith</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
